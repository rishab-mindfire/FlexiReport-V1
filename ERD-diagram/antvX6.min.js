!(function (t, e) {
  'object' == typeof exports && 'undefined' != typeof module
    ? e(exports)
    : 'function' == typeof define && define.amd
    ? define(['exports'], e)
    : e(
        ((t = 'undefined' != typeof globalThis ? globalThis : t || self).X6 =
          {})
      );
})(this, function (t) {
  'use strict';
  var e =
    function (t, n) {
      return (e =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (t, e) {
            t.__proto__ = e;
          }) ||
        function (t, e) {
          for (var n in e)
            Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        })(t, n);
    };
  function n(t, n) {
    if ('function' != typeof n && null !== n)
      throw TypeError(
        'Class extends value ' + String(n) + ' is not a constructor or null'
      );
    function i() {
      this.constructor = t;
    }
    e(t, n),
      (t.prototype =
        null === n ? Object.create(n) : ((i.prototype = n.prototype), new i()));
  }
  var i = function () {
    return (i =
      Object.assign ||
      function (t) {
        for (var e, n = 1, i = arguments.length; n < i; n++)
          for (var r in (e = arguments[n]))
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
        return t;
      }).apply(this, arguments);
  };
  function r(t, e) {
    var n = {};
    for (var i in t)
      Object.prototype.hasOwnProperty.call(t, i) &&
        0 > e.indexOf(i) &&
        (n[i] = t[i]);
    if (null != t && 'function' == typeof Object.getOwnPropertySymbols) {
      var r = 0;
      for (i = Object.getOwnPropertySymbols(t); r < i.length; r++)
        0 > e.indexOf(i[r]) &&
          Object.prototype.propertyIsEnumerable.call(t, i[r]) &&
          (n[i[r]] = t[i[r]]);
    }
    return n;
  }
  function o(t, e, n, i) {
    var r,
      o = arguments.length,
      s =
        o < 3
          ? e
          : null === i
          ? (i = Object.getOwnPropertyDescriptor(e, n))
          : i;
    if ('object' == typeof Reflect && 'function' == typeof Reflect.decorate)
      s = Reflect.decorate(t, e, n, i);
    else
      for (var a = t.length - 1; a >= 0; a--)
        (r = t[a]) && (s = (o < 3 ? r(s) : o > 3 ? r(e, n, s) : r(e, n)) || s);
    return o > 3 && s && Object.defineProperty(e, n, s), s;
  }
  function s(t, e, n) {
    if (n || 2 === arguments.length)
      for (var i, r = 0, o = e.length; r < o; r++)
        (!i && r in e) ||
          (i || (i = Array.prototype.slice.call(e, 0, r)), (i[r] = e[r]));
    return t.concat(i || Array.prototype.slice.call(e));
  }
  var a,
    l,
    u,
    c =
      'undefined' != typeof globalThis
        ? globalThis
        : 'undefined' != typeof window
        ? window
        : 'undefined' != typeof global
        ? global
        : 'undefined' != typeof self
        ? self
        : {},
    h = { exports: {} };
  (a = h),
    (l = 'undefined' != typeof window ? window : c),
    (u = function (t, e) {
      var n = [],
        i = Object.getPrototypeOf,
        r = n.slice,
        o = function (t) {
          return n.concat.apply([], t);
        },
        s = n.push,
        a = n.indexOf,
        l = {},
        u = l.toString,
        c = l.hasOwnProperty,
        h = c.toString,
        p = h.call(Object),
        d = {},
        f = function (t) {
          return (
            'function' == typeof t &&
            'number' != typeof t.nodeType &&
            'function' != typeof t.item
          );
        },
        g = function (t) {
          return null != t && t === t.window;
        },
        $ = t.document,
        v = { type: !0, src: !0, nonce: !0, noModule: !0 };
      function y(t, e, n) {
        var i,
          r,
          o = (n = n || $).createElement('script');
        if (((o.text = t), e))
          for (i in v)
            (r = e[i] || (e.getAttribute && e.getAttribute(i))) &&
              o.setAttribute(i, r);
        n.head.appendChild(o).parentNode.removeChild(o);
      }
      function m(t) {
        return null == t
          ? t + ''
          : 'object' == typeof t || 'function' == typeof t
          ? l[u.call(t)] || 'object'
          : typeof t;
      }
      var _ = '3.6.0',
        C = function (t, e) {
          return new C.fn.init(t, e);
        };
      function b(t) {
        var e = !!t && 'length' in t && t.length,
          n = m(t);
        return (
          !f(t) &&
          !g(t) &&
          ('array' === n ||
            0 === e ||
            ('number' == typeof e && e > 0 && e - 1 in t))
        );
      }
      (C.fn = C.prototype =
        {
          jquery: _,
          constructor: C,
          length: 0,
          toArray: function () {
            return r.call(this);
          },
          get: function (t) {
            return null == t
              ? r.call(this)
              : t < 0
              ? this[t + this.length]
              : this[t];
          },
          pushStack: function (t) {
            var e = C.merge(this.constructor(), t);
            return (e.prevObject = this), e;
          },
          each: function (t) {
            return C.each(this, t);
          },
          map: function (t) {
            return this.pushStack(
              C.map(this, function (e, n) {
                return t.call(e, n, e);
              })
            );
          },
          slice: function () {
            return this.pushStack(r.apply(this, arguments));
          },
          first: function () {
            return this.eq(0);
          },
          last: function () {
            return this.eq(-1);
          },
          even: function () {
            return this.pushStack(
              C.grep(this, function (t, e) {
                return (e + 1) % 2;
              })
            );
          },
          odd: function () {
            return this.pushStack(
              C.grep(this, function (t, e) {
                return e % 2;
              })
            );
          },
          eq: function (t) {
            var e = this.length,
              n = +t + (t < 0 ? e : 0);
            return this.pushStack(n >= 0 && n < e ? [this[n]] : []);
          },
          end: function () {
            return this.prevObject || this.constructor();
          },
          push: s,
          sort: n.sort,
          splice: n.splice,
        }),
        (C.extend = C.fn.extend =
          function () {
            var t,
              e,
              n,
              i,
              r,
              o,
              s = arguments[0] || {},
              a = 1,
              l = arguments.length,
              u = !1;
            for (
              'boolean' == typeof s && ((u = s), (s = arguments[a] || {}), a++),
                'object' == typeof s || f(s) || (s = {}),
                a === l && ((s = this), a--);
              a < l;
              a++
            )
              if (null != (t = arguments[a]))
                for (e in t)
                  (i = t[e]),
                    '__proto__' !== e &&
                      s !== i &&
                      (u && i && (C.isPlainObject(i) || (r = Array.isArray(i)))
                        ? ((n = s[e]),
                          (o =
                            r && !Array.isArray(n)
                              ? []
                              : r || C.isPlainObject(n)
                              ? n
                              : {}),
                          (r = !1),
                          (s[e] = C.extend(u, o, i)))
                        : void 0 !== i && (s[e] = i));
            return s;
          }),
        C.extend({
          expando: 'jQuery' + (_ + Math.random()).replace(/\D/g, ''),
          isReady: !0,
          error: function (t) {
            throw Error(t);
          },
          noop: function () {},
          isPlainObject: function (t) {
            var e, n;
            return (
              !(!t || '[object Object]' !== u.call(t)) &&
              (!(e = i(t)) ||
                ('function' ==
                  typeof (n = c.call(e, 'constructor') && e.constructor) &&
                  h.call(n) === p))
            );
          },
          isEmptyObject: function (t) {
            var e;
            for (e in t) return !1;
            return !0;
          },
          globalEval: function (t, e, n) {
            y(t, { nonce: e && e.nonce }, n);
          },
          each: function (t, e) {
            var n,
              i = 0;
            if (b(t))
              for (n = t.length; i < n && !1 !== e.call(t[i], i, t[i]); i++);
            else for (i in t) if (!1 === e.call(t[i], i, t[i])) break;
            return t;
          },
          makeArray: function (t, e) {
            var n = e || [];
            return (
              null != t &&
                (b(Object(t))
                  ? C.merge(n, 'string' == typeof t ? [t] : t)
                  : s.call(n, t)),
              n
            );
          },
          inArray: function (t, e, n) {
            return null == e ? -1 : a.call(e, t, n);
          },
          merge: function (t, e) {
            for (var n = +e.length, i = 0, r = t.length; i < n; i++)
              t[r++] = e[i];
            return (t.length = r), t;
          },
          grep: function (t, e, n) {
            for (var i = [], r = 0, o = t.length, s = !n; r < o; r++)
              !e(t[r], r) !== s && i.push(t[r]);
            return i;
          },
          map: function (t, e, n) {
            var i,
              r,
              s = 0,
              a = [];
            if (b(t))
              for (i = t.length; s < i; s++)
                null != (r = e(t[s], s, n)) && a.push(r);
            else for (s in t) null != (r = e(t[s], s, n)) && a.push(r);
            return o(a);
          },
          guid: 1,
          support: d,
        }),
        'function' == typeof Symbol &&
          (C.fn[Symbol.iterator] = n[Symbol.iterator]),
        C.each(
          'Boolean Number String Function Array Date RegExp Object Error Symbol'.split(
            ' '
          ),
          function (t, e) {
            l['[object ' + e + ']'] = e.toLowerCase();
          }
        );
      var x = /*!
       * Sizzle CSS Selector Engine v2.3.6
       * https://sizzlejs.com/
       *
       * Copyright JS Foundation and other contributors
       * Released under the MIT license
       * https://js.foundation/
       *
       * Date: 2021-02-16
       */ (function (t) {
        var e,
          n,
          i,
          r,
          o,
          s,
          a,
          l,
          u,
          c,
          h,
          p,
          d,
          f,
          g,
          $,
          v,
          y,
          m,
          _ = 'sizzle' + 1 * new Date(),
          C = t.document,
          b = 0,
          x = 0,
          w = tu(),
          P = tu(),
          A = tu(),
          E = tu(),
          S = function (t, e) {
            return t === e && (h = !0), 0;
          },
          k = {}.hasOwnProperty,
          T = [],
          M = T.pop,
          D = T.push,
          N = T.push,
          L = T.slice,
          F = function (t, e) {
            for (var n = 0, i = t.length; n < i; n++) if (t[n] === e) return n;
            return -1;
          },
          z =
            'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',
          B = '[\\x20\\t\\r\\n\\f]',
          O =
            '(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+',
          V =
            '\\[[\\x20\\t\\r\\n\\f]*(' +
            O +
            ')(?:' +
            B +
            '*([*^$|!~]?=)' +
            B +
            '*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|(' +
            O +
            '))|)' +
            B +
            '*\\]',
          R =
            ':(' +
            O +
            ')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|' +
            V +
            ')*)|.*)\\)|)',
          I = RegExp(B + '+', 'g'),
          G = RegExp(
            '^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$',
            'g'
          ),
          j = RegExp('^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*'),
          H = RegExp(
            '^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*'
          ),
          U = RegExp(B + '|>'),
          q = RegExp(R),
          W = RegExp('^' + O + '$'),
          X = {
            ID: RegExp('^#(' + O + ')'),
            CLASS: RegExp('^\\.(' + O + ')'),
            TAG: RegExp('^(' + O + '|[*])'),
            ATTR: RegExp('^' + V),
            PSEUDO: RegExp('^' + R),
            CHILD: RegExp(
              '^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)',
              'i'
            ),
            bool: RegExp('^(?:' + z + ')$', 'i'),
            needsContext: RegExp(
              '^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)',
              'i'
            ),
          },
          Y = /HTML$/i,
          J = /^(?:input|select|textarea|button)$/i,
          Z = /^h\d$/i,
          K = /^[^{]+\{\s*\[native \w/,
          Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
          tt = /[+~]/,
          te = RegExp(
            '\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])',
            'g'
          ),
          tn = function (t, e) {
            var n = '0x' + t.slice(1) - 65536;
            return (
              e ||
              (n < 0
                ? String.fromCharCode(n + 65536)
                : String.fromCharCode((n >> 10) | 55296, (1023 & n) | 56320))
            );
          },
          ti = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
          tr = function (t, e) {
            return e
              ? '\0' === t
                ? 'ï¿½'
                : t.slice(0, -1) +
                  '\\' +
                  t.charCodeAt(t.length - 1).toString(16) +
                  ' '
              : '\\' + t;
          },
          to = function () {
            p();
          },
          ts = t_(
            function (t) {
              return (
                !0 === t.disabled && 'fieldset' === t.nodeName.toLowerCase()
              );
            },
            { dir: 'parentNode', next: 'legend' }
          );
        try {
          N.apply((T = L.call(C.childNodes)), C.childNodes),
            T[C.childNodes.length].nodeType;
        } catch (ta) {
          N = {
            apply: T.length
              ? function (t, e) {
                  D.apply(t, L.call(e));
                }
              : function (t, e) {
                  for (var n = t.length, i = 0; (t[n++] = e[i++]); );
                  t.length = n - 1;
                },
          };
        }
        function tl(t, e, i, r) {
          var o,
            a,
            u,
            c,
            h,
            f,
            v,
            y = e && e.ownerDocument,
            C = e ? e.nodeType : 9;
          if (
            ((i = i || []),
            'string' != typeof t || !t || (1 !== C && 9 !== C && 11 !== C))
          )
            return i;
          if (!r && (p(e), (e = e || d), g)) {
            if (11 !== C && (h = Q.exec(t))) {
              if ((o = h[1])) {
                if (9 === C) {
                  if (!(u = e.getElementById(o))) return i;
                  if (u.id === o) return i.push(u), i;
                } else if (
                  y &&
                  (u = y.getElementById(o)) &&
                  m(e, u) &&
                  u.id === o
                )
                  return i.push(u), i;
              } else {
                if (h[2]) return N.apply(i, e.getElementsByTagName(t)), i;
                if (
                  (o = h[3]) &&
                  n.getElementsByClassName &&
                  e.getElementsByClassName
                )
                  return N.apply(i, e.getElementsByClassName(o)), i;
              }
            }
            if (
              n.qsa &&
              !E[t + ' '] &&
              (!$ || !$.test(t)) &&
              (1 !== C || 'object' !== e.nodeName.toLowerCase())
            ) {
              if (((v = t), (y = e), 1 === C && (U.test(t) || H.test(t)))) {
                for (
                  ((y = (tt.test(t) && tv(e.parentNode)) || e) === e &&
                    n.scope) ||
                    ((c = e.getAttribute('id'))
                      ? (c = c.replace(ti, tr))
                      : e.setAttribute('id', (c = _))),
                    a = (f = s(t)).length;
                  a--;

                )
                  f[a] = (c ? '#' + c : ':scope') + ' ' + tm(f[a]);
                v = f.join(',');
              }
              try {
                return N.apply(i, y.querySelectorAll(v)), i;
              } catch (b) {
                E(t, !0);
              } finally {
                c === _ && e.removeAttribute('id');
              }
            }
          }
          return l(t.replace(G, '$1'), e, i, r);
        }
        function tu() {
          var t = [];
          return function e(n, r) {
            return (
              t.push(n + ' ') > i.cacheLength && delete e[t.shift()],
              (e[n + ' '] = r)
            );
          };
        }
        function tc(t) {
          return (t[_] = !0), t;
        }
        function th(t) {
          var e = d.createElement('fieldset');
          try {
            return !!t(e);
          } catch (n) {
            return !1;
          } finally {
            e.parentNode && e.parentNode.removeChild(e), (e = null);
          }
        }
        function tp(t, e) {
          for (var n = t.split('|'), r = n.length; r--; )
            i.attrHandle[n[r]] = e;
        }
        function td(t, e) {
          var n = e && t,
            i =
              n &&
              1 === t.nodeType &&
              1 === e.nodeType &&
              t.sourceIndex - e.sourceIndex;
          if (i) return i;
          if (n) {
            for (; (n = n.nextSibling); ) if (n === e) return -1;
          }
          return t ? 1 : -1;
        }
        function tf(t) {
          return function (e) {
            return 'input' === e.nodeName.toLowerCase() && e.type === t;
          };
        }
        function tg(t) {
          return function (e) {
            var n = e.nodeName.toLowerCase();
            return ('input' === n || 'button' === n) && e.type === t;
          };
        }
        function t$(t) {
          return function (e) {
            return 'form' in e
              ? e.parentNode && !1 === e.disabled
                ? 'label' in e
                  ? 'label' in e.parentNode
                    ? e.parentNode.disabled === t
                    : e.disabled === t
                  : e.isDisabled === t || (!t !== e.isDisabled && ts(e) === t)
                : e.disabled === t
              : 'label' in e && e.disabled === t;
          };
        }
        function t0(t) {
          return tc(function (e) {
            return (
              (e = +e),
              tc(function (n, i) {
                for (var r, o = t([], n.length, e), s = o.length; s--; )
                  n[(r = o[s])] && (n[r] = !(i[r] = n[r]));
              })
            );
          });
        }
        function tv(t) {
          return t && void 0 !== t.getElementsByTagName && t;
        }
        for (e in ((n = tl.support = {}),
        (o = tl.isXML =
          function (t) {
            var e = t && t.namespaceURI,
              n = t && (t.ownerDocument || t).documentElement;
            return !Y.test(e || (n && n.nodeName) || 'HTML');
          }),
        (p = tl.setDocument =
          function (t) {
            var e,
              r,
              s = t ? t.ownerDocument || t : C;
            return (
              s != d &&
                9 === s.nodeType &&
                s.documentElement &&
                ((f = (d = s).documentElement),
                (g = !o(d)),
                C != d &&
                  (r = d.defaultView) &&
                  r.top !== r &&
                  (r.addEventListener
                    ? r.addEventListener('unload', to, !1)
                    : r.attachEvent && r.attachEvent('onunload', to)),
                (n.scope = th(function (t) {
                  return (
                    f.appendChild(t).appendChild(d.createElement('div')),
                    void 0 !== t.querySelectorAll &&
                      !t.querySelectorAll(':scope fieldset div').length
                  );
                })),
                (n.attributes = th(function (t) {
                  return (t.className = 'i'), !t.getAttribute('className');
                })),
                (n.getElementsByTagName = th(function (t) {
                  return (
                    t.appendChild(d.createComment('')),
                    !t.getElementsByTagName('*').length
                  );
                })),
                (n.getElementsByClassName = K.test(d.getElementsByClassName)),
                (n.getById = th(function (t) {
                  return (
                    (f.appendChild(t).id = _),
                    !d.getElementsByName || !d.getElementsByName(_).length
                  );
                })),
                n.getById
                  ? ((i.filter.ID = function (t) {
                      var e = t.replace(te, tn);
                      return function (t) {
                        return t.getAttribute('id') === e;
                      };
                    }),
                    (i.find.ID = function (t, e) {
                      if (void 0 !== e.getElementById && g) {
                        var n = e.getElementById(t);
                        return n ? [n] : [];
                      }
                    }))
                  : ((i.filter.ID = function (t) {
                      var e = t.replace(te, tn);
                      return function (t) {
                        var n =
                          void 0 !== t.getAttributeNode &&
                          t.getAttributeNode('id');
                        return n && n.value === e;
                      };
                    }),
                    (i.find.ID = function (t, e) {
                      if (void 0 !== e.getElementById && g) {
                        var n,
                          i,
                          r,
                          o = e.getElementById(t);
                        if (o) {
                          if ((n = o.getAttributeNode('id')) && n.value === t)
                            return [o];
                          for (
                            r = e.getElementsByName(t), i = 0;
                            (o = r[i++]);

                          )
                            if ((n = o.getAttributeNode('id')) && n.value === t)
                              return [o];
                        }
                        return [];
                      }
                    })),
                (i.find.TAG = n.getElementsByTagName
                  ? function (t, e) {
                      return void 0 !== e.getElementsByTagName
                        ? e.getElementsByTagName(t)
                        : n.qsa
                        ? e.querySelectorAll(t)
                        : void 0;
                    }
                  : function (t, e) {
                      var n,
                        i = [],
                        r = 0,
                        o = e.getElementsByTagName(t);
                      if ('*' === t) {
                        for (; (n = o[r++]); ) 1 === n.nodeType && i.push(n);
                        return i;
                      }
                      return o;
                    }),
                (i.find.CLASS =
                  n.getElementsByClassName &&
                  function (t, e) {
                    if (void 0 !== e.getElementsByClassName && g)
                      return e.getElementsByClassName(t);
                  }),
                (v = []),
                ($ = []),
                (n.qsa = K.test(d.querySelectorAll)) &&
                  (th(function (t) {
                    var e;
                    (f.appendChild(t).innerHTML =
                      "<a id='" +
                      _ +
                      "'></a><select id='" +
                      _ +
                      "-\r\\' msallowcapture=''><option selected=''></option></select>"),
                      t.querySelectorAll("[msallowcapture^='']").length &&
                        $.push('[*^$]=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")'),
                      t.querySelectorAll('[selected]').length ||
                        $.push('\\[[\\x20\\t\\r\\n\\f]*(?:value|' + z + ')'),
                      t.querySelectorAll('[id~=' + _ + '-]').length ||
                        $.push('~='),
                      (e = d.createElement('input')).setAttribute('name', ''),
                      t.appendChild(e),
                      t.querySelectorAll("[name='']").length ||
                        $.push(
                          '\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:\'\'|"")'
                        ),
                      t.querySelectorAll(':checked').length ||
                        $.push(':checked'),
                      t.querySelectorAll('a#' + _ + '+*').length ||
                        $.push('.#.+[+~]'),
                      t.querySelectorAll('\\\f'),
                      $.push('[\\r\\n\\f]');
                  }),
                  th(function (t) {
                    t.innerHTML =
                      "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                    var e = d.createElement('input');
                    e.setAttribute('type', 'hidden'),
                      t.appendChild(e).setAttribute('name', 'D'),
                      t.querySelectorAll('[name=d]').length &&
                        $.push('name[\\x20\\t\\r\\n\\f]*[*^$|!~]?='),
                      2 !== t.querySelectorAll(':enabled').length &&
                        $.push(':enabled', ':disabled'),
                      (f.appendChild(t).disabled = !0),
                      2 !== t.querySelectorAll(':disabled').length &&
                        $.push(':enabled', ':disabled'),
                      t.querySelectorAll('*,:x'),
                      $.push(',.*:');
                  })),
                (n.matchesSelector = K.test(
                  (y =
                    f.matches ||
                    f.webkitMatchesSelector ||
                    f.mozMatchesSelector ||
                    f.oMatchesSelector ||
                    f.msMatchesSelector)
                )) &&
                  th(function (t) {
                    (n.disconnectedMatch = y.call(t, '*')),
                      y.call(t, "[s!='']:x"),
                      v.push('!=', R);
                  }),
                ($ = $.length && RegExp($.join('|'))),
                (v = v.length && RegExp(v.join('|'))),
                (m =
                  (e = K.test(f.compareDocumentPosition)) || K.test(f.contains)
                    ? function (t, e) {
                        var n = 9 === t.nodeType ? t.documentElement : t,
                          i = e && e.parentNode;
                        return (
                          t === i ||
                          !(
                            !i ||
                            1 !== i.nodeType ||
                            !(n.contains
                              ? n.contains(i)
                              : t.compareDocumentPosition &&
                                16 & t.compareDocumentPosition(i))
                          )
                        );
                      }
                    : function (t, e) {
                        if (e) {
                          for (; (e = e.parentNode); ) if (e === t) return !0;
                        }
                        return !1;
                      }),
                (S = e
                  ? function (t, e) {
                      if (t === e) return (h = !0), 0;
                      var i =
                        !t.compareDocumentPosition - !e.compareDocumentPosition;
                      return (
                        i ||
                        (1 &
                          (i =
                            (t.ownerDocument || t) == (e.ownerDocument || e)
                              ? t.compareDocumentPosition(e)
                              : 1) ||
                        (!n.sortDetached && e.compareDocumentPosition(t) === i)
                          ? t == d || (t.ownerDocument == C && m(C, t))
                            ? -1
                            : e == d || (e.ownerDocument == C && m(C, e))
                            ? 1
                            : c
                            ? F(c, t) - F(c, e)
                            : 0
                          : 4 & i
                          ? -1
                          : 1)
                      );
                    }
                  : function (t, e) {
                      if (t === e) return (h = !0), 0;
                      var n,
                        i = 0,
                        r = t.parentNode,
                        o = e.parentNode,
                        s = [t],
                        a = [e];
                      if (!r || !o)
                        return t == d
                          ? -1
                          : e == d
                          ? 1
                          : r
                          ? -1
                          : o
                          ? 1
                          : c
                          ? F(c, t) - F(c, e)
                          : 0;
                      if (r === o) return td(t, e);
                      for (n = t; (n = n.parentNode); ) s.unshift(n);
                      for (n = e; (n = n.parentNode); ) a.unshift(n);
                      for (; s[i] === a[i]; ) i++;
                      return i
                        ? td(s[i], a[i])
                        : s[i] == C
                        ? -1
                        : a[i] == C
                        ? 1
                        : 0;
                    })),
              d
            );
          }),
        (tl.matches = function (t, e) {
          return tl(t, null, null, e);
        }),
        (tl.matchesSelector = function (t, e) {
          if (
            (p(t),
            n.matchesSelector &&
              g &&
              !E[e + ' '] &&
              (!v || !v.test(e)) &&
              (!$ || !$.test(e)))
          )
            try {
              var i = y.call(t, e);
              if (
                i ||
                n.disconnectedMatch ||
                (t.document && 11 !== t.document.nodeType)
              )
                return i;
            } catch (r) {
              E(e, !0);
            }
          return tl(e, d, null, [t]).length > 0;
        }),
        (tl.contains = function (t, e) {
          return (t.ownerDocument || t) != d && p(t), m(t, e);
        }),
        (tl.attr = function (t, e) {
          (t.ownerDocument || t) != d && p(t);
          var r = i.attrHandle[e.toLowerCase()],
            o =
              r && k.call(i.attrHandle, e.toLowerCase()) ? r(t, e, !g) : void 0;
          return void 0 !== o
            ? o
            : n.attributes || !g
            ? t.getAttribute(e)
            : (o = t.getAttributeNode(e)) && o.specified
            ? o.value
            : null;
        }),
        (tl.escape = function (t) {
          return (t + '').replace(ti, tr);
        }),
        (tl.error = function (t) {
          throw Error('Syntax error, unrecognized expression: ' + t);
        }),
        (tl.uniqueSort = function (t) {
          var e,
            i = [],
            r = 0,
            o = 0;
          if (
            ((h = !n.detectDuplicates),
            (c = !n.sortStable && t.slice(0)),
            t.sort(S),
            h)
          ) {
            for (; (e = t[o++]); ) e === t[o] && (r = i.push(o));
            for (; r--; ) t.splice(i[r], 1);
          }
          return (c = null), t;
        }),
        (r = tl.getText =
          function (t) {
            var e,
              n = '',
              i = 0,
              o = t.nodeType;
            if (o) {
              if (1 === o || 9 === o || 11 === o) {
                if ('string' == typeof t.textContent) return t.textContent;
                for (t = t.firstChild; t; t = t.nextSibling) n += r(t);
              } else if (3 === o || 4 === o) return t.nodeValue;
            } else for (; (e = t[i++]); ) n += r(e);
            return n;
          }),
        ((i = tl.selectors =
          {
            cacheLength: 50,
            createPseudo: tc,
            match: X,
            attrHandle: {},
            find: {},
            relative: {
              '>': { dir: 'parentNode', first: !0 },
              ' ': { dir: 'parentNode' },
              '+': { dir: 'previousSibling', first: !0 },
              '~': { dir: 'previousSibling' },
            },
            preFilter: {
              ATTR: function (t) {
                return (
                  (t[1] = t[1].replace(te, tn)),
                  (t[3] = (t[3] || t[4] || t[5] || '').replace(te, tn)),
                  '~=' === t[2] && (t[3] = ' ' + t[3] + ' '),
                  t.slice(0, 4)
                );
              },
              CHILD: function (t) {
                return (
                  (t[1] = t[1].toLowerCase()),
                  'nth' === t[1].slice(0, 3)
                    ? (t[3] || tl.error(t[0]),
                      (t[4] = +(t[4]
                        ? t[5] + (t[6] || 1)
                        : 2 * ('even' === t[3] || 'odd' === t[3]))),
                      (t[5] = +(t[7] + t[8] || 'odd' === t[3])))
                    : t[3] && tl.error(t[0]),
                  t
                );
              },
              PSEUDO: function (t) {
                var e,
                  n = !t[6] && t[2];
                return X.CHILD.test(t[0])
                  ? null
                  : (t[3]
                      ? (t[2] = t[4] || t[5] || '')
                      : n &&
                        q.test(n) &&
                        (e = s(n, !0)) &&
                        (e = n.indexOf(')', n.length - e) - n.length) &&
                        ((t[0] = t[0].slice(0, e)), (t[2] = n.slice(0, e))),
                    t.slice(0, 3));
              },
            },
            filter: {
              TAG: function (t) {
                var e = t.replace(te, tn).toLowerCase();
                return '*' === t
                  ? function () {
                      return !0;
                    }
                  : function (t) {
                      return t.nodeName && t.nodeName.toLowerCase() === e;
                    };
              },
              CLASS: function (t) {
                var e = w[t + ' '];
                return (
                  e ||
                  ((e = RegExp(
                    '(^|[\\x20\\t\\r\\n\\f])' + t + '(' + B + '|$)'
                  )),
                  w(t, function (t) {
                    return e.test(
                      ('string' == typeof t.className && t.className) ||
                        (void 0 !== t.getAttribute &&
                          t.getAttribute('class')) ||
                        ''
                    );
                  }))
                );
              },
              ATTR: function (t, e, n) {
                return function (i) {
                  var r = tl.attr(i, t);
                  return null == r
                    ? '!=' === e
                    : !e ||
                        ((r += ''),
                        '=' === e
                          ? r === n
                          : '!=' === e
                          ? r !== n
                          : '^=' === e
                          ? n && 0 === r.indexOf(n)
                          : '*=' === e
                          ? n && r.indexOf(n) > -1
                          : '$=' === e
                          ? n && r.slice(-n.length) === n
                          : '~=' === e
                          ? (' ' + r.replace(I, ' ') + ' ').indexOf(n) > -1
                          : '|=' === e &&
                            (r === n || r.slice(0, n.length + 1) === n + '-'));
                };
              },
              CHILD: function (t, e, n, i, r) {
                var o = 'nth' !== t.slice(0, 3),
                  s = 'last' !== t.slice(-4),
                  a = 'of-type' === e;
                return 1 === i && 0 === r
                  ? function (t) {
                      return !!t.parentNode;
                    }
                  : function (e, n, l) {
                      var u,
                        c,
                        h,
                        p,
                        d,
                        f,
                        g = o !== s ? 'nextSibling' : 'previousSibling',
                        $ = e.parentNode,
                        v = a && e.nodeName.toLowerCase(),
                        y = !l && !a,
                        m = !1;
                      if ($) {
                        if (o) {
                          for (; g; ) {
                            for (p = e; (p = p[g]); )
                              if (
                                a
                                  ? p.nodeName.toLowerCase() === v
                                  : 1 === p.nodeType
                              )
                                return !1;
                            f = g = 'only' === t && !f && 'nextSibling';
                          }
                          return !0;
                        }
                        if (((f = [s ? $.firstChild : $.lastChild]), s && y)) {
                          for (
                            m =
                              (d =
                                (u =
                                  (c =
                                    (h = (p = $)[_] || (p[_] = {}))[
                                      p.uniqueID
                                    ] || (h[p.uniqueID] = {}))[t] || [])[0] ===
                                  b && u[1]) && u[2],
                              p = d && $.childNodes[d];
                            (p = (++d && p && p[g]) || (m = d = 0) || f.pop());

                          )
                            if (1 === p.nodeType && ++m && p === e) {
                              c[t] = [b, d, m];
                              break;
                            }
                        } else if (
                          (y &&
                            (m = d =
                              (u =
                                (c =
                                  (h = (p = e)[_] || (p[_] = {}))[p.uniqueID] ||
                                  (h[p.uniqueID] = {}))[t] || [])[0] === b &&
                              u[1]),
                          !1 === m)
                        )
                          for (
                            ;
                            (p =
                              (++d && p && p[g]) || (m = d = 0) || f.pop()) &&
                            ((a
                              ? p.nodeName.toLowerCase() !== v
                              : 1 !== p.nodeType) ||
                              !++m ||
                              (y &&
                                ((c =
                                  (h = p[_] || (p[_] = {}))[p.uniqueID] ||
                                  (h[p.uniqueID] = {}))[t] = [b, m]),
                              p !== e));

                          );
                        return (m -= r) === i || (m % i == 0 && m / i >= 0);
                      }
                    };
              },
              PSEUDO: function (t, e) {
                var n,
                  r =
                    i.pseudos[t] ||
                    i.setFilters[t.toLowerCase()] ||
                    tl.error('unsupported pseudo: ' + t);
                return r[_]
                  ? r(e)
                  : r.length > 1
                  ? ((n = [t, t, '', e]),
                    i.setFilters.hasOwnProperty(t.toLowerCase())
                      ? tc(function (t, n) {
                          for (var i, o = r(t, e), s = o.length; s--; )
                            t[(i = F(t, o[s]))] = !(n[i] = o[s]);
                        })
                      : function (t) {
                          return r(t, 0, n);
                        })
                  : r;
              },
            },
            pseudos: {
              not: tc(function (t) {
                var e = [],
                  n = [],
                  i = a(t.replace(G, '$1'));
                return i[_]
                  ? tc(function (t, e, n, r) {
                      for (var o, s = i(t, null, r, []), a = t.length; a--; )
                        (o = s[a]) && (t[a] = !(e[a] = o));
                    })
                  : function (t, r, o) {
                      return (
                        (e[0] = t), i(e, null, o, n), (e[0] = null), !n.pop()
                      );
                    };
              }),
              has: tc(function (t) {
                return function (e) {
                  return tl(t, e).length > 0;
                };
              }),
              contains: tc(function (t) {
                return (
                  (t = t.replace(te, tn)),
                  function (e) {
                    return (e.textContent || r(e)).indexOf(t) > -1;
                  }
                );
              }),
              lang: tc(function (t) {
                return (
                  W.test(t || '') || tl.error('unsupported lang: ' + t),
                  (t = t.replace(te, tn).toLowerCase()),
                  function (e) {
                    var n;
                    do
                      if (
                        (n = g
                          ? e.lang
                          : e.getAttribute('xml:lang') ||
                            e.getAttribute('lang'))
                      )
                        return (
                          (n = n.toLowerCase()) === t ||
                          0 === n.indexOf(t + '-')
                        );
                    while ((e = e.parentNode) && 1 === e.nodeType);
                    return !1;
                  }
                );
              }),
              target: function (e) {
                var n = t.location && t.location.hash;
                return n && n.slice(1) === e.id;
              },
              root: function (t) {
                return t === f;
              },
              focus: function (t) {
                return (
                  t === d.activeElement &&
                  (!d.hasFocus || d.hasFocus()) &&
                  !!(t.type || t.href || ~t.tabIndex)
                );
              },
              enabled: t$(!1),
              disabled: t$(!0),
              checked: function (t) {
                var e = t.nodeName.toLowerCase();
                return (
                  ('input' === e && !!t.checked) ||
                  ('option' === e && !!t.selected)
                );
              },
              selected: function (t) {
                return (
                  t.parentNode && t.parentNode.selectedIndex, !0 === t.selected
                );
              },
              empty: function (t) {
                for (t = t.firstChild; t; t = t.nextSibling)
                  if (t.nodeType < 6) return !1;
                return !0;
              },
              parent: function (t) {
                return !i.pseudos.empty(t);
              },
              header: function (t) {
                return Z.test(t.nodeName);
              },
              input: function (t) {
                return J.test(t.nodeName);
              },
              button: function (t) {
                var e = t.nodeName.toLowerCase();
                return ('input' === e && 'button' === t.type) || 'button' === e;
              },
              text: function (t) {
                var e;
                return (
                  'input' === t.nodeName.toLowerCase() &&
                  'text' === t.type &&
                  (null == (e = t.getAttribute('type')) ||
                    'text' === e.toLowerCase())
                );
              },
              first: t0(function () {
                return [0];
              }),
              last: t0(function (t, e) {
                return [e - 1];
              }),
              eq: t0(function (t, e, n) {
                return [n < 0 ? n + e : n];
              }),
              even: t0(function (t, e) {
                for (var n = 0; n < e; n += 2) t.push(n);
                return t;
              }),
              odd: t0(function (t, e) {
                for (var n = 1; n < e; n += 2) t.push(n);
                return t;
              }),
              lt: t0(function (t, e, n) {
                for (var i = n < 0 ? n + e : n > e ? e : n; --i >= 0; )
                  t.push(i);
                return t;
              }),
              gt: t0(function (t, e, n) {
                for (var i = n < 0 ? n + e : n; ++i < e; ) t.push(i);
                return t;
              }),
            },
          }).pseudos.nth = i.pseudos.eq),
        { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }))
          i.pseudos[e] = tf(e);
        for (e in { submit: !0, reset: !0 }) i.pseudos[e] = tg(e);
        function ty() {}
        function tm(t) {
          for (var e = 0, n = t.length, i = ''; e < n; e++) i += t[e].value;
          return i;
        }
        function t_(t, e, n) {
          var i = e.dir,
            r = e.next,
            o = r || i,
            s = n && 'parentNode' === o,
            a = x++;
          return e.first
            ? function (e, n, r) {
                for (; (e = e[i]); )
                  if (1 === e.nodeType || s) return t(e, n, r);
                return !1;
              }
            : function (e, n, l) {
                var u,
                  c,
                  h,
                  p = [b, a];
                if (l) {
                  for (; (e = e[i]); )
                    if ((1 === e.nodeType || s) && t(e, n, l)) return !0;
                } else
                  for (; (e = e[i]); )
                    if (1 === e.nodeType || s) {
                      if (
                        ((c =
                          (h = e[_] || (e[_] = {}))[e.uniqueID] ||
                          (h[e.uniqueID] = {})),
                        r && r === e.nodeName.toLowerCase())
                      )
                        e = e[i] || e;
                      else {
                        if ((u = c[o]) && u[0] === b && u[1] === a)
                          return (p[2] = u[2]);
                        if (((c[o] = p), (p[2] = t(e, n, l)))) return !0;
                      }
                    }
                return !1;
              };
        }
        function tC(t) {
          return t.length > 1
            ? function (e, n, i) {
                for (var r = t.length; r--; ) if (!t[r](e, n, i)) return !1;
                return !0;
              }
            : t[0];
        }
        function tb(t, e, n, i, r) {
          for (var o, s = [], a = 0, l = t.length, u = null != e; a < l; a++)
            (o = t[a]) && ((n && !n(o, i, r)) || (s.push(o), u && e.push(a)));
          return s;
        }
        function tx(t, e, n, i, r, o) {
          return (
            i && !i[_] && (i = tx(i)),
            r && !r[_] && (r = tx(r, o)),
            tc(function (o, s, a, l) {
              var u,
                c,
                h,
                p = [],
                d = [],
                f = s.length,
                g =
                  o ||
                  (function (t, e, n) {
                    for (var i = 0, r = e.length; i < r; i++) tl(t, e[i], n);
                    return n;
                  })(e || '*', a.nodeType ? [a] : a, []),
                $ = t && (o || !e) ? tb(g, p, t, a, l) : g,
                v = n ? (r || (o ? t : f || i) ? [] : s) : $;
              if ((n && n($, v, a, l), i))
                for (u = tb(v, d), i(u, [], a, l), c = u.length; c--; )
                  (h = u[c]) && (v[d[c]] = !($[d[c]] = h));
              if (o) {
                if (r || t) {
                  if (r) {
                    for (u = [], c = v.length; c--; )
                      (h = v[c]) && u.push(($[c] = h));
                    r(null, (v = []), u, l);
                  }
                  for (c = v.length; c--; )
                    (h = v[c]) &&
                      (u = r ? F(o, h) : p[c]) > -1 &&
                      (o[u] = !(s[u] = h));
                }
              } else (v = tb(v === s ? v.splice(f, v.length) : v)), r ? r(null, s, v, l) : N.apply(s, v);
            })
          );
        }
        function tw(t) {
          for (
            var e,
              n,
              r,
              o = t.length,
              s = i.relative[t[0].type],
              a = s || i.relative[' '],
              l = s ? 1 : 0,
              c = t_(
                function (t) {
                  return t === e;
                },
                a,
                !0
              ),
              h = t_(
                function (t) {
                  return F(e, t) > -1;
                },
                a,
                !0
              ),
              p = [
                function (t, n, i) {
                  var r =
                    (!s && (i || n !== u)) ||
                    ((e = n).nodeType ? c(t, n, i) : h(t, n, i));
                  return (e = null), r;
                },
              ];
            l < o;
            l++
          )
            if ((n = i.relative[t[l].type])) p = [t_(tC(p), n)];
            else {
              if ((n = i.filter[t[l].type].apply(null, t[l].matches))[_]) {
                for (r = ++l; r < o && !i.relative[t[r].type]; r++);
                return tx(
                  l > 1 && tC(p),
                  l > 1 &&
                    tm(
                      t
                        .slice(0, l - 1)
                        .concat({ value: ' ' === t[l - 2].type ? '*' : '' })
                    ).replace(G, '$1'),
                  n,
                  l < r && tw(t.slice(l, r)),
                  r < o && tw((t = t.slice(r))),
                  r < o && tm(t)
                );
              }
              p.push(n);
            }
          return tC(p);
        }
        return (
          (ty.prototype = i.filters = i.pseudos),
          (i.setFilters = new ty()),
          (s = tl.tokenize =
            function (t, e) {
              var n,
                r,
                o,
                s,
                a,
                l,
                u,
                c = P[t + ' '];
              if (c) return e ? 0 : c.slice(0);
              for (a = t, l = [], u = i.preFilter; a; ) {
                for (s in ((!n || (r = j.exec(a))) &&
                  (r && (a = a.slice(r[0].length) || a), l.push((o = []))),
                (n = !1),
                (r = H.exec(a)) &&
                  ((n = r.shift()),
                  o.push({ value: n, type: r[0].replace(G, ' ') }),
                  (a = a.slice(n.length))),
                i.filter))
                  (r = X[s].exec(a)) &&
                    (!u[s] || (r = u[s](r))) &&
                    ((n = r.shift()),
                    o.push({ value: n, type: s, matches: r }),
                    (a = a.slice(n.length)));
                if (!n) break;
              }
              return e ? a.length : a ? tl.error(t) : P(t, l).slice(0);
            }),
          (a = tl.compile =
            function (t, e) {
              var n,
                r,
                o,
                a,
                l,
                c,
                h = [],
                f = [],
                $ = A[t + ' '];
              if (!$) {
                for (e || (e = s(t)), c = e.length; c--; )
                  ($ = tw(e[c]))[_] ? h.push($) : f.push($);
                ($ = A(
                  t,
                  ((n = f),
                  (o = (r = h).length > 0),
                  (a = n.length > 0),
                  (l = function (t, e, s, l, c) {
                    var h,
                      f,
                      $,
                      v = 0,
                      y = '0',
                      m = t && [],
                      _ = [],
                      C = u,
                      x = t || (a && i.find.TAG('*', c)),
                      w = (b += null == C ? 1 : Math.random() || 0.1),
                      P = x.length;
                    for (
                      c && (u = e == d || e || c);
                      y !== P && null != (h = x[y]);
                      y++
                    ) {
                      if (a && h) {
                        for (
                          f = 0, e || h.ownerDocument == d || (p(h), (s = !g));
                          ($ = n[f++]);

                        )
                          if ($(h, e || d, s)) {
                            l.push(h);
                            break;
                          }
                        c && (b = w);
                      }
                      o && ((h = !$ && h) && v--, t && m.push(h));
                    }
                    if (((v += y), o && y !== v)) {
                      for (f = 0; ($ = r[f++]); ) $(m, _, e, s);
                      if (t) {
                        if (v > 0)
                          for (; y--; ) m[y] || _[y] || (_[y] = M.call(l));
                        _ = tb(_);
                      }
                      N.apply(l, _),
                        c &&
                          !t &&
                          _.length > 0 &&
                          v + r.length > 1 &&
                          tl.uniqueSort(l);
                    }
                    return c && ((b = w), (u = C)), m;
                  }),
                  o ? tc(l) : l)
                )).selector = t;
              }
              return $;
            }),
          (l = tl.select =
            function (t, e, n, r) {
              var o,
                l,
                u,
                c,
                h,
                p = 'function' == typeof t && t,
                d = !r && s((t = p.selector || t));
              if (((n = n || []), 1 === d.length)) {
                if (
                  (l = d[0] = d[0].slice(0)).length > 2 &&
                  'ID' === (u = l[0]).type &&
                  9 === e.nodeType &&
                  g &&
                  i.relative[l[1].type]
                ) {
                  if (
                    !(e = (i.find.ID(u.matches[0].replace(te, tn), e) || [])[0])
                  )
                    return n;
                  p && (e = e.parentNode),
                    (t = t.slice(l.shift().value.length));
                }
                for (
                  o = X.needsContext.test(t) ? 0 : l.length;
                  o-- && ((u = l[o]), !i.relative[(c = u.type)]);

                )
                  if (
                    (h = i.find[c]) &&
                    (r = h(
                      u.matches[0].replace(te, tn),
                      (tt.test(l[0].type) && tv(e.parentNode)) || e
                    ))
                  ) {
                    if ((l.splice(o, 1), !(t = r.length && tm(l))))
                      return N.apply(n, r), n;
                    break;
                  }
              }
              return (
                (p || a(t, d))(
                  r,
                  e,
                  !g,
                  n,
                  !e || (tt.test(t) && tv(e.parentNode)) || e
                ),
                n
              );
            }),
          (n.sortStable = _.split('').sort(S).join('') === _),
          (n.detectDuplicates = !!h),
          p(),
          (n.sortDetached = th(function (t) {
            return 1 & t.compareDocumentPosition(d.createElement('fieldset'));
          })),
          th(function (t) {
            return (
              (t.innerHTML = "<a href='#'></a>"),
              '#' === t.firstChild.getAttribute('href')
            );
          }) ||
            tp('type|href|height|width', function (t, e, n) {
              if (!n)
                return t.getAttribute(e, 'type' === e.toLowerCase() ? 1 : 2);
            }),
          (n.attributes &&
            th(function (t) {
              return (
                (t.innerHTML = '<input/>'),
                t.firstChild.setAttribute('value', ''),
                '' === t.firstChild.getAttribute('value')
              );
            })) ||
            tp('value', function (t, e, n) {
              if (!n && 'input' === t.nodeName.toLowerCase())
                return t.defaultValue;
            }),
          th(function (t) {
            return null == t.getAttribute('disabled');
          }) ||
            tp(z, function (t, e, n) {
              var i;
              if (!n)
                return !0 === t[e]
                  ? e.toLowerCase()
                  : (i = t.getAttributeNode(e)) && i.specified
                  ? i.value
                  : null;
            }),
          tl
        );
      })(t);
      (C.find = x),
        (C.expr = x.selectors),
        (C.expr[':'] = C.expr.pseudos),
        (C.uniqueSort = C.unique = x.uniqueSort),
        (C.text = x.getText),
        (C.isXMLDoc = x.isXML),
        (C.contains = x.contains),
        (C.escapeSelector = x.escape);
      var w = function (t, e, n) {
          for (var i = [], r = void 0 !== n; (t = t[e]) && 9 !== t.nodeType; )
            if (1 === t.nodeType) {
              if (r && C(t).is(n)) break;
              i.push(t);
            }
          return i;
        },
        P = function (t, e) {
          for (var n = []; t; t = t.nextSibling)
            1 === t.nodeType && t !== e && n.push(t);
          return n;
        },
        A = C.expr.match.needsContext;
      function E(t, e) {
        return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase();
      }
      var S = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
      function k(t, e, n) {
        return f(e)
          ? C.grep(t, function (t, i) {
              return !!e.call(t, i, t) !== n;
            })
          : e.nodeType
          ? C.grep(t, function (t) {
              return (t === e) !== n;
            })
          : 'string' != typeof e
          ? C.grep(t, function (t) {
              return a.call(e, t) > -1 !== n;
            })
          : C.filter(e, t, n);
      }
      (C.filter = function (t, e, n) {
        var i = e[0];
        return (
          n && (t = ':not(' + t + ')'),
          1 === e.length && 1 === i.nodeType
            ? C.find.matchesSelector(i, t)
              ? [i]
              : []
            : C.find.matches(
                t,
                C.grep(e, function (t) {
                  return 1 === t.nodeType;
                })
              )
        );
      }),
        C.fn.extend({
          find: function (t) {
            var e,
              n,
              i = this.length,
              r = this;
            if ('string' != typeof t)
              return this.pushStack(
                C(t).filter(function () {
                  for (e = 0; e < i; e++) if (C.contains(r[e], this)) return !0;
                })
              );
            for (n = this.pushStack([]), e = 0; e < i; e++) C.find(t, r[e], n);
            return i > 1 ? C.uniqueSort(n) : n;
          },
          filter: function (t) {
            return this.pushStack(k(this, t || [], !1));
          },
          not: function (t) {
            return this.pushStack(k(this, t || [], !0));
          },
          is: function (t) {
            return !!k(
              this,
              'string' == typeof t && A.test(t) ? C(t) : t || [],
              !1
            ).length;
          },
        });
      var T,
        M = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
      ((C.fn.init = function (t, e, n) {
        var i, r;
        if (!t) return this;
        if (((n = n || T), 'string' == typeof t)) {
          if (
            !(i =
              '<' === t[0] && '>' === t[t.length - 1] && t.length >= 3
                ? [null, t, null]
                : M.exec(t)) ||
            (!i[1] && e)
          )
            return !e || e.jquery
              ? (e || n).find(t)
              : this.constructor(e).find(t);
          if (i[1]) {
            if (
              ((e = e instanceof C ? e[0] : e),
              C.merge(
                this,
                C.parseHTML(
                  i[1],
                  e && e.nodeType ? e.ownerDocument || e : $,
                  !0
                )
              ),
              S.test(i[1]) && C.isPlainObject(e))
            )
              for (i in e) f(this[i]) ? this[i](e[i]) : this.attr(i, e[i]);
            return this;
          }
          return (
            (r = $.getElementById(i[2])) && ((this[0] = r), (this.length = 1)),
            this
          );
        }
        return t.nodeType
          ? ((this[0] = t), (this.length = 1), this)
          : f(t)
          ? void 0 !== n.ready
            ? n.ready(t)
            : t(C)
          : C.makeArray(t, this);
      }).prototype = C.fn),
        (T = C($));
      var D = /^(?:parents|prev(?:Until|All))/,
        N = { children: !0, contents: !0, next: !0, prev: !0 };
      function L(t, e) {
        for (; (t = t[e]) && 1 !== t.nodeType; );
        return t;
      }
      C.fn.extend({
        has: function (t) {
          var e = C(t, this),
            n = e.length;
          return this.filter(function () {
            for (var t = 0; t < n; t++) if (C.contains(this, e[t])) return !0;
          });
        },
        closest: function (t, e) {
          var n,
            i = 0,
            r = this.length,
            o = [],
            s = 'string' != typeof t && C(t);
          if (!A.test(t)) {
            for (; i < r; i++)
              for (n = this[i]; n && n !== e; n = n.parentNode)
                if (
                  n.nodeType < 11 &&
                  (s
                    ? s.index(n) > -1
                    : 1 === n.nodeType && C.find.matchesSelector(n, t))
                ) {
                  o.push(n);
                  break;
                }
          }
          return this.pushStack(o.length > 1 ? C.uniqueSort(o) : o);
        },
        index: function (t) {
          return t
            ? 'string' == typeof t
              ? a.call(C(t), this[0])
              : a.call(this, t.jquery ? t[0] : t)
            : this[0] && this[0].parentNode
            ? this.first().prevAll().length
            : -1;
        },
        add: function (t, e) {
          return this.pushStack(C.uniqueSort(C.merge(this.get(), C(t, e))));
        },
        addBack: function (t) {
          return this.add(
            null == t ? this.prevObject : this.prevObject.filter(t)
          );
        },
      }),
        C.each(
          {
            parent: function (t) {
              var e = t.parentNode;
              return e && 11 !== e.nodeType ? e : null;
            },
            parents: function (t) {
              return w(t, 'parentNode');
            },
            parentsUntil: function (t, e, n) {
              return w(t, 'parentNode', n);
            },
            next: function (t) {
              return L(t, 'nextSibling');
            },
            prev: function (t) {
              return L(t, 'previousSibling');
            },
            nextAll: function (t) {
              return w(t, 'nextSibling');
            },
            prevAll: function (t) {
              return w(t, 'previousSibling');
            },
            nextUntil: function (t, e, n) {
              return w(t, 'nextSibling', n);
            },
            prevUntil: function (t, e, n) {
              return w(t, 'previousSibling', n);
            },
            siblings: function (t) {
              return P((t.parentNode || {}).firstChild, t);
            },
            children: function (t) {
              return P(t.firstChild);
            },
            contents: function (t) {
              return null != t.contentDocument && i(t.contentDocument)
                ? t.contentDocument
                : (E(t, 'template') && (t = t.content || t),
                  C.merge([], t.childNodes));
            },
          },
          function (t, e) {
            C.fn[t] = function (n, i) {
              var r = C.map(this, e, n);
              return (
                'Until' !== t.slice(-5) && (i = n),
                i && 'string' == typeof i && (r = C.filter(i, r)),
                this.length > 1 &&
                  (N[t] || C.uniqueSort(r), D.test(t) && r.reverse()),
                this.pushStack(r)
              );
            };
          }
        );
      var F = /[^\x20\t\r\n\f]+/g;
      function z(t) {
        return t;
      }
      function B(t) {
        throw t;
      }
      function O(t, e, n, i) {
        var r;
        try {
          t && f((r = t.promise))
            ? r.call(t).done(e).fail(n)
            : t && f((r = t.then))
            ? r.call(t, e, n)
            : e.apply(void 0, [t].slice(i));
        } catch (o) {
          n.apply(void 0, [o]);
        }
      }
      (C.Callbacks = function (t) {
        t =
          'string' == typeof t
            ? ((e = t),
              (n = {}),
              C.each(e.match(F) || [], function (t, e) {
                n[e] = !0;
              }),
              n)
            : C.extend({}, t);
        var e,
          n,
          i,
          r,
          o,
          s,
          a = [],
          l = [],
          u = -1,
          c = function () {
            for (s = s || t.once, o = i = !0; l.length; u = -1)
              for (r = l.shift(); ++u < a.length; )
                !1 === a[u].apply(r[0], r[1]) &&
                  t.stopOnFalse &&
                  ((u = a.length), (r = !1));
            t.memory || (r = !1), (i = !1), s && (a = r ? [] : '');
          },
          h = {
            add: function () {
              return (
                a &&
                  (r && !i && ((u = a.length - 1), l.push(r)),
                  (function e(n) {
                    C.each(n, function (n, i) {
                      f(i)
                        ? (t.unique && h.has(i)) || a.push(i)
                        : i && i.length && 'string' !== m(i) && e(i);
                    });
                  })(arguments),
                  r && !i && c()),
                this
              );
            },
            remove: function () {
              return (
                C.each(arguments, function (t, e) {
                  for (var n; (n = C.inArray(e, a, n)) > -1; )
                    a.splice(n, 1), n <= u && u--;
                }),
                this
              );
            },
            has: function (t) {
              return t ? C.inArray(t, a) > -1 : a.length > 0;
            },
            empty: function () {
              return a && (a = []), this;
            },
            disable: function () {
              return (s = l = []), (a = r = ''), this;
            },
            disabled: function () {
              return !a;
            },
            lock: function () {
              return (s = l = []), r || i || (a = r = ''), this;
            },
            locked: function () {
              return !!s;
            },
            fireWith: function (t, e) {
              return (
                s ||
                  ((e = [t, (e = e || []).slice ? e.slice() : e]),
                  l.push(e),
                  i || c()),
                this
              );
            },
            fire: function () {
              return h.fireWith(this, arguments), this;
            },
            fired: function () {
              return !!o;
            },
          };
        return h;
      }),
        C.extend({
          Deferred: function (e) {
            var n = [
                [
                  'notify',
                  'progress',
                  C.Callbacks('memory'),
                  C.Callbacks('memory'),
                  2,
                ],
                [
                  'resolve',
                  'done',
                  C.Callbacks('once memory'),
                  C.Callbacks('once memory'),
                  0,
                  'resolved',
                ],
                [
                  'reject',
                  'fail',
                  C.Callbacks('once memory'),
                  C.Callbacks('once memory'),
                  1,
                  'rejected',
                ],
              ],
              i = 'pending',
              r = {
                state: function () {
                  return i;
                },
                always: function () {
                  return o.done(arguments).fail(arguments), this;
                },
                catch: function (t) {
                  return r.then(null, t);
                },
                pipe: function () {
                  var t = arguments;
                  return C.Deferred(function (e) {
                    C.each(n, function (n, i) {
                      var r = f(t[i[4]]) && t[i[4]];
                      o[i[1]](function () {
                        var t = r && r.apply(this, arguments);
                        t && f(t.promise)
                          ? t
                              .promise()
                              .progress(e.notify)
                              .done(e.resolve)
                              .fail(e.reject)
                          : e[i[0] + 'With'](this, r ? [t] : arguments);
                      });
                    }),
                      (t = null);
                  }).promise();
                },
                then: function (e, i, r) {
                  var o = 0;
                  function s(e, n, i, r) {
                    return function () {
                      var a = this,
                        l = arguments,
                        u = function () {
                          var t, u;
                          if (!(e < o)) {
                            if ((t = i.apply(a, l)) === n.promise())
                              throw TypeError('Thenable self-resolution');
                            f(
                              (u =
                                t &&
                                ('object' == typeof t ||
                                  'function' == typeof t) &&
                                t.then)
                            )
                              ? r
                                ? u.call(t, s(o, n, z, r), s(o, n, B, r))
                                : (o++,
                                  u.call(
                                    t,
                                    s(o, n, z, r),
                                    s(o, n, B, r),
                                    s(o, n, z, n.notifyWith)
                                  ))
                              : (i !== z && ((a = void 0), (l = [t])),
                                (r || n.resolveWith)(a, l));
                          }
                        },
                        c = r
                          ? u
                          : function () {
                              try {
                                u();
                              } catch (t) {
                                C.Deferred.exceptionHook &&
                                  C.Deferred.exceptionHook(t, c.stackTrace),
                                  e + 1 >= o &&
                                    (i !== B && ((a = void 0), (l = [t])),
                                    n.rejectWith(a, l));
                              }
                            };
                      e
                        ? c()
                        : (C.Deferred.getStackHook &&
                            (c.stackTrace = C.Deferred.getStackHook()),
                          t.setTimeout(c));
                    };
                  }
                  return C.Deferred(function (t) {
                    n[0][3].add(s(0, t, f(r) ? r : z, t.notifyWith)),
                      n[1][3].add(s(0, t, f(e) ? e : z)),
                      n[2][3].add(s(0, t, f(i) ? i : B));
                  }).promise();
                },
                promise: function (t) {
                  return null != t ? C.extend(t, r) : r;
                },
              },
              o = {};
            return (
              C.each(n, function (t, e) {
                var s = e[2],
                  a = e[5];
                (r[e[1]] = s.add),
                  a &&
                    s.add(
                      function () {
                        i = a;
                      },
                      n[3 - t][2].disable,
                      n[3 - t][3].disable,
                      n[0][2].lock,
                      n[0][3].lock
                    ),
                  s.add(e[3].fire),
                  (o[e[0]] = function () {
                    return (
                      o[e[0] + 'With'](this === o ? void 0 : this, arguments),
                      this
                    );
                  }),
                  (o[e[0] + 'With'] = s.fireWith);
              }),
              r.promise(o),
              e && e.call(o, o),
              o
            );
          },
          when: function (t) {
            var e = arguments.length,
              n = e,
              i = Array(n),
              o = r.call(arguments),
              s = C.Deferred(),
              a = function (t) {
                return function (n) {
                  (i[t] = this),
                    (o[t] = arguments.length > 1 ? r.call(arguments) : n),
                    --e || s.resolveWith(i, o);
                };
              };
            if (
              e <= 1 &&
              (O(t, s.done(a(n)).resolve, s.reject, !e),
              'pending' === s.state() || f(o[n] && o[n].then))
            )
              return s.then();
            for (; n--; ) O(o[n], a(n), s.reject);
            return s.promise();
          },
        });
      var V = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
      (C.Deferred.exceptionHook = function (e, n) {
        t.console &&
          t.console.warn &&
          e &&
          V.test(e.name) &&
          t.console.warn('jQuery.Deferred exception: ' + e.message, e.stack, n);
      }),
        (C.readyException = function (e) {
          t.setTimeout(function () {
            throw e;
          });
        });
      var R = C.Deferred();
      function I() {
        $.removeEventListener('DOMContentLoaded', I),
          t.removeEventListener('load', I),
          C.ready();
      }
      (C.fn.ready = function (t) {
        return (
          R.then(t).catch(function (t) {
            C.readyException(t);
          }),
          this
        );
      }),
        C.extend({
          isReady: !1,
          readyWait: 1,
          ready: function (t) {
            (!0 === t ? --C.readyWait : C.isReady) ||
              ((C.isReady = !0),
              (!0 !== t && --C.readyWait > 0) || R.resolveWith($, [C]));
          },
        }),
        (C.ready.then = R.then),
        'complete' !== $.readyState &&
        ('loading' === $.readyState || $.documentElement.doScroll)
          ? ($.addEventListener('DOMContentLoaded', I),
            t.addEventListener('load', I))
          : t.setTimeout(C.ready);
      var G = function (t, e, n, i, r, o, s) {
          var a = 0,
            l = t.length,
            u = null == n;
          if ('object' === m(n))
            for (a in ((r = !0), n)) G(t, e, a, n[a], !0, o, s);
          else if (
            void 0 !== i &&
            ((r = !0),
            f(i) || (s = !0),
            u &&
              (s
                ? (e.call(t, i), (e = null))
                : ((u = e),
                  (e = function (t, e, n) {
                    return u.call(C(t), n);
                  }))),
            e)
          )
            for (; a < l; a++) e(t[a], n, s ? i : i.call(t[a], a, e(t[a], n)));
          return r ? t : u ? e.call(t) : l ? e(t[0], n) : o;
        },
        j = /^-ms-/,
        H = /-([a-z])/g;
      function U(t, e) {
        return e.toUpperCase();
      }
      function q(t) {
        return t.replace(j, 'ms-').replace(H, U);
      }
      var W = function (t) {
        return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType;
      };
      function X() {
        this.expando = C.expando + X.uid++;
      }
      (X.uid = 1),
        (X.prototype = {
          cache: function (t) {
            var e = t[this.expando];
            return (
              e ||
                ((e = {}),
                W(t) &&
                  (t.nodeType
                    ? (t[this.expando] = e)
                    : Object.defineProperty(t, this.expando, {
                        value: e,
                        configurable: !0,
                      }))),
              e
            );
          },
          set: function (t, e, n) {
            var i,
              r = this.cache(t);
            if ('string' == typeof e) r[q(e)] = n;
            else for (i in e) r[q(i)] = e[i];
            return r;
          },
          get: function (t, e) {
            return void 0 === e
              ? this.cache(t)
              : t[this.expando] && t[this.expando][q(e)];
          },
          access: function (t, e, n) {
            return void 0 === e || (e && 'string' == typeof e && void 0 === n)
              ? this.get(t, e)
              : (this.set(t, e, n), void 0 !== n ? n : e);
          },
          remove: function (t, e) {
            var n,
              i = t[this.expando];
            if (void 0 !== i) {
              if (void 0 !== e)
                for (
                  n = (e = Array.isArray(e)
                    ? e.map(q)
                    : ((e = q(e)) in i)
                    ? [e]
                    : e.match(F) || []).length;
                  n--;

                )
                  delete i[e[n]];
              (void 0 === e || C.isEmptyObject(i)) &&
                (t.nodeType
                  ? (t[this.expando] = void 0)
                  : delete t[this.expando]);
            }
          },
          hasData: function (t) {
            var e = t[this.expando];
            return void 0 !== e && !C.isEmptyObject(e);
          },
        });
      var Y = new X(),
        J = new X(),
        Z = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        K = /[A-Z]/g;
      function Q(t, e, n) {
        var i, r;
        if (void 0 === n && 1 === t.nodeType) {
          if (
            ((i = 'data-' + e.replace(K, '-$&').toLowerCase()),
            'string' == typeof (n = t.getAttribute(i)))
          ) {
            try {
              n =
                ((r = n),
                'true' === r ||
                  ('false' !== r &&
                    ('null' === r
                      ? null
                      : r === +r + ''
                      ? +r
                      : Z.test(r)
                      ? JSON.parse(r)
                      : r)));
            } catch (o) {}
            J.set(t, e, n);
          } else n = void 0;
        }
        return n;
      }
      C.extend({
        hasData: function (t) {
          return J.hasData(t) || Y.hasData(t);
        },
        data: function (t, e, n) {
          return J.access(t, e, n);
        },
        removeData: function (t, e) {
          J.remove(t, e);
        },
        _data: function (t, e, n) {
          return Y.access(t, e, n);
        },
        _removeData: function (t, e) {
          Y.remove(t, e);
        },
      }),
        C.fn.extend({
          data: function (t, e) {
            var n,
              i,
              r,
              o = this[0],
              s = o && o.attributes;
            if (void 0 === t) {
              if (
                this.length &&
                ((r = J.get(o)), 1 === o.nodeType && !Y.get(o, 'hasDataAttrs'))
              ) {
                for (n = s.length; n--; )
                  s[n] &&
                    0 === (i = s[n].name).indexOf('data-') &&
                    Q(o, (i = q(i.slice(5))), r[i]);
                Y.set(o, 'hasDataAttrs', !0);
              }
              return r;
            }
            return 'object' == typeof t
              ? this.each(function () {
                  J.set(this, t);
                })
              : G(
                  this,
                  function (e) {
                    var n;
                    if (o && void 0 === e)
                      return void 0 !== (n = J.get(o, t)) ||
                        void 0 !== (n = Q(o, t))
                        ? n
                        : void 0;
                    this.each(function () {
                      J.set(this, t, e);
                    });
                  },
                  null,
                  e,
                  arguments.length > 1,
                  null,
                  !0
                );
          },
          removeData: function (t) {
            return this.each(function () {
              J.remove(this, t);
            });
          },
        }),
        C.extend({
          queue: function (t, e, n) {
            var i;
            if (t)
              return (
                (e = (e || 'fx') + 'queue'),
                (i = Y.get(t, e)),
                n &&
                  (!i || Array.isArray(n)
                    ? (i = Y.access(t, e, C.makeArray(n)))
                    : i.push(n)),
                i || []
              );
          },
          dequeue: function (t, e) {
            e = e || 'fx';
            var n = C.queue(t, e),
              i = n.length,
              r = n.shift(),
              o = C._queueHooks(t, e);
            'inprogress' === r && ((r = n.shift()), i--),
              r &&
                ('fx' === e && n.unshift('inprogress'),
                delete o.stop,
                r.call(
                  t,
                  function () {
                    C.dequeue(t, e);
                  },
                  o
                )),
              !i && o && o.empty.fire();
          },
          _queueHooks: function (t, e) {
            var n = e + 'queueHooks';
            return (
              Y.get(t, n) ||
              Y.access(t, n, {
                empty: C.Callbacks('once memory').add(function () {
                  Y.remove(t, [e + 'queue', n]);
                }),
              })
            );
          },
        }),
        C.fn.extend({
          queue: function (t, e) {
            var n = 2;
            return (
              'string' != typeof t && ((e = t), (t = 'fx'), n--),
              arguments.length < n
                ? C.queue(this[0], t)
                : void 0 === e
                ? this
                : this.each(function () {
                    var n = C.queue(this, t, e);
                    C._queueHooks(this, t),
                      'fx' === t && 'inprogress' !== n[0] && C.dequeue(this, t);
                  })
            );
          },
          dequeue: function (t) {
            return this.each(function () {
              C.dequeue(this, t);
            });
          },
          clearQueue: function (t) {
            return this.queue(t || 'fx', []);
          },
          promise: function (t, e) {
            var n,
              i = 1,
              r = C.Deferred(),
              o = this,
              s = this.length,
              a = function () {
                --i || r.resolveWith(o, [o]);
              };
            for (
              'string' != typeof t && ((e = t), (t = void 0)), t = t || 'fx';
              s--;

            )
              (n = Y.get(o[s], t + 'queueHooks')) &&
                n.empty &&
                (i++, n.empty.add(a));
            return a(), r.promise(e);
          },
        });
      var tt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        te = RegExp('^(?:([+-])=|)(' + tt + ')([a-z%]*)$', 'i'),
        tn = ['Top', 'Right', 'Bottom', 'Left'],
        ti = $.documentElement,
        tr = function (t) {
          return C.contains(t.ownerDocument, t);
        },
        to = { composed: !0 };
      ti.getRootNode &&
        (tr = function (t) {
          return (
            C.contains(t.ownerDocument, t) ||
            t.getRootNode(to) === t.ownerDocument
          );
        });
      var ts = function (t, e) {
        return (
          'none' === (t = e || t).style.display ||
          ('' === t.style.display && tr(t) && 'none' === C.css(t, 'display'))
        );
      };
      function ta(t, e, n, i) {
        var r,
          o,
          s = 20,
          a = i
            ? function () {
                return i.cur();
              }
            : function () {
                return C.css(t, e, '');
              },
          l = a(),
          u = (n && n[3]) || (C.cssNumber[e] ? '' : 'px'),
          c =
            t.nodeType &&
            (C.cssNumber[e] || ('px' !== u && +l)) &&
            te.exec(C.css(t, e));
        if (c && c[3] !== u) {
          for (l /= 2, u = u || c[3], c = +l || 1; s--; )
            C.style(t, e, c + u),
              (1 - o) * (1 - (o = a() / l || 0.5)) <= 0 && (s = 0),
              (c /= o);
          (c *= 2), C.style(t, e, c + u), (n = n || []);
        }
        return (
          n &&
            ((c = +c || +l || 0),
            (r = n[1] ? c + (n[1] + 1) * n[2] : +n[2]),
            i && ((i.unit = u), (i.start = c), (i.end = r))),
          r
        );
      }
      var tl = {};
      function tu(t) {
        var e,
          n = t.ownerDocument,
          i = t.nodeName,
          r = tl[i];
        return (
          r ||
          ((e = n.body.appendChild(n.createElement(i))),
          (r = C.css(e, 'display')),
          e.parentNode.removeChild(e),
          'none' === r && (r = 'block'),
          (tl[i] = r),
          r)
        );
      }
      function tc(t, e) {
        for (var n, i, r = [], o = 0, s = t.length; o < s; o++)
          (i = t[o]).style &&
            ((n = i.style.display),
            e
              ? ('none' === n &&
                  ((r[o] = Y.get(i, 'display') || null),
                  r[o] || (i.style.display = '')),
                '' === i.style.display && ts(i) && (r[o] = tu(i)))
              : 'none' !== n && ((r[o] = 'none'), Y.set(i, 'display', n)));
        for (o = 0; o < s; o++) null != r[o] && (t[o].style.display = r[o]);
        return t;
      }
      C.fn.extend({
        show: function () {
          return tc(this, !0);
        },
        hide: function () {
          return tc(this);
        },
        toggle: function (t) {
          return 'boolean' == typeof t
            ? t
              ? this.show()
              : this.hide()
            : this.each(function () {
                ts(this) ? C(this).show() : C(this).hide();
              });
        },
      });
      var th,
        tp,
        td = /^(?:checkbox|radio)$/i,
        tf = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
        tg = /^$|^module$|\/(?:java|ecma)script/i;
      (th = $.createDocumentFragment().appendChild($.createElement('div'))),
        (tp = $.createElement('input')).setAttribute('type', 'radio'),
        tp.setAttribute('checked', 'checked'),
        tp.setAttribute('name', 't'),
        th.appendChild(tp),
        (d.checkClone = th.cloneNode(!0).cloneNode(!0).lastChild.checked),
        (th.innerHTML = '<textarea>x</textarea>'),
        (d.noCloneChecked = !!th.cloneNode(!0).lastChild.defaultValue),
        (th.innerHTML = '<option></option>'),
        (d.option = !!th.lastChild);
      var t$ = {
        thead: [1, '<table>', '</table>'],
        col: [2, '<table><colgroup>', '</colgroup></table>'],
        tr: [2, '<table><tbody>', '</tbody></table>'],
        td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],
        _default: [0, '', ''],
      };
      function t0(t, e) {
        var n;
        return (
          (n =
            void 0 !== t.getElementsByTagName
              ? t.getElementsByTagName(e || '*')
              : void 0 !== t.querySelectorAll
              ? t.querySelectorAll(e || '*')
              : []),
          void 0 === e || (e && E(t, e)) ? C.merge([t], n) : n
        );
      }
      function tv(t, e) {
        for (var n = 0, i = t.length; n < i; n++)
          Y.set(t[n], 'globalEval', !e || Y.get(e[n], 'globalEval'));
      }
      (t$.tbody = t$.tfoot = t$.colgroup = t$.caption = t$.thead),
        (t$.th = t$.td),
        d.option ||
          (t$.optgroup = t$.option =
            [1, "<select multiple='multiple'>", '</select>']);
      var ty = /<|&#?\w+;/;
      function tm(t, e, n, i, r) {
        for (
          var o,
            s,
            a,
            l,
            u,
            c,
            h = e.createDocumentFragment(),
            p = [],
            d = 0,
            f = t.length;
          d < f;
          d++
        )
          if ((o = t[d]) || 0 === o) {
            if ('object' === m(o)) C.merge(p, o.nodeType ? [o] : o);
            else if (ty.test(o)) {
              for (
                s = s || h.appendChild(e.createElement('div')),
                  l =
                    t$[(a = (tf.exec(o) || ['', ''])[1].toLowerCase())] ||
                    t$._default,
                  s.innerHTML = l[1] + C.htmlPrefilter(o) + l[2],
                  c = l[0];
                c--;

              )
                s = s.lastChild;
              C.merge(p, s.childNodes), ((s = h.firstChild).textContent = '');
            } else p.push(e.createTextNode(o));
          }
        for (h.textContent = '', d = 0; (o = p[d++]); )
          if (i && C.inArray(o, i) > -1) r && r.push(o);
          else if (
            ((u = tr(o)), (s = t0(h.appendChild(o), 'script')), u && tv(s), n)
          )
            for (c = 0; (o = s[c++]); ) tg.test(o.type || '') && n.push(o);
        return h;
      }
      var t_ = /^([^.]*)(?:\.(.+)|)/;
      function tC() {
        return !0;
      }
      function tb() {
        return !1;
      }
      function tx(t, e) {
        return (
          (t ===
            (function () {
              try {
                return $.activeElement;
              } catch (t) {}
            })()) ==
          ('focus' === e)
        );
      }
      function tw(t, e, n, i, r, o) {
        var s, a;
        if ('object' == typeof e) {
          for (a in ('string' != typeof n && ((i = i || n), (n = void 0)), e))
            tw(t, a, n, i, e[a], o);
          return t;
        }
        if (
          (null == i && null == r
            ? ((r = n), (i = n = void 0))
            : null == r &&
              ('string' == typeof n
                ? ((r = i), (i = void 0))
                : ((r = i), (i = n), (n = void 0))),
          !1 === r)
        )
          r = tb;
        else if (!r) return t;
        return (
          1 === o &&
            ((s = r),
            ((r = function (t) {
              return C().off(t), s.apply(this, arguments);
            }).guid = s.guid || (s.guid = C.guid++))),
          t.each(function () {
            C.event.add(this, e, r, i, n);
          })
        );
      }
      function t1(t, e, n) {
        n
          ? (Y.set(t, e, !1),
            C.event.add(t, e, {
              namespace: !1,
              handler: function (t) {
                var i,
                  o,
                  s = Y.get(this, e);
                if (1 & t.isTrigger && this[e]) {
                  if (s.length)
                    (C.event.special[e] || {}).delegateType &&
                      t.stopPropagation();
                  else if (
                    ((s = r.call(arguments)),
                    Y.set(this, e, s),
                    (i = n(this, e)),
                    this[e](),
                    s !== (o = Y.get(this, e)) || i
                      ? Y.set(this, e, !1)
                      : (o = {}),
                    s !== o)
                  )
                    return (
                      t.stopImmediatePropagation(),
                      t.preventDefault(),
                      o && o.value
                    );
                } else
                  s.length &&
                    (Y.set(this, e, {
                      value: C.event.trigger(
                        C.extend(s[0], C.Event.prototype),
                        s.slice(1),
                        this
                      ),
                    }),
                    t.stopImmediatePropagation());
              },
            }))
          : void 0 === Y.get(t, e) && C.event.add(t, e, tC);
      }
      (C.event = {
        global: {},
        add: function (t, e, n, i, r) {
          var o,
            s,
            a,
            l,
            u,
            c,
            h,
            p,
            d,
            f,
            g,
            $ = Y.get(t);
          if (W(t))
            for (
              n.handler && ((n = (o = n).handler), (r = o.selector)),
                r && C.find.matchesSelector(ti, r),
                n.guid || (n.guid = C.guid++),
                (l = $.events) || (l = $.events = Object.create(null)),
                (s = $.handle) ||
                  (s = $.handle =
                    function (e) {
                      return void 0 !== C && C.event.triggered !== e.type
                        ? C.event.dispatch.apply(t, arguments)
                        : void 0;
                    }),
                u = (e = (e || '').match(F) || ['']).length;
              u--;

            )
              (d = g = (a = t_.exec(e[u]) || [])[1]),
                (f = (a[2] || '').split('.').sort()),
                d &&
                  ((h = C.event.special[d] || {}),
                  (d = (r ? h.delegateType : h.bindType) || d),
                  (h = C.event.special[d] || {}),
                  (c = C.extend(
                    {
                      type: d,
                      origType: g,
                      data: i,
                      handler: n,
                      guid: n.guid,
                      selector: r,
                      needsContext: r && C.expr.match.needsContext.test(r),
                      namespace: f.join('.'),
                    },
                    o
                  )),
                  (p = l[d]) ||
                    (((p = l[d] = []).delegateCount = 0),
                    (h.setup && !1 !== h.setup.call(t, i, f, s)) ||
                      (t.addEventListener && t.addEventListener(d, s))),
                  h.add &&
                    (h.add.call(t, c),
                    c.handler.guid || (c.handler.guid = n.guid)),
                  r ? p.splice(p.delegateCount++, 0, c) : p.push(c),
                  (C.event.global[d] = !0));
        },
        remove: function (t, e, n, i, r) {
          var o,
            s,
            a,
            l,
            u,
            c,
            h,
            p,
            d,
            f,
            g,
            $ = Y.hasData(t) && Y.get(t);
          if ($ && (l = $.events)) {
            for (u = (e = (e || '').match(F) || ['']).length; u--; )
              if (
                ((d = g = (a = t_.exec(e[u]) || [])[1]),
                (f = (a[2] || '').split('.').sort()),
                d)
              ) {
                for (
                  h = C.event.special[d] || {},
                    p = l[(d = (i ? h.delegateType : h.bindType) || d)] || [],
                    a =
                      a[2] &&
                      RegExp('(^|\\.)' + f.join('\\.(?:.*\\.|)') + '(\\.|$)'),
                    s = o = p.length;
                  o--;

                )
                  (c = p[o]),
                    (!r && g !== c.origType) ||
                      (n && n.guid !== c.guid) ||
                      (a && !a.test(c.namespace)) ||
                      (i && i !== c.selector && ('**' !== i || !c.selector)) ||
                      (p.splice(o, 1),
                      c.selector && p.delegateCount--,
                      h.remove && h.remove.call(t, c));
                s &&
                  !p.length &&
                  ((h.teardown && !1 !== h.teardown.call(t, f, $.handle)) ||
                    C.removeEvent(t, d, $.handle),
                  delete l[d]);
              } else for (d in l) C.event.remove(t, d + e[u], n, i, !0);
            C.isEmptyObject(l) && Y.remove(t, 'handle events');
          }
        },
        dispatch: function (t) {
          var e,
            n,
            i,
            r,
            o,
            s,
            a = Array(arguments.length),
            l = C.event.fix(t),
            u = (Y.get(this, 'events') || Object.create(null))[l.type] || [],
            c = C.event.special[l.type] || {};
          for (a[0] = l, e = 1; e < arguments.length; e++) a[e] = arguments[e];
          if (
            ((l.delegateTarget = this),
            !c.preDispatch || !1 !== c.preDispatch.call(this, l))
          ) {
            for (
              s = C.event.handlers.call(this, l, u), e = 0;
              (r = s[e++]) && !l.isPropagationStopped();

            )
              for (
                l.currentTarget = r.elem, n = 0;
                (o = r.handlers[n++]) && !l.isImmediatePropagationStopped();

              )
                (l.rnamespace &&
                  !1 !== o.namespace &&
                  !l.rnamespace.test(o.namespace)) ||
                  ((l.handleObj = o),
                  (l.data = o.data),
                  void 0 !==
                    (i = (
                      (C.event.special[o.origType] || {}).handle || o.handler
                    ).apply(r.elem, a)) &&
                    !1 === (l.result = i) &&
                    (l.preventDefault(), l.stopPropagation()));
            return c.postDispatch && c.postDispatch.call(this, l), l.result;
          }
        },
        handlers: function (t, e) {
          var n,
            i,
            r,
            o,
            s,
            a = [],
            l = e.delegateCount,
            u = t.target;
          if (l && u.nodeType && !('click' === t.type && t.button >= 1)) {
            for (; u !== this; u = u.parentNode || this)
              if (
                1 === u.nodeType &&
                ('click' !== t.type || !0 !== u.disabled)
              ) {
                for (o = [], s = {}, n = 0; n < l; n++)
                  void 0 === s[(r = (i = e[n]).selector + ' ')] &&
                    (s[r] = i.needsContext
                      ? C(r, this).index(u) > -1
                      : C.find(r, this, null, [u]).length),
                    s[r] && o.push(i);
                o.length && a.push({ elem: u, handlers: o });
              }
          }
          return (
            (u = this),
            l < e.length && a.push({ elem: u, handlers: e.slice(l) }),
            a
          );
        },
        addProp: function (t, e) {
          Object.defineProperty(C.Event.prototype, t, {
            enumerable: !0,
            configurable: !0,
            get: f(e)
              ? function () {
                  if (this.originalEvent) return e(this.originalEvent);
                }
              : function () {
                  if (this.originalEvent) return this.originalEvent[t];
                },
            set: function (e) {
              Object.defineProperty(this, t, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: e,
              });
            },
          });
        },
        fix: function (t) {
          return t[C.expando] ? t : new C.Event(t);
        },
        special: {
          load: { noBubble: !0 },
          click: {
            setup: function (t) {
              var e = this || t;
              return (
                td.test(e.type) &&
                  e.click &&
                  E(e, 'input') &&
                  t1(e, 'click', tC),
                !1
              );
            },
            trigger: function (t) {
              var e = this || t;
              return (
                td.test(e.type) && e.click && E(e, 'input') && t1(e, 'click'),
                !0
              );
            },
            _default: function (t) {
              var e = t.target;
              return (
                (td.test(e.type) &&
                  e.click &&
                  E(e, 'input') &&
                  Y.get(e, 'click')) ||
                E(e, 'a')
              );
            },
          },
          beforeunload: {
            postDispatch: function (t) {
              void 0 !== t.result &&
                t.originalEvent &&
                (t.originalEvent.returnValue = t.result);
            },
          },
        },
      }),
        (C.removeEvent = function (t, e, n) {
          t.removeEventListener && t.removeEventListener(e, n);
        }),
        (C.Event = function (t, e) {
          if (!(this instanceof C.Event)) return new C.Event(t, e);
          t && t.type
            ? ((this.originalEvent = t),
              (this.type = t.type),
              (this.isDefaultPrevented =
                t.defaultPrevented ||
                (void 0 === t.defaultPrevented && !1 === t.returnValue)
                  ? tC
                  : tb),
              (this.target =
                t.target && 3 === t.target.nodeType
                  ? t.target.parentNode
                  : t.target),
              (this.currentTarget = t.currentTarget),
              (this.relatedTarget = t.relatedTarget))
            : (this.type = t),
            e && C.extend(this, e),
            (this.timeStamp = (t && t.timeStamp) || Date.now()),
            (this[C.expando] = !0);
        }),
        (C.Event.prototype = {
          constructor: C.Event,
          isDefaultPrevented: tb,
          isPropagationStopped: tb,
          isImmediatePropagationStopped: tb,
          isSimulated: !1,
          preventDefault: function () {
            var t = this.originalEvent;
            (this.isDefaultPrevented = tC),
              t && !this.isSimulated && t.preventDefault();
          },
          stopPropagation: function () {
            var t = this.originalEvent;
            (this.isPropagationStopped = tC),
              t && !this.isSimulated && t.stopPropagation();
          },
          stopImmediatePropagation: function () {
            var t = this.originalEvent;
            (this.isImmediatePropagationStopped = tC),
              t && !this.isSimulated && t.stopImmediatePropagation(),
              this.stopPropagation();
          },
        }),
        C.each(
          {
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: !0,
          },
          C.event.addProp
        ),
        C.each({ focus: 'focusin', blur: 'focusout' }, function (t, e) {
          C.event.special[t] = {
            setup: function () {
              return t1(this, t, tx), !1;
            },
            trigger: function () {
              return t1(this, t), !0;
            },
            _default: function () {
              return !0;
            },
            delegateType: e,
          };
        }),
        C.each(
          {
            mouseenter: 'mouseover',
            mouseleave: 'mouseout',
            pointerenter: 'pointerover',
            pointerleave: 'pointerout',
          },
          function (t, e) {
            C.event.special[t] = {
              delegateType: e,
              bindType: e,
              handle: function (t) {
                var n,
                  i = t.relatedTarget,
                  r = t.handleObj;
                return (
                  (i && (i === this || C.contains(this, i))) ||
                    ((t.type = r.origType),
                    (n = r.handler.apply(this, arguments)),
                    (t.type = e)),
                  n
                );
              },
            };
          }
        ),
        C.fn.extend({
          on: function (t, e, n, i) {
            return tw(this, t, e, n, i);
          },
          one: function (t, e, n, i) {
            return tw(this, t, e, n, i, 1);
          },
          off: function (t, e, n) {
            var i, r;
            if (t && t.preventDefault && t.handleObj)
              return (
                (i = t.handleObj),
                C(t.delegateTarget).off(
                  i.namespace ? i.origType + '.' + i.namespace : i.origType,
                  i.selector,
                  i.handler
                ),
                this
              );
            if ('object' == typeof t) {
              for (r in t) this.off(r, e, t[r]);
              return this;
            }
            return (
              (!1 !== e && 'function' != typeof e) || ((n = e), (e = void 0)),
              !1 === n && (n = tb),
              this.each(function () {
                C.event.remove(this, t, n, e);
              })
            );
          },
        });
      var tP = /<script|<style|<link/i,
        tA = /checked\s*(?:[^=]|=\s*.checked.)/i,
        tE = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
      function tS(t, e) {
        return (
          (E(t, 'table') &&
            E(11 !== e.nodeType ? e : e.firstChild, 'tr') &&
            C(t).children('tbody')[0]) ||
          t
        );
      }
      function tk(t) {
        return (t.type = (null !== t.getAttribute('type')) + '/' + t.type), t;
      }
      function t4(t) {
        return (
          'true/' === (t.type || '').slice(0, 5)
            ? (t.type = t.type.slice(5))
            : t.removeAttribute('type'),
          t
        );
      }
      function tT(t, e) {
        var n, i, r, o, s, a;
        if (1 === e.nodeType) {
          if (Y.hasData(t) && (a = Y.get(t).events))
            for (r in (Y.remove(e, 'handle events'), a))
              for (n = 0, i = a[r].length; n < i; n++)
                C.event.add(e, r, a[r][n]);
          J.hasData(t) &&
            ((o = J.access(t)), (s = C.extend({}, o)), J.set(e, s));
        }
      }
      function t3(t, e) {
        var n = e.nodeName.toLowerCase();
        'input' === n && td.test(t.type)
          ? (e.checked = t.checked)
          : ('input' !== n && 'textarea' !== n) ||
            (e.defaultValue = t.defaultValue);
      }
      function tM(t, e, n, i) {
        e = o(e);
        var r,
          s,
          a,
          l,
          u,
          c,
          h = 0,
          p = t.length,
          g = p - 1,
          $ = e[0],
          v = f($);
        if (v || (p > 1 && 'string' == typeof $ && !d.checkClone && tA.test($)))
          return t.each(function (r) {
            var o = t.eq(r);
            v && (e[0] = $.call(this, r, o.html())), tM(o, e, n, i);
          });
        if (
          p &&
          ((s = (r = tm(e, t[0].ownerDocument, !1, t, i)).firstChild),
          1 === r.childNodes.length && (r = s),
          s || i)
        ) {
          for (l = (a = C.map(t0(r, 'script'), tk)).length; h < p; h++)
            (u = r),
              h !== g &&
                ((u = C.clone(u, !0, !0)), l && C.merge(a, t0(u, 'script'))),
              n.call(t[h], u, h);
          if (l)
            for (
              c = a[a.length - 1].ownerDocument, C.map(a, t4), h = 0;
              h < l;
              h++
            )
              (u = a[h]),
                tg.test(u.type || '') &&
                  !Y.access(u, 'globalEval') &&
                  C.contains(c, u) &&
                  (u.src && 'module' !== (u.type || '').toLowerCase()
                    ? C._evalUrl &&
                      !u.noModule &&
                      C._evalUrl(
                        u.src,
                        { nonce: u.nonce || u.getAttribute('nonce') },
                        c
                      )
                    : y(u.textContent.replace(tE, ''), u, c));
        }
        return t;
      }
      function tD(t, e, n) {
        for (var i, r = e ? C.filter(e, t) : t, o = 0; null != (i = r[o]); o++)
          n || 1 !== i.nodeType || C.cleanData(t0(i)),
            i.parentNode &&
              (n && tr(i) && tv(t0(i, 'script')), i.parentNode.removeChild(i));
        return t;
      }
      C.extend({
        htmlPrefilter: function (t) {
          return t;
        },
        clone: function (t, e, n) {
          var i,
            r,
            o,
            s,
            a = t.cloneNode(!0),
            l = tr(t);
          if (
            !(
              d.noCloneChecked ||
              (1 !== t.nodeType && 11 !== t.nodeType) ||
              C.isXMLDoc(t)
            )
          )
            for (s = t0(a), i = 0, r = (o = t0(t)).length; i < r; i++)
              t3(o[i], s[i]);
          if (e) {
            if (n)
              for (
                o = o || t0(t), s = s || t0(a), i = 0, r = o.length;
                i < r;
                i++
              )
                tT(o[i], s[i]);
            else tT(t, a);
          }
          return (
            (s = t0(a, 'script')).length > 0 && tv(s, !l && t0(t, 'script')), a
          );
        },
        cleanData: function (t) {
          for (
            var e, n, i, r = C.event.special, o = 0;
            void 0 !== (n = t[o]);
            o++
          )
            if (W(n)) {
              if ((e = n[Y.expando])) {
                if (e.events)
                  for (i in e.events)
                    r[i] ? C.event.remove(n, i) : C.removeEvent(n, i, e.handle);
                n[Y.expando] = void 0;
              }
              n[J.expando] && (n[J.expando] = void 0);
            }
        },
      }),
        C.fn.extend({
          detach: function (t) {
            return tD(this, t, !0);
          },
          remove: function (t) {
            return tD(this, t);
          },
          text: function (t) {
            return G(
              this,
              function (t) {
                return void 0 === t
                  ? C.text(this)
                  : this.empty().each(function () {
                      (1 !== this.nodeType &&
                        11 !== this.nodeType &&
                        9 !== this.nodeType) ||
                        (this.textContent = t);
                    });
              },
              null,
              t,
              arguments.length
            );
          },
          append: function () {
            return tM(this, arguments, function (t) {
              (1 !== this.nodeType &&
                11 !== this.nodeType &&
                9 !== this.nodeType) ||
                tS(this, t).appendChild(t);
            });
          },
          prepend: function () {
            return tM(this, arguments, function (t) {
              if (
                1 === this.nodeType ||
                11 === this.nodeType ||
                9 === this.nodeType
              ) {
                var e = tS(this, t);
                e.insertBefore(t, e.firstChild);
              }
            });
          },
          before: function () {
            return tM(this, arguments, function (t) {
              this.parentNode && this.parentNode.insertBefore(t, this);
            });
          },
          after: function () {
            return tM(this, arguments, function (t) {
              this.parentNode &&
                this.parentNode.insertBefore(t, this.nextSibling);
            });
          },
          empty: function () {
            for (var t, e = 0; null != (t = this[e]); e++)
              1 === t.nodeType &&
                (C.cleanData(t0(t, !1)), (t.textContent = ''));
            return this;
          },
          clone: function (t, e) {
            return (
              (t = null != t && t),
              (e = null == e ? t : e),
              this.map(function () {
                return C.clone(this, t, e);
              })
            );
          },
          html: function (t) {
            return G(
              this,
              function (t) {
                var e = this[0] || {},
                  n = 0,
                  i = this.length;
                if (void 0 === t && 1 === e.nodeType) return e.innerHTML;
                if (
                  'string' == typeof t &&
                  !tP.test(t) &&
                  !t$[(tf.exec(t) || ['', ''])[1].toLowerCase()]
                ) {
                  t = C.htmlPrefilter(t);
                  try {
                    for (; n < i; n++)
                      1 === (e = this[n] || {}).nodeType &&
                        (C.cleanData(t0(e, !1)), (e.innerHTML = t));
                    e = 0;
                  } catch (r) {}
                }
                e && this.empty().append(t);
              },
              null,
              t,
              arguments.length
            );
          },
          replaceWith: function () {
            var t = [];
            return tM(
              this,
              arguments,
              function (e) {
                var n = this.parentNode;
                0 > C.inArray(this, t) &&
                  (C.cleanData(t0(this)), n && n.replaceChild(e, this));
              },
              t
            );
          },
        }),
        C.each(
          {
            appendTo: 'append',
            prependTo: 'prepend',
            insertBefore: 'before',
            insertAfter: 'after',
            replaceAll: 'replaceWith',
          },
          function (t, e) {
            C.fn[t] = function (t) {
              for (
                var n, i = [], r = C(t), o = r.length - 1, a = 0;
                a <= o;
                a++
              )
                (n = a === o ? this : this.clone(!0)),
                  C(r[a])[e](n),
                  s.apply(i, n.get());
              return this.pushStack(i);
            };
          }
        );
      var t2 = RegExp('^(' + tt + ')(?!px)[a-z%]+$', 'i'),
        tN = function (e) {
          var n = e.ownerDocument.defaultView;
          return (n && n.opener) || (n = t), n.getComputedStyle(e);
        },
        tL = function (t, e, n) {
          var i,
            r,
            o = {};
          for (r in e) (o[r] = t.style[r]), (t.style[r] = e[r]);
          for (r in ((i = n.call(t)), e)) t.style[r] = o[r];
          return i;
        },
        t5 = RegExp(tn.join('|'), 'i');
      function t6(t, e, n) {
        var i,
          r,
          o,
          s,
          a = t.style;
        return (
          (n = n || tN(t)) &&
            ('' !== (s = n.getPropertyValue(e) || n[e]) ||
              tr(t) ||
              (s = C.style(t, e)),
            !d.pixelBoxStyles() &&
              t2.test(s) &&
              t5.test(e) &&
              ((i = a.width),
              (r = a.minWidth),
              (o = a.maxWidth),
              (a.minWidth = a.maxWidth = a.width = s),
              (s = n.width),
              (a.width = i),
              (a.minWidth = r),
              (a.maxWidth = o))),
          void 0 !== s ? s + '' : s
        );
      }
      function t7(t, e) {
        return {
          get: function () {
            if (!t()) return (this.get = e).apply(this, arguments);
            delete this.get;
          },
        };
      }
      !(function () {
        function e() {
          if (c) {
            (u.style.cssText =
              'position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0'),
              (c.style.cssText =
                'position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%'),
              ti.appendChild(u).appendChild(c);
            var e = t.getComputedStyle(c);
            (i = '1%' !== e.top),
              (l = 12 === n(e.marginLeft)),
              (c.style.right = '60%'),
              (s = 36 === n(e.right)),
              (r = 36 === n(e.width)),
              (c.style.position = 'absolute'),
              (o = 12 === n(c.offsetWidth / 3)),
              ti.removeChild(u),
              (c = null);
          }
        }
        function n(t) {
          return Math.round(parseFloat(t));
        }
        var i,
          r,
          o,
          s,
          a,
          l,
          u = $.createElement('div'),
          c = $.createElement('div');
        c.style &&
          ((c.style.backgroundClip = 'content-box'),
          (c.cloneNode(!0).style.backgroundClip = ''),
          (d.clearCloneStyle = 'content-box' === c.style.backgroundClip),
          C.extend(d, {
            boxSizingReliable: function () {
              return e(), r;
            },
            pixelBoxStyles: function () {
              return e(), s;
            },
            pixelPosition: function () {
              return e(), i;
            },
            reliableMarginLeft: function () {
              return e(), l;
            },
            scrollboxSize: function () {
              return e(), o;
            },
            reliableTrDimensions: function () {
              var e, n, i, r;
              return (
                null == a &&
                  ((e = $.createElement('table')),
                  (n = $.createElement('tr')),
                  (i = $.createElement('div')),
                  (e.style.cssText =
                    'position:absolute;left:-11111px;border-collapse:separate'),
                  (n.style.cssText = 'border:1px solid'),
                  (n.style.height = '1px'),
                  (i.style.height = '9px'),
                  (i.style.display = 'block'),
                  ti.appendChild(e).appendChild(n).appendChild(i),
                  (a =
                    parseInt((r = t.getComputedStyle(n)).height, 10) +
                      parseInt(r.borderTopWidth, 10) +
                      parseInt(r.borderBottomWidth, 10) ===
                    n.offsetHeight),
                  ti.removeChild(e)),
                a
              );
            },
          }));
      })();
      var tF = ['Webkit', 'Moz', 'ms'],
        tz = $.createElement('div').style,
        tB = {};
      function tO(t) {
        return (
          C.cssProps[t] ||
          tB[t] ||
          (t in tz
            ? t
            : (tB[t] =
                (function (t) {
                  for (
                    var e = t[0].toUpperCase() + t.slice(1), n = tF.length;
                    n--;

                  )
                    if ((t = tF[n] + e) in tz) return t;
                })(t) || t))
        );
      }
      var tV = /^(none|table(?!-c[ea]).+)/,
        tR = /^--/,
        tI = { position: 'absolute', visibility: 'hidden', display: 'block' },
        t8 = { letterSpacing: '0', fontWeight: '400' };
      function tG(t, e, n) {
        var i = te.exec(e);
        return i ? Math.max(0, i[2] - (n || 0)) + (i[3] || 'px') : e;
      }
      function tj(t, e, n, i, r, o) {
        var s = 'width' === e ? 1 : 0,
          a = 0,
          l = 0;
        if (n === (i ? 'border' : 'content')) return 0;
        for (; s < 4; s += 2)
          'margin' === n && (l += C.css(t, n + tn[s], !0, r)),
            i
              ? ('content' === n && (l -= C.css(t, 'padding' + tn[s], !0, r)),
                'margin' !== n &&
                  (l -= C.css(t, 'border' + tn[s] + 'Width', !0, r)))
              : ((l += C.css(t, 'padding' + tn[s], !0, r)),
                'padding' !== n
                  ? (l += C.css(t, 'border' + tn[s] + 'Width', !0, r))
                  : (a += C.css(t, 'border' + tn[s] + 'Width', !0, r)));
        return (
          !i &&
            o >= 0 &&
            (l +=
              Math.max(
                0,
                Math.ceil(
                  t['offset' + e[0].toUpperCase() + e.slice(1)] -
                    o -
                    l -
                    a -
                    0.5
                )
              ) || 0),
          l
        );
      }
      function tH(t, e, n) {
        var i = tN(t),
          r =
            (!d.boxSizingReliable() || n) &&
            'border-box' === C.css(t, 'boxSizing', !1, i),
          o = r,
          s = t6(t, e, i),
          a = 'offset' + e[0].toUpperCase() + e.slice(1);
        if (t2.test(s)) {
          if (!n) return s;
          s = 'auto';
        }
        return (
          ((!d.boxSizingReliable() && r) ||
            (!d.reliableTrDimensions() && E(t, 'tr')) ||
            'auto' === s ||
            (!parseFloat(s) && 'inline' === C.css(t, 'display', !1, i))) &&
            t.getClientRects().length &&
            ((r = 'border-box' === C.css(t, 'boxSizing', !1, i)),
            (o = a in t) && (s = t[a])),
          (s = parseFloat(s) || 0) +
            tj(t, e, n || (r ? 'border' : 'content'), o, i, s) +
            'px'
        );
      }
      function tU(t, e, n, i, r) {
        return new tU.prototype.init(t, e, n, i, r);
      }
      C.extend({
        cssHooks: {
          opacity: {
            get: function (t, e) {
              if (e) {
                var n = t6(t, 'opacity');
                return '' === n ? '1' : n;
              }
            },
          },
        },
        cssNumber: {
          animationIterationCount: !0,
          columnCount: !0,
          fillOpacity: !0,
          flexGrow: !0,
          flexShrink: !0,
          fontWeight: !0,
          gridArea: !0,
          gridColumn: !0,
          gridColumnEnd: !0,
          gridColumnStart: !0,
          gridRow: !0,
          gridRowEnd: !0,
          gridRowStart: !0,
          lineHeight: !0,
          opacity: !0,
          order: !0,
          orphans: !0,
          widows: !0,
          zIndex: !0,
          zoom: !0,
        },
        cssProps: {},
        style: function (t, e, n, i) {
          if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
            var r,
              o,
              s,
              a = q(e),
              l = tR.test(e),
              u = t.style;
            if (
              (l || (e = tO(a)),
              (s = C.cssHooks[e] || C.cssHooks[a]),
              void 0 === n)
            )
              return s && 'get' in s && void 0 !== (r = s.get(t, !1, i))
                ? r
                : u[e];
            'string' == (o = typeof n) &&
              (r = te.exec(n)) &&
              r[1] &&
              ((n = ta(t, e, r)), (o = 'number')),
              null != n &&
                n == n &&
                ('number' !== o ||
                  l ||
                  (n += (r && r[3]) || (C.cssNumber[a] ? '' : 'px')),
                d.clearCloneStyle ||
                  '' !== n ||
                  0 !== e.indexOf('background') ||
                  (u[e] = 'inherit'),
                (s && 'set' in s && void 0 === (n = s.set(t, n, i))) ||
                  (l ? u.setProperty(e, n) : (u[e] = n)));
          }
        },
        css: function (t, e, n, i) {
          var r,
            o,
            s,
            a = q(e);
          return (
            tR.test(e) || (e = tO(a)),
            (s = C.cssHooks[e] || C.cssHooks[a]) &&
              'get' in s &&
              (r = s.get(t, !0, n)),
            void 0 === r && (r = t6(t, e, i)),
            'normal' === r && e in t8 && (r = t8[e]),
            '' === n || n
              ? ((o = parseFloat(r)), !0 === n || isFinite(o) ? o || 0 : r)
              : r
          );
        },
      }),
        C.each(['height', 'width'], function (t, e) {
          C.cssHooks[e] = {
            get: function (t, n, i) {
              if (n)
                return !tV.test(C.css(t, 'display')) ||
                  (t.getClientRects().length && t.getBoundingClientRect().width)
                  ? tH(t, e, i)
                  : tL(t, tI, function () {
                      return tH(t, e, i);
                    });
            },
            set: function (t, n, i) {
              var r,
                o = tN(t),
                s = !d.scrollboxSize() && 'absolute' === o.position,
                a = (s || i) && 'border-box' === C.css(t, 'boxSizing', !1, o),
                l = i ? tj(t, e, i, a, o) : 0;
              return (
                a &&
                  s &&
                  (l -= Math.ceil(
                    t['offset' + e[0].toUpperCase() + e.slice(1)] -
                      parseFloat(o[e]) -
                      tj(t, e, 'border', !1, o) -
                      0.5
                  )),
                l &&
                  (r = te.exec(n)) &&
                  'px' !== (r[3] || 'px') &&
                  ((t.style[e] = n), (n = C.css(t, e))),
                tG(0, n, l)
              );
            },
          };
        }),
        (C.cssHooks.marginLeft = t7(d.reliableMarginLeft, function (t, e) {
          if (e)
            return (
              (parseFloat(t6(t, 'marginLeft')) ||
                t.getBoundingClientRect().left -
                  tL(t, { marginLeft: 0 }, function () {
                    return t.getBoundingClientRect().left;
                  })) + 'px'
            );
        })),
        C.each({ margin: '', padding: '', border: 'Width' }, function (t, e) {
          (C.cssHooks[t + e] = {
            expand: function (n) {
              for (
                var i = 0,
                  r = {},
                  o = 'string' == typeof n ? n.split(' ') : [n];
                i < 4;
                i++
              )
                r[t + tn[i] + e] = o[i] || o[i - 2] || o[0];
              return r;
            },
          }),
            'margin' !== t && (C.cssHooks[t + e].set = tG);
        }),
        C.fn.extend({
          css: function (t, e) {
            return G(
              this,
              function (t, e, n) {
                var i,
                  r,
                  o = {},
                  s = 0;
                if (Array.isArray(e)) {
                  for (i = tN(t), r = e.length; s < r; s++)
                    o[e[s]] = C.css(t, e[s], !1, i);
                  return o;
                }
                return void 0 !== n ? C.style(t, e, n) : C.css(t, e);
              },
              t,
              e,
              arguments.length > 1
            );
          },
        }),
        (C.Tween = tU),
        (tU.prototype = {
          constructor: tU,
          init: function (t, e, n, i, r, o) {
            (this.elem = t),
              (this.prop = n),
              (this.easing = r || C.easing._default),
              (this.options = e),
              (this.start = this.now = this.cur()),
              (this.end = i),
              (this.unit = o || (C.cssNumber[n] ? '' : 'px'));
          },
          cur: function () {
            var t = tU.propHooks[this.prop];
            return t && t.get ? t.get(this) : tU.propHooks._default.get(this);
          },
          run: function (t) {
            var e,
              n = tU.propHooks[this.prop];
            return (
              this.options.duration
                ? (this.pos = e =
                    C.easing[this.easing](
                      t,
                      this.options.duration * t,
                      0,
                      1,
                      this.options.duration
                    ))
                : (this.pos = e = t),
              (this.now = (this.end - this.start) * e + this.start),
              this.options.step &&
                this.options.step.call(this.elem, this.now, this),
              n && n.set ? n.set(this) : tU.propHooks._default.set(this),
              this
            );
          },
        }),
        (tU.prototype.init.prototype = tU.prototype),
        (tU.propHooks = {
          _default: {
            get: function (t) {
              var e;
              return 1 !== t.elem.nodeType ||
                (null != t.elem[t.prop] && null == t.elem.style[t.prop])
                ? t.elem[t.prop]
                : (e = C.css(t.elem, t.prop, '')) && 'auto' !== e
                ? e
                : 0;
            },
            set: function (t) {
              C.fx.step[t.prop]
                ? C.fx.step[t.prop](t)
                : 1 === t.elem.nodeType &&
                  (C.cssHooks[t.prop] || null != t.elem.style[tO(t.prop)])
                ? C.style(t.elem, t.prop, t.now + t.unit)
                : (t.elem[t.prop] = t.now);
            },
          },
        }),
        (tU.propHooks.scrollTop = tU.propHooks.scrollLeft =
          {
            set: function (t) {
              t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now);
            },
          }),
        (C.easing = {
          linear: function (t) {
            return t;
          },
          swing: function (t) {
            return 0.5 - Math.cos(t * Math.PI) / 2;
          },
          _default: 'swing',
        }),
        (C.fx = tU.prototype.init),
        (C.fx.step = {});
      var tq,
        t9,
        tW,
        tX,
        tY = /^(?:toggle|show|hide)$/,
        tJ = /queueHooks$/;
      function tZ() {
        return (
          t.setTimeout(function () {
            tq = void 0;
          }),
          (tq = Date.now())
        );
      }
      function tK(t, e) {
        var n,
          i = 0,
          r = { height: t };
        for (e = e ? 1 : 0; i < 4; i += 2 - e)
          r['margin' + (n = tn[i])] = r['padding' + n] = t;
        return e && (r.opacity = r.width = t), r;
      }
      function tQ(t, e, n) {
        for (
          var i,
            r = (et.tweeners[e] || []).concat(et.tweeners['*']),
            o = 0,
            s = r.length;
          o < s;
          o++
        )
          if ((i = r[o].call(n, e, t))) return i;
      }
      function et(t, e, n) {
        var i,
          r,
          o = 0,
          s = et.prefilters.length,
          a = C.Deferred().always(function () {
            delete l.elem;
          }),
          l = function () {
            if (r) return !1;
            for (
              var e = tq || tZ(),
                n = Math.max(0, u.startTime + u.duration - e),
                i = 1 - (n / u.duration || 0),
                o = 0,
                s = u.tweens.length;
              o < s;
              o++
            )
              u.tweens[o].run(i);
            return (
              a.notifyWith(t, [u, i, n]),
              i < 1 && s
                ? n
                : (s || a.notifyWith(t, [u, 1, 0]), a.resolveWith(t, [u]), !1)
            );
          },
          u = a.promise({
            elem: t,
            props: C.extend({}, e),
            opts: C.extend(
              !0,
              { specialEasing: {}, easing: C.easing._default },
              n
            ),
            originalProperties: e,
            originalOptions: n,
            startTime: tq || tZ(),
            duration: n.duration,
            tweens: [],
            createTween: function (e, n) {
              var i = C.Tween(
                t,
                u.opts,
                e,
                n,
                u.opts.specialEasing[e] || u.opts.easing
              );
              return u.tweens.push(i), i;
            },
            stop: function (e) {
              var n = 0,
                i = e ? u.tweens.length : 0;
              if (r) return this;
              for (r = !0; n < i; n++) u.tweens[n].run(1);
              return (
                e
                  ? (a.notifyWith(t, [u, 1, 0]), a.resolveWith(t, [u, e]))
                  : a.rejectWith(t, [u, e]),
                this
              );
            },
          }),
          c = u.props;
        for (
          (function (t, e) {
            var n, i, r, o, s;
            for (n in t)
              if (
                ((r = e[(i = q(n))]),
                Array.isArray((o = t[n])) && ((r = o[1]), (o = t[n] = o[0])),
                n !== i && ((t[i] = o), delete t[n]),
                (s = C.cssHooks[i]) && ('expand' in s))
              )
                for (n in ((o = s.expand(o)), delete t[i], o))
                  (n in t) || ((t[n] = o[n]), (e[n] = r));
              else e[i] = r;
          })(c, u.opts.specialEasing);
          o < s;
          o++
        )
          if ((i = et.prefilters[o].call(u, t, c, u.opts)))
            return (
              f(i.stop) &&
                (C._queueHooks(u.elem, u.opts.queue).stop = i.stop.bind(i)),
              i
            );
        return (
          C.map(c, tQ, u),
          f(u.opts.start) && u.opts.start.call(t, u),
          u
            .progress(u.opts.progress)
            .done(u.opts.done, u.opts.complete)
            .fail(u.opts.fail)
            .always(u.opts.always),
          C.fx.timer(C.extend(l, { elem: t, anim: u, queue: u.opts.queue })),
          u
        );
      }
      (C.Animation = C.extend(et, {
        tweeners: {
          '*': [
            function (t, e) {
              var n = this.createTween(t, e);
              return ta(n.elem, t, te.exec(e), n), n;
            },
          ],
        },
        tweener: function (t, e) {
          f(t) ? ((e = t), (t = ['*'])) : (t = t.match(F));
          for (var n, i = 0, r = t.length; i < r; i++)
            (n = t[i]),
              (et.tweeners[n] = et.tweeners[n] || []),
              et.tweeners[n].unshift(e);
        },
        prefilters: [
          function (t, e, n) {
            var i,
              r,
              o,
              s,
              a,
              l,
              u,
              c,
              h = 'width' in e || 'height' in e,
              p = this,
              d = {},
              f = t.style,
              g = t.nodeType && ts(t),
              $ = Y.get(t, 'fxshow');
            for (i in (n.queue ||
              (null == (s = C._queueHooks(t, 'fx')).unqueued &&
                ((s.unqueued = 0),
                (a = s.empty.fire),
                (s.empty.fire = function () {
                  s.unqueued || a();
                })),
              s.unqueued++,
              p.always(function () {
                p.always(function () {
                  s.unqueued--, C.queue(t, 'fx').length || s.empty.fire();
                });
              })),
            e))
              if (((r = e[i]), tY.test(r))) {
                if (
                  (delete e[i],
                  (o = o || 'toggle' === r),
                  r === (g ? 'hide' : 'show'))
                ) {
                  if ('show' !== r || !$ || void 0 === $[i]) continue;
                  g = !0;
                }
                d[i] = ($ && $[i]) || C.style(t, i);
              }
            if ((l = !C.isEmptyObject(e)) || !C.isEmptyObject(d))
              for (i in (h &&
                1 === t.nodeType &&
                ((n.overflow = [f.overflow, f.overflowX, f.overflowY]),
                null == (u = $ && $.display) && (u = Y.get(t, 'display')),
                'none' === (c = C.css(t, 'display')) &&
                  (u
                    ? (c = u)
                    : (tc([t], !0),
                      (u = t.style.display || u),
                      (c = C.css(t, 'display')),
                      tc([t]))),
                ('inline' === c || ('inline-block' === c && null != u)) &&
                  'none' === C.css(t, 'float') &&
                  (l ||
                    (p.done(function () {
                      f.display = u;
                    }),
                    null == u && (u = 'none' === (c = f.display) ? '' : c)),
                  (f.display = 'inline-block'))),
              n.overflow &&
                ((f.overflow = 'hidden'),
                p.always(function () {
                  (f.overflow = n.overflow[0]),
                    (f.overflowX = n.overflow[1]),
                    (f.overflowY = n.overflow[2]);
                })),
              (l = !1),
              d))
                l ||
                  ($
                    ? 'hidden' in $ && (g = $.hidden)
                    : ($ = Y.access(t, 'fxshow', { display: u })),
                  o && ($.hidden = !g),
                  g && tc([t], !0),
                  p.done(function () {
                    for (i in (g || tc([t]), Y.remove(t, 'fxshow'), d))
                      C.style(t, i, d[i]);
                  })),
                  (l = tQ(g ? $[i] : 0, i, p)),
                  i in $ ||
                    (($[i] = l.start), g && ((l.end = l.start), (l.start = 0)));
          },
        ],
        prefilter: function (t, e) {
          e ? et.prefilters.unshift(t) : et.prefilters.push(t);
        },
      })),
        (C.speed = function (t, e, n) {
          var i =
            t && 'object' == typeof t
              ? C.extend({}, t)
              : {
                  complete: n || (!n && e) || (f(t) && t),
                  duration: t,
                  easing: (n && e) || (e && !f(e) && e),
                };
          return (
            C.fx.off
              ? (i.duration = 0)
              : 'number' != typeof i.duration &&
                (i.duration in C.fx.speeds
                  ? (i.duration = C.fx.speeds[i.duration])
                  : (i.duration = C.fx.speeds._default)),
            (null != i.queue && !0 !== i.queue) || (i.queue = 'fx'),
            (i.old = i.complete),
            (i.complete = function () {
              f(i.old) && i.old.call(this), i.queue && C.dequeue(this, i.queue);
            }),
            i
          );
        }),
        C.fn.extend({
          fadeTo: function (t, e, n, i) {
            return this.filter(ts)
              .css('opacity', 0)
              .show()
              .end()
              .animate({ opacity: e }, t, n, i);
          },
          animate: function (t, e, n, i) {
            var r = C.isEmptyObject(t),
              o = C.speed(e, n, i),
              s = function () {
                var e = et(this, C.extend({}, t), o);
                (r || Y.get(this, 'finish')) && e.stop(!0);
              };
            return (
              (s.finish = s),
              r || !1 === o.queue ? this.each(s) : this.queue(o.queue, s)
            );
          },
          stop: function (t, e, n) {
            var i = function (t) {
              var e = t.stop;
              delete t.stop, e(n);
            };
            return (
              'string' != typeof t && ((n = e), (e = t), (t = void 0)),
              e && this.queue(t || 'fx', []),
              this.each(function () {
                var e = !0,
                  r = null != t && t + 'queueHooks',
                  o = C.timers,
                  s = Y.get(this);
                if (r) s[r] && s[r].stop && i(s[r]);
                else for (r in s) s[r] && s[r].stop && tJ.test(r) && i(s[r]);
                for (r = o.length; r--; )
                  o[r].elem !== this ||
                    (null != t && o[r].queue !== t) ||
                    (o[r].anim.stop(n), (e = !1), o.splice(r, 1));
                (!e && n) || C.dequeue(this, t);
              })
            );
          },
          finish: function (t) {
            return (
              !1 !== t && (t = t || 'fx'),
              this.each(function () {
                var e,
                  n = Y.get(this),
                  i = n[t + 'queue'],
                  r = n[t + 'queueHooks'],
                  o = C.timers,
                  s = i ? i.length : 0;
                for (
                  n.finish = !0,
                    C.queue(this, t, []),
                    r && r.stop && r.stop.call(this, !0),
                    e = o.length;
                  e--;

                )
                  o[e].elem === this &&
                    o[e].queue === t &&
                    (o[e].anim.stop(!0), o.splice(e, 1));
                for (e = 0; e < s; e++)
                  i[e] && i[e].finish && i[e].finish.call(this);
                delete n.finish;
              })
            );
          },
        }),
        C.each(['toggle', 'show', 'hide'], function (t, e) {
          var n = C.fn[e];
          C.fn[e] = function (t, i, r) {
            return null == t || 'boolean' == typeof t
              ? n.apply(this, arguments)
              : this.animate(tK(e, !0), t, i, r);
          };
        }),
        C.each(
          {
            slideDown: tK('show'),
            slideUp: tK('hide'),
            slideToggle: tK('toggle'),
            fadeIn: { opacity: 'show' },
            fadeOut: { opacity: 'hide' },
            fadeToggle: { opacity: 'toggle' },
          },
          function (t, e) {
            C.fn[t] = function (t, n, i) {
              return this.animate(e, t, n, i);
            };
          }
        ),
        (C.timers = []),
        (C.fx.tick = function () {
          var t,
            e = 0,
            n = C.timers;
          for (tq = Date.now(); e < n.length; e++)
            (t = n[e])() || n[e] !== t || n.splice(e--, 1);
          n.length || C.fx.stop(), (tq = void 0);
        }),
        (C.fx.timer = function (t) {
          C.timers.push(t), C.fx.start();
        }),
        (C.fx.interval = 13),
        (C.fx.start = function () {
          t9 ||
            ((t9 = !0),
            (function e() {
              t9 &&
                (!1 === $.hidden && t.requestAnimationFrame
                  ? t.requestAnimationFrame(e)
                  : t.setTimeout(e, C.fx.interval),
                C.fx.tick());
            })());
        }),
        (C.fx.stop = function () {
          t9 = null;
        }),
        (C.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
        (C.fn.delay = function (e, n) {
          return (
            (e = (C.fx && C.fx.speeds[e]) || e),
            (n = n || 'fx'),
            this.queue(n, function (n, i) {
              var r = t.setTimeout(n, e);
              i.stop = function () {
                t.clearTimeout(r);
              };
            })
          );
        }),
        (tW = $.createElement('input')),
        (tX = $.createElement('select').appendChild($.createElement('option'))),
        (tW.type = 'checkbox'),
        (d.checkOn = '' !== tW.value),
        (d.optSelected = tX.selected),
        ((tW = $.createElement('input')).value = 't'),
        (tW.type = 'radio'),
        (d.radioValue = 't' === tW.value);
      var ee,
        en = C.expr.attrHandle;
      C.fn.extend({
        attr: function (t, e) {
          return G(this, C.attr, t, e, arguments.length > 1);
        },
        removeAttr: function (t) {
          return this.each(function () {
            C.removeAttr(this, t);
          });
        },
      }),
        C.extend({
          attr: function (t, e, n) {
            var i,
              r,
              o = t.nodeType;
            if (3 !== o && 8 !== o && 2 !== o)
              return void 0 === t.getAttribute
                ? C.prop(t, e, n)
                : ((1 === o && C.isXMLDoc(t)) ||
                    (r =
                      C.attrHooks[e.toLowerCase()] ||
                      (C.expr.match.bool.test(e) ? ee : void 0)),
                  void 0 !== n
                    ? null === n
                      ? void C.removeAttr(t, e)
                      : r && 'set' in r && void 0 !== (i = r.set(t, n, e))
                      ? i
                      : (t.setAttribute(e, n + ''), n)
                    : r && 'get' in r && null !== (i = r.get(t, e))
                    ? i
                    : null == (i = C.find.attr(t, e))
                    ? void 0
                    : i);
          },
          attrHooks: {
            type: {
              set: function (t, e) {
                if (!d.radioValue && 'radio' === e && E(t, 'input')) {
                  var n = t.value;
                  return t.setAttribute('type', e), n && (t.value = n), e;
                }
              },
            },
          },
          removeAttr: function (t, e) {
            var n,
              i = 0,
              r = e && e.match(F);
            if (r && 1 === t.nodeType)
              for (; (n = r[i++]); ) t.removeAttribute(n);
          },
        }),
        (ee = {
          set: function (t, e, n) {
            return !1 === e ? C.removeAttr(t, n) : t.setAttribute(n, n), n;
          },
        }),
        C.each(C.expr.match.bool.source.match(/\w+/g), function (t, e) {
          var n = en[e] || C.find.attr;
          en[e] = function (t, e, i) {
            var r,
              o,
              s = e.toLowerCase();
            return (
              i ||
                ((o = en[s]),
                (en[s] = r),
                (r = null != n(t, e, i) ? s : null),
                (en[s] = o)),
              r
            );
          };
        });
      var ei = /^(?:input|select|textarea|button)$/i,
        er = /^(?:a|area)$/i;
      function eo(t) {
        return (t.match(F) || []).join(' ');
      }
      function es(t) {
        return (t.getAttribute && t.getAttribute('class')) || '';
      }
      function ea(t) {
        return Array.isArray(t)
          ? t
          : ('string' == typeof t && t.match(F)) || [];
      }
      C.fn.extend({
        prop: function (t, e) {
          return G(this, C.prop, t, e, arguments.length > 1);
        },
        removeProp: function (t) {
          return this.each(function () {
            delete this[C.propFix[t] || t];
          });
        },
      }),
        C.extend({
          prop: function (t, e, n) {
            var i,
              r,
              o = t.nodeType;
            if (3 !== o && 8 !== o && 2 !== o)
              return (
                (1 === o && C.isXMLDoc(t)) ||
                  ((e = C.propFix[e] || e), (r = C.propHooks[e])),
                void 0 !== n
                  ? r && 'set' in r && void 0 !== (i = r.set(t, n, e))
                    ? i
                    : (t[e] = n)
                  : r && 'get' in r && null !== (i = r.get(t, e))
                  ? i
                  : t[e]
              );
          },
          propHooks: {
            tabIndex: {
              get: function (t) {
                var e = C.find.attr(t, 'tabindex');
                return e
                  ? parseInt(e, 10)
                  : ei.test(t.nodeName) || (er.test(t.nodeName) && t.href)
                  ? 0
                  : -1;
              },
            },
          },
          propFix: { for: 'htmlFor', class: 'className' },
        }),
        d.optSelected ||
          (C.propHooks.selected = {
            get: function (t) {
              var e = t.parentNode;
              return e && e.parentNode && e.parentNode.selectedIndex, null;
            },
            set: function (t) {
              var e = t.parentNode;
              e &&
                (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex);
            },
          }),
        C.each(
          [
            'tabIndex',
            'readOnly',
            'maxLength',
            'cellSpacing',
            'cellPadding',
            'rowSpan',
            'colSpan',
            'useMap',
            'frameBorder',
            'contentEditable',
          ],
          function () {
            C.propFix[this.toLowerCase()] = this;
          }
        ),
        C.fn.extend({
          addClass: function (t) {
            var e,
              n,
              i,
              r,
              o,
              s,
              a,
              l = 0;
            if (f(t))
              return this.each(function (e) {
                C(this).addClass(t.call(this, e, es(this)));
              });
            if ((e = ea(t)).length) {
              for (; (n = this[l++]); )
                if (
                  ((r = es(n)), (i = 1 === n.nodeType && ' ' + eo(r) + ' '))
                ) {
                  for (s = 0; (o = e[s++]); )
                    0 > i.indexOf(' ' + o + ' ') && (i += o + ' ');
                  r !== (a = eo(i)) && n.setAttribute('class', a);
                }
            }
            return this;
          },
          removeClass: function (t) {
            var e,
              n,
              i,
              r,
              o,
              s,
              a,
              l = 0;
            if (f(t))
              return this.each(function (e) {
                C(this).removeClass(t.call(this, e, es(this)));
              });
            if (!arguments.length) return this.attr('class', '');
            if ((e = ea(t)).length) {
              for (; (n = this[l++]); )
                if (
                  ((r = es(n)), (i = 1 === n.nodeType && ' ' + eo(r) + ' '))
                ) {
                  for (s = 0; (o = e[s++]); )
                    for (; i.indexOf(' ' + o + ' ') > -1; )
                      i = i.replace(' ' + o + ' ', ' ');
                  r !== (a = eo(i)) && n.setAttribute('class', a);
                }
            }
            return this;
          },
          toggleClass: function (t, e) {
            var n = typeof t,
              i = 'string' === n || Array.isArray(t);
            return 'boolean' == typeof e && i
              ? e
                ? this.addClass(t)
                : this.removeClass(t)
              : f(t)
              ? this.each(function (n) {
                  C(this).toggleClass(t.call(this, n, es(this), e), e);
                })
              : this.each(function () {
                  var e, r, o, s;
                  if (i)
                    for (r = 0, o = C(this), s = ea(t); (e = s[r++]); )
                      o.hasClass(e) ? o.removeClass(e) : o.addClass(e);
                  else
                    (void 0 !== t && 'boolean' !== n) ||
                      ((e = es(this)) && Y.set(this, '__className__', e),
                      this.setAttribute &&
                        this.setAttribute(
                          'class',
                          e || !1 === t
                            ? ''
                            : Y.get(this, '__className__') || ''
                        ));
                });
          },
          hasClass: function (t) {
            var e,
              n,
              i = 0;
            for (e = ' ' + t + ' '; (n = this[i++]); )
              if (1 === n.nodeType && (' ' + eo(es(n)) + ' ').indexOf(e) > -1)
                return !0;
            return !1;
          },
        });
      var el = /\r/g;
      C.fn.extend({
        val: function (t) {
          var e,
            n,
            i,
            r = this[0];
          return arguments.length
            ? ((i = f(t)),
              this.each(function (n) {
                var r;
                1 === this.nodeType &&
                  (null == (r = i ? t.call(this, n, C(this).val()) : t)
                    ? (r = '')
                    : 'number' == typeof r
                    ? (r += '')
                    : Array.isArray(r) &&
                      (r = C.map(r, function (t) {
                        return null == t ? '' : t + '';
                      })),
                  ((e =
                    C.valHooks[this.type] ||
                    C.valHooks[this.nodeName.toLowerCase()]) &&
                    'set' in e &&
                    void 0 !== e.set(this, r, 'value')) ||
                    (this.value = r));
              }))
            : r
            ? (e =
                C.valHooks[r.type] || C.valHooks[r.nodeName.toLowerCase()]) &&
              'get' in e &&
              void 0 !== (n = e.get(r, 'value'))
              ? n
              : 'string' == typeof (n = r.value)
              ? n.replace(el, '')
              : null == n
              ? ''
              : n
            : void 0;
        },
      }),
        C.extend({
          valHooks: {
            option: {
              get: function (t) {
                var e = C.find.attr(t, 'value');
                return null != e ? e : eo(C.text(t));
              },
            },
            select: {
              get: function (t) {
                var e,
                  n,
                  i,
                  r = t.options,
                  o = t.selectedIndex,
                  s = 'select-one' === t.type,
                  a = s ? null : [],
                  l = s ? o + 1 : r.length;
                for (i = o < 0 ? l : s ? o : 0; i < l; i++)
                  if (
                    ((n = r[i]).selected || i === o) &&
                    !n.disabled &&
                    (!n.parentNode.disabled || !E(n.parentNode, 'optgroup'))
                  ) {
                    if (((e = C(n).val()), s)) return e;
                    a.push(e);
                  }
                return a;
              },
              set: function (t, e) {
                for (
                  var n, i, r = t.options, o = C.makeArray(e), s = r.length;
                  s--;

                )
                  ((i = r[s]).selected =
                    C.inArray(C.valHooks.option.get(i), o) > -1) && (n = !0);
                return n || (t.selectedIndex = -1), o;
              },
            },
          },
        }),
        C.each(['radio', 'checkbox'], function () {
          (C.valHooks[this] = {
            set: function (t, e) {
              if (Array.isArray(e))
                return (t.checked = C.inArray(C(t).val(), e) > -1);
            },
          }),
            d.checkOn ||
              (C.valHooks[this].get = function (t) {
                return null === t.getAttribute('value') ? 'on' : t.value;
              });
        }),
        (d.focusin = 'onfocusin' in t);
      var eu = /^(?:focusinfocus|focusoutblur)$/,
        ec = function (t) {
          t.stopPropagation();
        };
      C.extend(C.event, {
        trigger: function (e, n, i, r) {
          var o,
            s,
            a,
            l,
            u,
            h,
            p,
            d,
            v = [i || $],
            y = c.call(e, 'type') ? e.type : e,
            m = c.call(e, 'namespace') ? e.namespace.split('.') : [];
          if (
            ((s = d = a = i = i || $),
            3 !== i.nodeType &&
              8 !== i.nodeType &&
              !eu.test(y + C.event.triggered) &&
              (y.indexOf('.') > -1 &&
                ((y = (m = y.split('.')).shift()), m.sort()),
              (u = 0 > y.indexOf(':') && 'on' + y),
              ((e = e[C.expando]
                ? e
                : new C.Event(y, 'object' == typeof e && e)).isTrigger = r
                ? 2
                : 3),
              (e.namespace = m.join('.')),
              (e.rnamespace = e.namespace
                ? RegExp('(^|\\.)' + m.join('\\.(?:.*\\.|)') + '(\\.|$)')
                : null),
              (e.result = void 0),
              e.target || (e.target = i),
              (n = null == n ? [e] : C.makeArray(n, [e])),
              (p = C.event.special[y] || {}),
              r || !p.trigger || !1 !== p.trigger.apply(i, n)))
          ) {
            if (!r && !p.noBubble && !g(i)) {
              for (
                l = p.delegateType || y, eu.test(l + y) || (s = s.parentNode);
                s;
                s = s.parentNode
              )
                v.push(s), (a = s);
              a === (i.ownerDocument || $) &&
                v.push(a.defaultView || a.parentWindow || t);
            }
            for (o = 0; (s = v[o++]) && !e.isPropagationStopped(); )
              (d = s),
                (e.type = o > 1 ? l : p.bindType || y),
                (h =
                  (Y.get(s, 'events') || Object.create(null))[e.type] &&
                  Y.get(s, 'handle')) && h.apply(s, n),
                (h = u && s[u]) &&
                  h.apply &&
                  W(s) &&
                  ((e.result = h.apply(s, n)),
                  !1 === e.result && e.preventDefault());
            return (
              (e.type = y),
              r ||
                e.isDefaultPrevented() ||
                (p._default && !1 !== p._default.apply(v.pop(), n)) ||
                !W(i) ||
                (u &&
                  f(i[y]) &&
                  !g(i) &&
                  ((a = i[u]) && (i[u] = null),
                  (C.event.triggered = y),
                  e.isPropagationStopped() && d.addEventListener(y, ec),
                  i[y](),
                  e.isPropagationStopped() && d.removeEventListener(y, ec),
                  (C.event.triggered = void 0),
                  a && (i[u] = a))),
              e.result
            );
          }
        },
        simulate: function (t, e, n) {
          var i = C.extend(new C.Event(), n, { type: t, isSimulated: !0 });
          C.event.trigger(i, null, e);
        },
      }),
        C.fn.extend({
          trigger: function (t, e) {
            return this.each(function () {
              C.event.trigger(t, e, this);
            });
          },
          triggerHandler: function (t, e) {
            var n = this[0];
            if (n) return C.event.trigger(t, e, n, !0);
          },
        }),
        d.focusin ||
          C.each({ focus: 'focusin', blur: 'focusout' }, function (t, e) {
            var n = function (t) {
              C.event.simulate(e, t.target, C.event.fix(t));
            };
            C.event.special[e] = {
              setup: function () {
                var i = this.ownerDocument || this.document || this,
                  r = Y.access(i, e);
                r || i.addEventListener(t, n, !0), Y.access(i, e, (r || 0) + 1);
              },
              teardown: function () {
                var i = this.ownerDocument || this.document || this,
                  r = Y.access(i, e) - 1;
                r
                  ? Y.access(i, e, r)
                  : (i.removeEventListener(t, n, !0), Y.remove(i, e));
              },
            };
          });
      var eh = t.location,
        ep = { guid: Date.now() },
        ed = /\?/;
      C.parseXML = function (e) {
        var n, i;
        if (!e || 'string' != typeof e) return null;
        try {
          n = new t.DOMParser().parseFromString(e, 'text/xml');
        } catch (r) {}
        return (
          (i = n && n.getElementsByTagName('parsererror')[0]),
          (n && !i) ||
            C.error(
              'Invalid XML: ' +
                (i
                  ? C.map(i.childNodes, function (t) {
                      return t.textContent;
                    }).join('\n')
                  : e)
            ),
          n
        );
      };
      var ef = /\[\]$/,
        eg = /\r?\n/g,
        e$ = /^(?:submit|button|image|reset|file)$/i,
        e0 = /^(?:input|select|textarea|keygen)/i;
      function ev(t, e, n, i) {
        var r;
        if (Array.isArray(e))
          C.each(e, function (e, r) {
            n || ef.test(t)
              ? i(t, r)
              : ev(
                  t + '[' + ('object' == typeof r && null != r ? e : '') + ']',
                  r,
                  n,
                  i
                );
          });
        else if (n || 'object' !== m(e)) i(t, e);
        else for (r in e) ev(t + '[' + r + ']', e[r], n, i);
      }
      (C.param = function (t, e) {
        var n,
          i = [],
          r = function (t, e) {
            var n = f(e) ? e() : e;
            i[i.length] =
              encodeURIComponent(t) +
              '=' +
              encodeURIComponent(null == n ? '' : n);
          };
        if (null == t) return '';
        if (Array.isArray(t) || (t.jquery && !C.isPlainObject(t)))
          C.each(t, function () {
            r(this.name, this.value);
          });
        else for (n in t) ev(n, t[n], e, r);
        return i.join('&');
      }),
        C.fn.extend({
          serialize: function () {
            return C.param(this.serializeArray());
          },
          serializeArray: function () {
            return this.map(function () {
              var t = C.prop(this, 'elements');
              return t ? C.makeArray(t) : this;
            })
              .filter(function () {
                var t = this.type;
                return (
                  this.name &&
                  !C(this).is(':disabled') &&
                  e0.test(this.nodeName) &&
                  !e$.test(t) &&
                  (this.checked || !td.test(t))
                );
              })
              .map(function (t, e) {
                var n = C(this).val();
                return null == n
                  ? null
                  : Array.isArray(n)
                  ? C.map(n, function (t) {
                      return { name: e.name, value: t.replace(eg, '\r\n') };
                    })
                  : { name: e.name, value: n.replace(eg, '\r\n') };
              })
              .get();
          },
        });
      var ey = /%20/g,
        em = /#.*$/,
        e_ = /([?&])_=[^&]*/,
        eC = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        eb = /^(?:GET|HEAD)$/,
        ex = /^\/\//,
        ew = {},
        e1 = {},
        eP = '*/'.concat('*'),
        eA = $.createElement('a');
      function eE(t) {
        return function (e, n) {
          'string' != typeof e && ((n = e), (e = '*'));
          var i,
            r = 0,
            o = e.toLowerCase().match(F) || [];
          if (f(n))
            for (; (i = o[r++]); )
              '+' === i[0]
                ? (t[(i = i.slice(1) || '*')] = t[i] || []).unshift(n)
                : (t[i] = t[i] || []).push(n);
        };
      }
      function eS(t, e, n, i) {
        var r = {},
          o = t === e1;
        function s(a) {
          var l;
          return (
            (r[a] = !0),
            C.each(t[a] || [], function (t, a) {
              var u = a(e, n, i);
              return 'string' != typeof u || o || r[u]
                ? o
                  ? !(l = u)
                  : void 0
                : (e.dataTypes.unshift(u), s(u), !1);
            }),
            l
          );
        }
        return s(e.dataTypes[0]) || (!r['*'] && s('*'));
      }
      function ek(t, e) {
        var n,
          i,
          r = C.ajaxSettings.flatOptions || {};
        for (n in e) void 0 !== e[n] && ((r[n] ? t : i || (i = {}))[n] = e[n]);
        return i && C.extend(!0, t, i), t;
      }
      (eA.href = eh.href),
        C.extend({
          active: 0,
          lastModified: {},
          etag: {},
          ajaxSettings: {
            url: eh.href,
            type: 'GET',
            isLocal:
              /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(
                eh.protocol
              ),
            global: !0,
            processData: !0,
            async: !0,
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            accepts: {
              '*': eP,
              text: 'text/plain',
              html: 'text/html',
              xml: 'application/xml, text/xml',
              json: 'application/json, text/javascript',
            },
            contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ },
            responseFields: {
              xml: 'responseXML',
              text: 'responseText',
              json: 'responseJSON',
            },
            converters: {
              '* text': String,
              'text html': !0,
              'text json': JSON.parse,
              'text xml': C.parseXML,
            },
            flatOptions: { url: !0, context: !0 },
          },
          ajaxSetup: function (t, e) {
            return e ? ek(ek(t, C.ajaxSettings), e) : ek(C.ajaxSettings, t);
          },
          ajaxPrefilter: eE(ew),
          ajaxTransport: eE(e1),
          ajax: function (e, n) {
            'object' == typeof e && ((n = e), (e = void 0)), (n = n || {});
            var i,
              r,
              o,
              s,
              a,
              l,
              u,
              c,
              h,
              p,
              d = C.ajaxSetup({}, n),
              f = d.context || d,
              g = d.context && (f.nodeType || f.jquery) ? C(f) : C.event,
              v = C.Deferred(),
              y = C.Callbacks('once memory'),
              m = d.statusCode || {},
              _ = {},
              b = {},
              x = 'canceled',
              w = {
                readyState: 0,
                getResponseHeader: function (t) {
                  var e;
                  if (u) {
                    if (!s)
                      for (s = {}; (e = eC.exec(o)); )
                        s[e[1].toLowerCase() + ' '] = (
                          s[e[1].toLowerCase() + ' '] || []
                        ).concat(e[2]);
                    e = s[t.toLowerCase() + ' '];
                  }
                  return null == e ? null : e.join(', ');
                },
                getAllResponseHeaders: function () {
                  return u ? o : null;
                },
                setRequestHeader: function (t, e) {
                  return (
                    null == u &&
                      (_[(t = b[t.toLowerCase()] = b[t.toLowerCase()] || t)] =
                        e),
                    this
                  );
                },
                overrideMimeType: function (t) {
                  return null == u && (d.mimeType = t), this;
                },
                statusCode: function (t) {
                  var e;
                  if (t) {
                    if (u) w.always(t[w.status]);
                    else for (e in t) m[e] = [m[e], t[e]];
                  }
                  return this;
                },
                abort: function (t) {
                  var e = t || x;
                  return i && i.abort(e), E(0, e), this;
                },
              };
            if (
              (v.promise(w),
              (d.url = ((e || d.url || eh.href) + '').replace(
                ex,
                eh.protocol + '//'
              )),
              (d.type = n.method || n.type || d.method || d.type),
              (d.dataTypes = (d.dataType || '*').toLowerCase().match(F) || [
                '',
              ]),
              null == d.crossDomain)
            ) {
              l = $.createElement('a');
              try {
                (l.href = d.url),
                  (l.href = l.href),
                  (d.crossDomain =
                    eA.protocol + '//' + eA.host != l.protocol + '//' + l.host);
              } catch (P) {
                d.crossDomain = !0;
              }
            }
            if (
              (d.data &&
                d.processData &&
                'string' != typeof d.data &&
                (d.data = C.param(d.data, d.traditional)),
              eS(ew, d, n, w),
              u)
            )
              return w;
            for (h in ((c = C.event && d.global) &&
              0 == C.active++ &&
              C.event.trigger('ajaxStart'),
            (d.type = d.type.toUpperCase()),
            (d.hasContent = !eb.test(d.type)),
            (r = d.url.replace(em, '')),
            d.hasContent
              ? d.data &&
                d.processData &&
                0 ===
                  (d.contentType || '').indexOf(
                    'application/x-www-form-urlencoded'
                  ) &&
                (d.data = d.data.replace(ey, '+'))
              : ((p = d.url.slice(r.length)),
                d.data &&
                  (d.processData || 'string' == typeof d.data) &&
                  ((r += (ed.test(r) ? '&' : '?') + d.data), delete d.data),
                !1 === d.cache &&
                  ((r = r.replace(e_, '$1')),
                  (p = (ed.test(r) ? '&' : '?') + '_=' + ep.guid++ + p)),
                (d.url = r + p)),
            d.ifModified &&
              (C.lastModified[r] &&
                w.setRequestHeader('If-Modified-Since', C.lastModified[r]),
              C.etag[r] && w.setRequestHeader('If-None-Match', C.etag[r])),
            ((d.data && d.hasContent && !1 !== d.contentType) ||
              n.contentType) &&
              w.setRequestHeader('Content-Type', d.contentType),
            w.setRequestHeader(
              'Accept',
              d.dataTypes[0] && d.accepts[d.dataTypes[0]]
                ? d.accepts[d.dataTypes[0]] +
                    ('*' !== d.dataTypes[0] ? ', ' + eP + '; q=0.01' : '')
                : d.accepts['*']
            ),
            d.headers))
              w.setRequestHeader(h, d.headers[h]);
            if (d.beforeSend && (!1 === d.beforeSend.call(f, w, d) || u))
              return w.abort();
            if (
              ((x = 'abort'),
              y.add(d.complete),
              w.done(d.success),
              w.fail(d.error),
              (i = eS(e1, d, n, w)))
            ) {
              if (((w.readyState = 1), c && g.trigger('ajaxSend', [w, d]), u))
                return w;
              d.async &&
                d.timeout > 0 &&
                (a = t.setTimeout(function () {
                  w.abort('timeout');
                }, d.timeout));
              try {
                (u = !1), i.send(_, E);
              } catch (A) {
                if (u) throw A;
                E(-1, A);
              }
            } else E(-1, 'No Transport');
            function E(e, n, s, l) {
              var h,
                p,
                $,
                _,
                b,
                x = n;
              u ||
                ((u = !0),
                a && t.clearTimeout(a),
                (i = void 0),
                (o = l || ''),
                (w.readyState = e > 0 ? 4 : 0),
                (h = (e >= 200 && e < 300) || 304 === e),
                s &&
                  (_ = (function (t, e, n) {
                    for (
                      var i, r, o, s, a = t.contents, l = t.dataTypes;
                      '*' === l[0];

                    )
                      l.shift(),
                        void 0 === i &&
                          (i =
                            t.mimeType || e.getResponseHeader('Content-Type'));
                    if (i) {
                      for (r in a)
                        if (a[r] && a[r].test(i)) {
                          l.unshift(r);
                          break;
                        }
                    }
                    if (l[0] in n) o = l[0];
                    else {
                      for (r in n) {
                        if (!l[0] || t.converters[r + ' ' + l[0]]) {
                          o = r;
                          break;
                        }
                        s || (s = r);
                      }
                      o = o || s;
                    }
                    if (o) return o !== l[0] && l.unshift(o), n[o];
                  })(d, w, s)),
                !h &&
                  C.inArray('script', d.dataTypes) > -1 &&
                  0 > C.inArray('json', d.dataTypes) &&
                  (d.converters['text script'] = function () {}),
                (_ = (function (t, e, n, i) {
                  var r,
                    o,
                    s,
                    a,
                    l,
                    u = {},
                    c = t.dataTypes.slice();
                  if (c[1])
                    for (s in t.converters)
                      u[s.toLowerCase()] = t.converters[s];
                  for (o = c.shift(); o; )
                    if (
                      (t.responseFields[o] && (n[t.responseFields[o]] = e),
                      !l &&
                        i &&
                        t.dataFilter &&
                        (e = t.dataFilter(e, t.dataType)),
                      (l = o),
                      (o = c.shift()))
                    ) {
                      if ('*' === o) o = l;
                      else if ('*' !== l && l !== o) {
                        if (!(s = u[l + ' ' + o] || u['* ' + o])) {
                          for (r in u)
                            if (
                              (a = r.split(' '))[1] === o &&
                              (s = u[l + ' ' + a[0]] || u['* ' + a[0]])
                            ) {
                              !0 === s
                                ? (s = u[r])
                                : !0 !== u[r] && ((o = a[0]), c.unshift(a[1]));
                              break;
                            }
                        }
                        if (!0 !== s) {
                          if (s && t.throws) e = s(e);
                          else
                            try {
                              e = s(e);
                            } catch (h) {
                              return {
                                state: 'parsererror',
                                error: s
                                  ? h
                                  : 'No conversion from ' + l + ' to ' + o,
                              };
                            }
                        }
                      }
                    }
                  return { state: 'success', data: e };
                })(d, _, w, h)),
                h
                  ? (d.ifModified &&
                      ((b = w.getResponseHeader('Last-Modified')) &&
                        (C.lastModified[r] = b),
                      (b = w.getResponseHeader('etag')) && (C.etag[r] = b)),
                    204 === e || 'HEAD' === d.type
                      ? (x = 'nocontent')
                      : 304 === e
                      ? (x = 'notmodified')
                      : ((x = _.state), (p = _.data), (h = !($ = _.error))))
                  : (($ = x), (!e && x) || ((x = 'error'), e < 0 && (e = 0))),
                (w.status = e),
                (w.statusText = (n || x) + ''),
                h ? v.resolveWith(f, [p, x, w]) : v.rejectWith(f, [w, x, $]),
                w.statusCode(m),
                (m = void 0),
                c &&
                  g.trigger(h ? 'ajaxSuccess' : 'ajaxError', [w, d, h ? p : $]),
                y.fireWith(f, [w, x]),
                c &&
                  (g.trigger('ajaxComplete', [w, d]),
                  --C.active || C.event.trigger('ajaxStop')));
            }
            return w;
          },
          getJSON: function (t, e, n) {
            return C.get(t, e, n, 'json');
          },
          getScript: function (t, e) {
            return C.get(t, void 0, e, 'script');
          },
        }),
        C.each(['get', 'post'], function (t, e) {
          C[e] = function (t, n, i, r) {
            return (
              f(n) && ((r = r || i), (i = n), (n = void 0)),
              C.ajax(
                C.extend(
                  { url: t, type: e, dataType: r, data: n, success: i },
                  C.isPlainObject(t) && t
                )
              )
            );
          };
        }),
        C.ajaxPrefilter(function (t) {
          var e;
          for (e in t.headers)
            'content-type' === e.toLowerCase() &&
              (t.contentType = t.headers[e] || '');
        }),
        (C._evalUrl = function (t, e, n) {
          return C.ajax({
            url: t,
            type: 'GET',
            dataType: 'script',
            cache: !0,
            async: !1,
            global: !1,
            converters: { 'text script': function () {} },
            dataFilter: function (t) {
              C.globalEval(t, e, n);
            },
          });
        }),
        C.fn.extend({
          wrapAll: function (t) {
            var e;
            return (
              this[0] &&
                (f(t) && (t = t.call(this[0])),
                (e = C(t, this[0].ownerDocument).eq(0).clone(!0)),
                this[0].parentNode && e.insertBefore(this[0]),
                e
                  .map(function () {
                    for (var t = this; t.firstElementChild; )
                      t = t.firstElementChild;
                    return t;
                  })
                  .append(this)),
              this
            );
          },
          wrapInner: function (t) {
            return f(t)
              ? this.each(function (e) {
                  C(this).wrapInner(t.call(this, e));
                })
              : this.each(function () {
                  var e = C(this),
                    n = e.contents();
                  n.length ? n.wrapAll(t) : e.append(t);
                });
          },
          wrap: function (t) {
            var e = f(t);
            return this.each(function (n) {
              C(this).wrapAll(e ? t.call(this, n) : t);
            });
          },
          unwrap: function (t) {
            return (
              this.parent(t)
                .not('body')
                .each(function () {
                  C(this).replaceWith(this.childNodes);
                }),
              this
            );
          },
        }),
        (C.expr.pseudos.hidden = function (t) {
          return !C.expr.pseudos.visible(t);
        }),
        (C.expr.pseudos.visible = function (t) {
          return !!(
            t.offsetWidth ||
            t.offsetHeight ||
            t.getClientRects().length
          );
        }),
        (C.ajaxSettings.xhr = function () {
          try {
            return new t.XMLHttpRequest();
          } catch (e) {}
        });
      var e4 = { 0: 200, 1223: 204 },
        eT = C.ajaxSettings.xhr();
      (d.cors = !!eT && 'withCredentials' in eT),
        (d.ajax = eT = !!eT),
        C.ajaxTransport(function (e) {
          var n, i;
          if (d.cors || (eT && !e.crossDomain))
            return {
              send: function (r, o) {
                var s,
                  a = e.xhr();
                if (
                  (a.open(e.type, e.url, e.async, e.username, e.password),
                  e.xhrFields)
                )
                  for (s in e.xhrFields) a[s] = e.xhrFields[s];
                for (s in (e.mimeType &&
                  a.overrideMimeType &&
                  a.overrideMimeType(e.mimeType),
                e.crossDomain ||
                  r['X-Requested-With'] ||
                  (r['X-Requested-With'] = 'XMLHttpRequest'),
                r))
                  a.setRequestHeader(s, r[s]);
                (n = function (t) {
                  return function () {
                    n &&
                      ((n =
                        i =
                        a.onload =
                        a.onerror =
                        a.onabort =
                        a.ontimeout =
                        a.onreadystatechange =
                          null),
                      'abort' === t
                        ? a.abort()
                        : 'error' === t
                        ? 'number' != typeof a.status
                          ? o(0, 'error')
                          : o(a.status, a.statusText)
                        : o(
                            e4[a.status] || a.status,
                            a.statusText,
                            'text' !== (a.responseType || 'text') ||
                              'string' != typeof a.responseText
                              ? { binary: a.response }
                              : { text: a.responseText },
                            a.getAllResponseHeaders()
                          ));
                  };
                }),
                  (a.onload = n()),
                  (i = a.onerror = a.ontimeout = n('error')),
                  void 0 !== a.onabort
                    ? (a.onabort = i)
                    : (a.onreadystatechange = function () {
                        4 === a.readyState &&
                          t.setTimeout(function () {
                            n && i();
                          });
                      }),
                  (n = n('abort'));
                try {
                  a.send((e.hasContent && e.data) || null);
                } catch (l) {
                  if (n) throw l;
                }
              },
              abort: function () {
                n && n();
              },
            };
        }),
        C.ajaxPrefilter(function (t) {
          t.crossDomain && (t.contents.script = !1);
        }),
        C.ajaxSetup({
          accepts: {
            script:
              'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript',
          },
          contents: { script: /\b(?:java|ecma)script\b/ },
          converters: {
            'text script': function (t) {
              return C.globalEval(t), t;
            },
          },
        }),
        C.ajaxPrefilter('script', function (t) {
          void 0 === t.cache && (t.cache = !1),
            t.crossDomain && (t.type = 'GET');
        }),
        C.ajaxTransport('script', function (t) {
          var e, n;
          if (t.crossDomain || t.scriptAttrs)
            return {
              send: function (i, r) {
                (e = C('<script>')
                  .attr(t.scriptAttrs || {})
                  .prop({ charset: t.scriptCharset, src: t.url })
                  .on(
                    'load error',
                    (n = function (t) {
                      e.remove(),
                        (n = null),
                        t && r('error' === t.type ? 404 : 200, t.type);
                    })
                  )),
                  $.head.appendChild(e[0]);
              },
              abort: function () {
                n && n();
              },
            };
        });
      var e3,
        eM = [],
        eD = /(=)\?(?=&|$)|\?\?/;
      C.ajaxSetup({
        jsonp: 'callback',
        jsonpCallback: function () {
          var t = eM.pop() || C.expando + '_' + ep.guid++;
          return (this[t] = !0), t;
        },
      }),
        C.ajaxPrefilter('json jsonp', function (e, n, i) {
          var r,
            o,
            s,
            a =
              !1 !== e.jsonp &&
              (eD.test(e.url)
                ? 'url'
                : 'string' == typeof e.data &&
                  0 ===
                    (e.contentType || '').indexOf(
                      'application/x-www-form-urlencoded'
                    ) &&
                  eD.test(e.data) &&
                  'data');
          if (a || 'jsonp' === e.dataTypes[0])
            return (
              (r = e.jsonpCallback =
                f(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback),
              a
                ? (e[a] = e[a].replace(eD, '$1' + r))
                : !1 !== e.jsonp &&
                  (e.url += (ed.test(e.url) ? '&' : '?') + e.jsonp + '=' + r),
              (e.converters['script json'] = function () {
                return s || C.error(r + ' was not called'), s[0];
              }),
              (e.dataTypes[0] = 'json'),
              (o = t[r]),
              (t[r] = function () {
                s = arguments;
              }),
              i.always(function () {
                void 0 === o ? C(t).removeProp(r) : (t[r] = o),
                  e[r] && ((e.jsonpCallback = n.jsonpCallback), eM.push(r)),
                  s && f(o) && o(s[0]),
                  (s = o = void 0);
              }),
              'script'
            );
        }),
        (d.createHTMLDocument =
          (((e3 = $.implementation.createHTMLDocument('').body).innerHTML =
            '<form></form><form></form>'),
          2 === e3.childNodes.length)),
        (C.parseHTML = function (t, e, n) {
          var i, r, o;
          return 'string' != typeof t
            ? []
            : ('boolean' == typeof e && ((n = e), (e = !1)),
              e ||
                (d.createHTMLDocument
                  ? (((i = (e =
                      $.implementation.createHTMLDocument('')).createElement(
                      'base'
                    )).href = $.location.href),
                    e.head.appendChild(i))
                  : (e = $)),
              (o = !n && []),
              (r = S.exec(t))
                ? [e.createElement(r[1])]
                : ((r = tm([t], e, o)),
                  o && o.length && C(o).remove(),
                  C.merge([], r.childNodes)));
        }),
        (C.fn.load = function (t, e, n) {
          var i,
            r,
            o,
            s = this,
            a = t.indexOf(' ');
          return (
            a > -1 && ((i = eo(t.slice(a))), (t = t.slice(0, a))),
            f(e)
              ? ((n = e), (e = void 0))
              : e && 'object' == typeof e && (r = 'POST'),
            s.length > 0 &&
              C.ajax({ url: t, type: r || 'GET', dataType: 'html', data: e })
                .done(function (t) {
                  (o = arguments),
                    s.html(i ? C('<div>').append(C.parseHTML(t)).find(i) : t);
                })
                .always(
                  n &&
                    function (t, e) {
                      s.each(function () {
                        n.apply(this, o || [t.responseText, e, t]);
                      });
                    }
                ),
            this
          );
        }),
        (C.expr.pseudos.animated = function (t) {
          return C.grep(C.timers, function (e) {
            return t === e.elem;
          }).length;
        }),
        (C.offset = {
          setOffset: function (t, e, n) {
            var i,
              r,
              o,
              s,
              a,
              l,
              u = C.css(t, 'position'),
              c = C(t),
              h = {};
            'static' === u && (t.style.position = 'relative'),
              (a = c.offset()),
              (o = C.css(t, 'top')),
              (l = C.css(t, 'left')),
              ('absolute' === u || 'fixed' === u) &&
              (o + l).indexOf('auto') > -1
                ? ((s = (i = c.position()).top), (r = i.left))
                : ((s = parseFloat(o) || 0), (r = parseFloat(l) || 0)),
              f(e) && (e = e.call(t, n, C.extend({}, a))),
              null != e.top && (h.top = e.top - a.top + s),
              null != e.left && (h.left = e.left - a.left + r),
              'using' in e ? e.using.call(t, h) : c.css(h);
          },
        }),
        C.fn.extend({
          offset: function (t) {
            if (arguments.length)
              return void 0 === t
                ? this
                : this.each(function (e) {
                    C.offset.setOffset(this, t, e);
                  });
            var e,
              n,
              i = this[0];
            return i
              ? i.getClientRects().length
                ? ((e = i.getBoundingClientRect()),
                  (n = i.ownerDocument.defaultView),
                  { top: e.top + n.pageYOffset, left: e.left + n.pageXOffset })
                : { top: 0, left: 0 }
              : void 0;
          },
          position: function () {
            if (this[0]) {
              var t,
                e,
                n,
                i = this[0],
                r = { top: 0, left: 0 };
              if ('fixed' === C.css(i, 'position'))
                e = i.getBoundingClientRect();
              else {
                for (
                  e = this.offset(),
                    n = i.ownerDocument,
                    t = i.offsetParent || n.documentElement;
                  t &&
                  (t === n.body || t === n.documentElement) &&
                  'static' === C.css(t, 'position');

                )
                  t = t.parentNode;
                t &&
                  t !== i &&
                  1 === t.nodeType &&
                  (((r = C(t).offset()).top += C.css(t, 'borderTopWidth', !0)),
                  (r.left += C.css(t, 'borderLeftWidth', !0)));
              }
              return {
                top: e.top - r.top - C.css(i, 'marginTop', !0),
                left: e.left - r.left - C.css(i, 'marginLeft', !0),
              };
            }
          },
          offsetParent: function () {
            return this.map(function () {
              for (
                var t = this.offsetParent;
                t && 'static' === C.css(t, 'position');

              )
                t = t.offsetParent;
              return t || ti;
            });
          },
        }),
        C.each(
          { scrollLeft: 'pageXOffset', scrollTop: 'pageYOffset' },
          function (t, e) {
            var n = 'pageYOffset' === e;
            C.fn[t] = function (i) {
              return G(
                this,
                function (t, i, r) {
                  var o;
                  if (
                    (g(t) ? (o = t) : 9 === t.nodeType && (o = t.defaultView),
                    void 0 === r)
                  )
                    return o ? o[e] : t[i];
                  o
                    ? o.scrollTo(n ? o.pageXOffset : r, n ? r : o.pageYOffset)
                    : (t[i] = r);
                },
                t,
                i,
                arguments.length
              );
            };
          }
        ),
        C.each(['top', 'left'], function (t, e) {
          C.cssHooks[e] = t7(d.pixelPosition, function (t, n) {
            if (n)
              return (n = t6(t, e)), t2.test(n) ? C(t).position()[e] + 'px' : n;
          });
        }),
        C.each({ Height: 'height', Width: 'width' }, function (t, e) {
          C.each(
            { padding: 'inner' + t, content: e, '': 'outer' + t },
            function (n, i) {
              C.fn[i] = function (r, o) {
                var s = arguments.length && (n || 'boolean' != typeof r),
                  a = n || (!0 === r || !0 === o ? 'margin' : 'border');
                return G(
                  this,
                  function (e, n, r) {
                    var o;
                    return g(e)
                      ? 0 === i.indexOf('outer')
                        ? e['inner' + t]
                        : e.document.documentElement['client' + t]
                      : 9 === e.nodeType
                      ? ((o = e.documentElement),
                        Math.max(
                          e.body['scroll' + t],
                          o['scroll' + t],
                          e.body['offset' + t],
                          o['offset' + t],
                          o['client' + t]
                        ))
                      : void 0 === r
                      ? C.css(e, n, a)
                      : C.style(e, n, r, a);
                  },
                  e,
                  s ? r : void 0,
                  s
                );
              };
            }
          );
        }),
        C.each(
          [
            'ajaxStart',
            'ajaxStop',
            'ajaxComplete',
            'ajaxError',
            'ajaxSuccess',
            'ajaxSend',
          ],
          function (t, e) {
            C.fn[e] = function (t) {
              return this.on(e, t);
            };
          }
        ),
        C.fn.extend({
          bind: function (t, e, n) {
            return this.on(t, null, e, n);
          },
          unbind: function (t, e) {
            return this.off(t, null, e);
          },
          delegate: function (t, e, n, i) {
            return this.on(e, t, n, i);
          },
          undelegate: function (t, e, n) {
            return 1 === arguments.length
              ? this.off(t, '**')
              : this.off(e, t || '**', n);
          },
          hover: function (t, e) {
            return this.mouseenter(t).mouseleave(e || t);
          },
        }),
        C.each(
          'blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu'.split(
            ' '
          ),
          function (t, e) {
            C.fn[e] = function (t, n) {
              return arguments.length > 0
                ? this.on(e, null, t, n)
                : this.trigger(e);
            };
          }
        );
      var e2 = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
      (C.proxy = function (t, e) {
        var n, i, o;
        if (('string' == typeof e && ((n = t[e]), (e = t), (t = n)), f(t)))
          return (
            (i = r.call(arguments, 2)),
            ((o = function () {
              return t.apply(e || this, i.concat(r.call(arguments)));
            }).guid = t.guid =
              t.guid || C.guid++),
            o
          );
      }),
        (C.holdReady = function (t) {
          t ? C.readyWait++ : C.ready(!0);
        }),
        (C.isArray = Array.isArray),
        (C.parseJSON = JSON.parse),
        (C.nodeName = E),
        (C.isFunction = f),
        (C.isWindow = g),
        (C.camelCase = q),
        (C.type = m),
        (C.now = Date.now),
        (C.isNumeric = function (t) {
          var e = C.type(t);
          return (
            ('number' === e || 'string' === e) && !isNaN(t - parseFloat(t))
          );
        }),
        (C.trim = function (t) {
          return null == t ? '' : (t + '').replace(e2, '');
        });
      var eN = t.jQuery,
        eL = t.$;
      return (
        (C.noConflict = function (e) {
          return (
            t.$ === C && (t.$ = eL), e && t.jQuery === C && (t.jQuery = eN), C
          );
        }),
        void 0 === e && (t.jQuery = t.$ = C),
        C
      );
    }),
    (a.exports = l.document
      ? u(l, !0)
      : function (t) {
          if (!t.document)
            throw Error('jQuery requires a window with a document');
          return u(t);
        });
  var p,
    d = h.exports;
  (p = { exports: {} }).exports = function (t) {
    var e,
      n,
      i = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],
      r =
        'onwheel' in document || document.documentMode >= 9
          ? ['wheel']
          : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],
      o = Array.prototype.slice;
    if (t.event.fixHooks)
      for (var s = i.length; s; ) t.event.fixHooks[i[--s]] = t.event.mouseHooks;
    var a = (t.event.special.mousewheel = {
      version: '3.1.12',
      setup: function () {
        if (this.addEventListener)
          for (var e = r.length; e; ) this.addEventListener(r[--e], l, !1);
        else this.onmousewheel = l;
        t.data(this, 'mousewheel-line-height', a.getLineHeight(this)),
          t.data(this, 'mousewheel-page-height', a.getPageHeight(this));
      },
      teardown: function () {
        if (this.removeEventListener)
          for (var e = r.length; e; ) this.removeEventListener(r[--e], l, !1);
        else this.onmousewheel = null;
        t.removeData(this, 'mousewheel-line-height'),
          t.removeData(this, 'mousewheel-page-height');
      },
      getLineHeight: function (e) {
        var n = t(e),
          i = n['offsetParent' in t.fn ? 'offsetParent' : 'parent']();
        return (
          i.length || (i = t('body')),
          parseInt(i.css('fontSize'), 10) ||
            parseInt(n.css('fontSize'), 10) ||
            16
        );
      },
      getPageHeight: function (e) {
        return t(e).height();
      },
      settings: { adjustOldDeltas: !0, normalizeOffset: !0 },
    });
    function l(i) {
      var r = i || window.event,
        s = o.call(arguments, 1),
        l = 0,
        h = 0,
        p = 0,
        d = 0,
        f = 0,
        g = 0;
      if (
        (((i = t.event.fix(r)).type = 'mousewheel'),
        'detail' in r && (p = -1 * r.detail),
        'wheelDelta' in r && (p = r.wheelDelta),
        'wheelDeltaY' in r && (p = r.wheelDeltaY),
        'wheelDeltaX' in r && (h = -1 * r.wheelDeltaX),
        'axis' in r && r.axis === r.HORIZONTAL_AXIS && ((h = -1 * p), (p = 0)),
        (l = 0 === p ? h : p),
        'deltaY' in r && (l = p = -1 * r.deltaY),
        'deltaX' in r && ((h = r.deltaX), 0 === p && (l = -1 * h)),
        0 !== p || 0 !== h)
      ) {
        if (1 === r.deltaMode) {
          var $ = t.data(this, 'mousewheel-line-height');
          (l *= $), (p *= $), (h *= $);
        } else if (2 === r.deltaMode) {
          var v = t.data(this, 'mousewheel-page-height');
          (l *= v), (p *= v), (h *= v);
        }
        if (
          ((d = Math.max(Math.abs(p), Math.abs(h))),
          (!n || d < n) && ((n = d), c(r, d) && (n /= 40)),
          c(r, d) && ((l /= 40), (h /= 40), (p /= 40)),
          (l = Math[l >= 1 ? 'floor' : 'ceil'](l / n)),
          (h = Math[h >= 1 ? 'floor' : 'ceil'](h / n)),
          (p = Math[p >= 1 ? 'floor' : 'ceil'](p / n)),
          a.settings.normalizeOffset && this.getBoundingClientRect)
        ) {
          var y = this.getBoundingClientRect();
          (f = i.clientX - y.left), (g = i.clientY - y.top);
        }
        return (
          (i.deltaX = h),
          (i.deltaY = p),
          (i.deltaFactor = n),
          (i.offsetX = f),
          (i.offsetY = g),
          (i.deltaMode = 0),
          s.unshift(i, l, h, p),
          e && clearTimeout(e),
          (e = setTimeout(u, 200)),
          (t.event.dispatch || t.event.handle).apply(this, s)
        );
      }
    }
    function u() {
      n = null;
    }
    function c(t, e) {
      return (
        a.settings.adjustOldDeltas && 'mousewheel' === t.type && e % 120 == 0
      );
    }
    t.fn.extend({
      mousewheel: function (t) {
        return t ? this.bind('mousewheel', t) : this.trigger('mousewheel');
      },
      unmousewheel: function (t) {
        return this.unbind('mousewheel', t);
      },
    });
  };
  var f,
    g = !1,
    $ = !1,
    v = !1,
    y = !1,
    m = !1,
    _ = !1,
    C = !1,
    b = !1,
    x = !1,
    w = !1,
    P = !1,
    A = !1,
    E = !1,
    S = !1,
    k = !1,
    T = !1;
  if ('object' == typeof navigator) {
    var M = navigator.userAgent;
    (g = M.indexOf('Macintosh') >= 0),
      ($ = !!M.match(/(iPad|iPhone|iPod)/g)),
      (v = M.indexOf('Windows') >= 0),
      (y = M.indexOf('MSIE') >= 0),
      (m = !!M.match(/Trident\/7\./)),
      (_ = !!M.match(/Edge\//)),
      (C =
        M.indexOf('Mozilla/') >= 0 &&
        0 > M.indexOf('MSIE') &&
        0 > M.indexOf('Edge/')),
      (x = M.indexOf('Chrome/') >= 0 && 0 > M.indexOf('Edge/')),
      (w = M.indexOf('Opera/') >= 0 || M.indexOf('OPR/') >= 0),
      (P = M.indexOf('Firefox/') >= 0),
      (A =
        M.indexOf('AppleWebKit/') >= 0 &&
        0 > M.indexOf('Chrome/') &&
        0 > M.indexOf('Edge/')),
      'object' == typeof document &&
        (T =
          !document.createElementNS ||
          '' +
            document.createElementNS(
              'http://www.w3.org/2000/svg',
              'foreignObject'
            ) !=
            '[object SVGForeignObjectElement]' ||
          M.indexOf('Opera/') >= 0);
  }
  if (
    ('object' == typeof window &&
      ((b =
        null != window.chrome &&
        null != window.chrome.app &&
        null != window.chrome.app.runtime),
      (S = null != window.PointerEvent && !g)),
    'object' == typeof document)
  ) {
    E = 'ontouchstart' in document.documentElement;
    try {
      var D = Object.defineProperty({}, 'passive', {
          get: function () {
            k = !0;
          },
        }),
        N = document.createElement('div');
      N.addEventListener && N.addEventListener('click', function () {}, D);
    } catch (L) {}
  }
  if (
    ((t.Platform = void 0),
    ((f = t.Platform || (t.Platform = {})).IS_MAC = g),
    (f.IS_IOS = $),
    (f.IS_WINDOWS = v),
    (f.IS_IE = y),
    (f.IS_IE11 = m),
    (f.IS_EDGE = _),
    (f.IS_NETSCAPE = C),
    (f.IS_CHROME_APP = b),
    (f.IS_CHROME = x),
    (f.IS_OPERA = w),
    (f.IS_FIREFOX = P),
    (f.IS_SAFARI = A),
    (f.SUPPORT_TOUCH = E),
    (f.SUPPORT_POINTER = S),
    (f.SUPPORT_PASSIVE = k),
    (f.NO_FOREIGNOBJECT = T),
    (f.SUPPORT_FOREIGNOBJECT = !f.NO_FOREIGNOBJECT),
    (function (t) {
      function e() {
        var t = window.module;
        return null != t && null != t.hot && null != t.hot.status
          ? t.hot.status()
          : 'unkonwn';
      }
      (t.getHMRStatus = e),
        (t.isApplyingHMR = function () {
          return 'apply' === e();
        });
      var n = {
        select: 'input',
        change: 'input',
        submit: 'form',
        reset: 'form',
        error: 'img',
        load: 'img',
        abort: 'img',
      };
      t.isEventSupported = function (t) {
        var e = document.createElement(n[t] || 'div'),
          i = 'on' + t,
          r = i in e;
        return (
          r || (e.setAttribute(i, 'return;'), (r = 'function' == typeof e[i])),
          r
        );
      };
    })(t.Platform || (t.Platform = {})),
    t.Platform.SUPPORT_PASSIVE)
  ) {
    d.event.special.touchstart = {
      setup: function (t, e, n) {
        if (!this.addEventListener) return !1;
        this.addEventListener('touchstart', n, { passive: !0 });
      },
    };
    var F = d.event.special.mousewheel;
    if (F) {
      var z = F.setup;
      F.setup = function () {
        var t = this,
          e = this.addEventListener;
        if (!e) return !1;
        (this.addEventListener = function (n, i) {
          e.call(t, n, i, { passive: !0 });
        }),
          z.call(this),
          (this.addEventListener = e);
      };
    }
  }
  window.NodeList &&
    !NodeList.prototype.forEach &&
    (NodeList.prototype.forEach = Array.prototype.forEach),
    [Element.prototype, Document.prototype, DocumentFragment.prototype].forEach(
      function (t) {
        Object.prototype.hasOwnProperty.call(t, 'append') ||
          Object.defineProperty(t, 'append', {
            configurable: !0,
            enumerable: !0,
            writable: !0,
            value: function () {
              for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
              var n = document.createDocumentFragment();
              t.forEach(function (t) {
                var e = t instanceof Node;
                n.appendChild(e ? t : document.createTextNode(String(t)));
              }),
                this.appendChild(n);
            },
          });
      }
    );
  var B =
      'object' == typeof global && global && global.Object === Object && global,
    O = 'object' == typeof self && self && self.Object === Object && self,
    V = B || O || Function('return this')(),
    R = V.Symbol,
    I = Object.prototype,
    G = I.hasOwnProperty,
    j = I.toString,
    H = R ? R.toStringTag : void 0,
    U = Object.prototype.toString,
    q = R ? R.toStringTag : void 0;
  function W(t) {
    var e;
    return null == t
      ? void 0 === t
        ? '[object Undefined]'
        : '[object Null]'
      : q && q in Object(t)
      ? (function (t) {
          var e = G.call(t, H),
            n = t[H];
          try {
            t[H] = void 0;
            var i = !0;
          } catch (r) {}
          var o = j.call(t);
          return i && (e ? (t[H] = n) : delete t[H]), o;
        })(t)
      : ((e = t), U.call(e));
  }
  function X(t) {
    return null != t && 'object' == typeof t;
  }
  function Y(t) {
    return 'symbol' == typeof t || (X(t) && '[object Symbol]' == W(t));
  }
  function J(t, e) {
    for (var n = -1, i = null == t ? 0 : t.length, r = Array(i); ++n < i; )
      r[n] = e(t[n], n, t);
    return r;
  }
  var Z = Array.isArray,
    K = R ? R.prototype : void 0,
    Q = K ? K.toString : void 0;
  function tt(t) {
    if ('string' == typeof t) return t;
    if (Z(t)) return J(t, tt) + '';
    if (Y(t)) return Q ? Q.call(t) : '';
    var e = t + '';
    return '0' == e && 1 / t == -1 / 0 ? '-0' : e;
  }
  var te = /\s/,
    tn = /^\s+/;
  function ti(t) {
    var e = typeof t;
    return null != t && ('object' == e || 'function' == e);
  }
  var tr = /^[-+]0x[0-9a-f]+$/i,
    to = /^0b[01]+$/i,
    ts = /^0o[0-7]+$/i,
    ta = parseInt;
  function tl(t) {
    if ('number' == typeof t) return t;
    if (Y(t)) return NaN;
    if (ti(t)) {
      var e,
        n = 'function' == typeof t.valueOf ? t.valueOf() : t;
      t = ti(n) ? n + '' : n;
    }
    if ('string' != typeof t) return 0 === t ? t : +t;
    t = (e = t)
      ? e
          .slice(
            0,
            (function (t) {
              for (var e = t.length; e-- && te.test(t.charAt(e)); );
              return e;
            })(e) + 1
          )
          .replace(tn, '')
      : e;
    var i = to.test(t);
    return i || ts.test(t) ? ta(t.slice(2), i ? 2 : 8) : tr.test(t) ? NaN : +t;
  }
  var tu = 1 / 0;
  function tc(t) {
    return t
      ? (t = tl(t)) === tu || t === -1 / 0
        ? 17976931348623157e292 * (t < 0 ? -1 : 1)
        : t == t
        ? t
        : 0
      : 0 === t
      ? t
      : 0;
  }
  function th(t) {
    var e = tc(t),
      n = e % 1;
    return e == e ? (n ? e - n : e) : 0;
  }
  function tp(t) {
    return t;
  }
  function td(t) {
    if (!ti(t)) return !1;
    var e = W(t);
    return (
      '[object Function]' == e ||
      '[object GeneratorFunction]' == e ||
      '[object AsyncFunction]' == e ||
      '[object Proxy]' == e
    );
  }
  var tf,
    tg = V['__core-js_shared__'],
    t$ = (tf = /[^.]+$/.exec((tg && tg.keys && tg.keys.IE_PROTO) || ''))
      ? 'Symbol(src)_1.' + tf
      : '',
    t0 = Function.prototype.toString;
  function tv(t) {
    if (null != t) {
      try {
        return t0.call(t);
      } catch (e) {}
      try {
        return t + '';
      } catch (n) {}
    }
    return '';
  }
  var ty = /^\[object .+?Constructor\]$/,
    tm = Function.prototype,
    t_ = Object.prototype,
    tC = tm.toString,
    tb = t_.hasOwnProperty,
    tx = RegExp(
      '^' +
        tC
          .call(tb)
          .replace(/[\\^$.*+?()[\]{}|]/g, '\\$&')
          .replace(
            /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
            '$1.*?'
          ) +
        '$'
    );
  function tw(t, e) {
    var n,
      i,
      r,
      o,
      s = ((n = t), (i = e), null == n ? void 0 : n[i]);
    return !(!ti((r = s)) || ((o = r), t$ && t$ in o)) &&
      (td(r) ? tx : ty).test(tv(r))
      ? s
      : void 0;
  }
  var t1 = tw(V, 'WeakMap'),
    tP = Object.create,
    tA = (function () {
      function t() {}
      return function (e) {
        if (!ti(e)) return {};
        if (tP) return tP(e);
        t.prototype = e;
        var n = new t();
        return (t.prototype = void 0), n;
      };
    })();
  function tE(t, e, n) {
    switch (n.length) {
      case 0:
        return t.call(e);
      case 1:
        return t.call(e, n[0]);
      case 2:
        return t.call(e, n[0], n[1]);
      case 3:
        return t.call(e, n[0], n[1], n[2]);
    }
    return t.apply(e, n);
  }
  function tS() {}
  function tk(t, e) {
    var n = -1,
      i = t.length;
    for (e || (e = Array(i)); ++n < i; ) e[n] = t[n];
    return e;
  }
  var t4,
    tT,
    t3,
    tM = Date.now,
    tD = (function () {
      try {
        var t = tw(Object, 'defineProperty');
        return t({}, '', {}), t;
      } catch (e) {}
    })(),
    t2 =
      ((t4 = tD
        ? function (t, e) {
            var n;
            return tD(t, 'toString', {
              configurable: !0,
              enumerable: !1,
              value:
                ((n = e),
                function () {
                  return n;
                }),
              writable: !0,
            });
          }
        : tp),
      (tT = 0),
      (t3 = 0),
      function () {
        var t = tM(),
          e = 16 - (t - t3);
        if (((t3 = t), e > 0)) {
          if (++tT >= 800) return arguments[0];
        } else tT = 0;
        return t4.apply(void 0, arguments);
      });
  function tN(t) {
    return t != t;
  }
  function tL(t, e) {
    var n, i;
    return (
      !!(null == t ? 0 : t.length) &&
      ((n = t),
      ((i = e) == i
        ? (function (t, e, n) {
            for (var i = -1, r = t.length; ++i < r; ) if (t[i] === e) return i;
            return -1;
          })(n, i, 0)
        : (function (t, e, n, i) {
            for (var r = t.length, o = 0 + (i ? 1 : -1); i ? o-- : ++o < r; )
              if (e(t[o], o, t)) return o;
            return -1;
          })(n, tN, 0)) > -1)
    );
  }
  var t5 = /^(?:0|[1-9]\d*)$/;
  function t6(t, e) {
    var n = typeof t;
    return (
      !!(e = null == e ? 9007199254740991 : e) &&
      ('number' == n || ('symbol' != n && t5.test(t))) &&
      t > -1 &&
      t % 1 == 0 &&
      t < e
    );
  }
  function t7(t, e, n) {
    '__proto__' == e && tD
      ? tD(t, e, { configurable: !0, enumerable: !0, value: n, writable: !0 })
      : (t[e] = n);
  }
  function tF(t, e) {
    return t === e || (t != t && e != e);
  }
  var tz = Object.prototype.hasOwnProperty;
  function tB(t, e, n) {
    var i = t[e];
    (tz.call(t, e) && tF(i, n) && (void 0 !== n || e in t)) || t7(t, e, n);
  }
  function tO(t, e, n, i) {
    var r = !n;
    n || (n = {});
    for (var o = -1, s = e.length; ++o < s; ) {
      var a = e[o],
        l = i ? i(n[a], t[a], a, n, t) : void 0;
      void 0 === l && (l = t[a]), r ? t7(n, a, l) : tB(n, a, l);
    }
    return n;
  }
  var tV = Math.max;
  function tR(t, e, n) {
    return (
      (e = tV(void 0 === e ? t.length - 1 : e, 0)),
      function () {
        for (
          var i = arguments, r = -1, o = tV(i.length - e, 0), s = Array(o);
          ++r < o;

        )
          s[r] = i[e + r];
        r = -1;
        for (var a = Array(e + 1); ++r < e; ) a[r] = i[r];
        return (a[e] = n(s)), tE(t, this, a);
      }
    );
  }
  function tI(t, e) {
    return t2(tR(t, e, tp), t + '');
  }
  function t8(t) {
    return (
      'number' == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991
    );
  }
  function tG(t) {
    return null != t && t8(t.length) && !td(t);
  }
  function tj(t, e, n) {
    if (!ti(n)) return !1;
    var i = typeof e;
    return (
      !!('number' == i ? tG(n) && t6(e, n.length) : 'string' == i && e in n) &&
      tF(n[e], t)
    );
  }
  function tH(t) {
    return tI(function (e, n) {
      var i = -1,
        r = n.length,
        o = r > 1 ? n[r - 1] : void 0,
        s = r > 2 ? n[2] : void 0;
      for (
        o = t.length > 3 && 'function' == typeof o ? (r--, o) : void 0,
          s && tj(n[0], n[1], s) && ((o = r < 3 ? void 0 : o), (r = 1)),
          e = Object(e);
        ++i < r;

      ) {
        var a = n[i];
        a && t(e, a, i, o);
      }
      return e;
    });
  }
  var tU = Object.prototype;
  function tq(t) {
    var e = t && t.constructor;
    return t === (('function' == typeof e && e.prototype) || tU);
  }
  function t9(t) {
    return X(t) && '[object Arguments]' == W(t);
  }
  var tW = Object.prototype,
    tX = tW.hasOwnProperty,
    tY = tW.propertyIsEnumerable,
    tJ = t9(
      (function () {
        return arguments;
      })()
    )
      ? t9
      : function (t) {
          return X(t) && tX.call(t, 'callee') && !tY.call(t, 'callee');
        },
    tZ = 'object' == typeof t && t && !t.nodeType && t,
    tK =
      tZ && 'object' == typeof module && module && !module.nodeType && module,
    tQ = tK && tK.exports === tZ ? V.Buffer : void 0,
    et =
      (tQ ? tQ.isBuffer : void 0) ||
      function () {
        return !1;
      },
    ee = {};
  function en(t) {
    return function (e) {
      return t(e);
    };
  }
  (ee['[object Float32Array]'] =
    ee['[object Float64Array]'] =
    ee['[object Int8Array]'] =
    ee['[object Int16Array]'] =
    ee['[object Int32Array]'] =
    ee['[object Uint8Array]'] =
    ee['[object Uint8ClampedArray]'] =
    ee['[object Uint16Array]'] =
    ee['[object Uint32Array]'] =
      !0),
    (ee['[object Arguments]'] =
      ee['[object Array]'] =
      ee['[object ArrayBuffer]'] =
      ee['[object Boolean]'] =
      ee['[object DataView]'] =
      ee['[object Date]'] =
      ee['[object Error]'] =
      ee['[object Function]'] =
      ee['[object Map]'] =
      ee['[object Number]'] =
      ee['[object Object]'] =
      ee['[object RegExp]'] =
      ee['[object Set]'] =
      ee['[object String]'] =
      ee['[object WeakMap]'] =
        !1);
  var ei = 'object' == typeof t && t && !t.nodeType && t,
    er =
      ei && 'object' == typeof module && module && !module.nodeType && module,
    eo = er && er.exports === ei && B.process,
    es = (function () {
      try {
        return (
          (er && er.require && er.require('util').types) ||
          (eo && eo.binding && eo.binding('util'))
        );
      } catch (t) {}
    })(),
    ea = es && es.isTypedArray,
    el = ea
      ? en(ea)
      : function (t) {
          return X(t) && t8(t.length) && !!ee[W(t)];
        },
    eu = Object.prototype.hasOwnProperty;
  function ec(t, e) {
    var n = Z(t),
      i = !n && tJ(t),
      r = !n && !i && et(t),
      o = !n && !i && !r && el(t),
      s = n || i || r || o,
      a = s
        ? (function (t, e) {
            for (var n = -1, i = Array(t); ++n < t; ) i[n] = e(n);
            return i;
          })(t.length, String)
        : [],
      l = a.length;
    for (var u in t)
      (!e && !eu.call(t, u)) ||
        (s &&
          ('length' == u ||
            (r && ('offset' == u || 'parent' == u)) ||
            (o && ('buffer' == u || 'byteLength' == u || 'byteOffset' == u)) ||
            t6(u, l))) ||
        a.push(u);
    return a;
  }
  function eh(t, e) {
    return function (n) {
      return t(e(n));
    };
  }
  var ep = eh(Object.keys, Object),
    ed = Object.prototype.hasOwnProperty;
  function ef(t) {
    if (!tq(t)) return ep(t);
    var e = [];
    for (var n in Object(t)) ed.call(t, n) && 'constructor' != n && e.push(n);
    return e;
  }
  function eg(t) {
    return tG(t) ? ec(t) : ef(t);
  }
  var e$ = Object.prototype.hasOwnProperty;
  function e0(t) {
    return tG(t)
      ? ec(t, !0)
      : (function t(e) {
          if (!ti(e))
            return (function (t) {
              var e = [];
              if (null != t) for (var n in Object(t)) e.push(n);
              return e;
            })(e);
          var n = tq(e),
            i = [];
          for (var r in e)
            ('constructor' != r || (!n && e$.call(e, r))) && i.push(r);
          return i;
        })(t);
  }
  var ev = tH(function (t, e) {
      tO(e, e0(e), t);
    }),
    ey = tH(function (t, e, n, i) {
      tO(e, e0(e), t, i);
    }),
    em = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    e_ = /^\w*$/;
  function eC(t, e) {
    if (Z(t)) return !1;
    var n = typeof t;
    return (
      !(
        'number' != n &&
        'symbol' != n &&
        'boolean' != n &&
        null != t &&
        !Y(t)
      ) ||
      e_.test(t) ||
      !em.test(t) ||
      (null != e && t in Object(e))
    );
  }
  var eb = tw(Object, 'create'),
    ex = Object.prototype.hasOwnProperty,
    ew = Object.prototype.hasOwnProperty;
  function e1(t) {
    var e = -1,
      n = null == t ? 0 : t.length;
    for (this.clear(); ++e < n; ) {
      var i = t[e];
      this.set(i[0], i[1]);
    }
  }
  function eP(t, e) {
    for (var n = t.length; n--; ) if (tF(t[n][0], e)) return n;
    return -1;
  }
  (e1.prototype.clear = function () {
    (this.__data__ = eb ? eb(null) : {}), (this.size = 0);
  }),
    (e1.prototype.delete = function (t) {
      var e = this.has(t) && delete this.__data__[t];
      return (this.size -= e ? 1 : 0), e;
    }),
    (e1.prototype.get = function (t) {
      var e = this.__data__;
      if (eb) {
        var n = e[t];
        return '__lodash_hash_undefined__' === n ? void 0 : n;
      }
      return ex.call(e, t) ? e[t] : void 0;
    }),
    (e1.prototype.has = function (t) {
      var e = this.__data__;
      return eb ? void 0 !== e[t] : ew.call(e, t);
    }),
    (e1.prototype.set = function (t, e) {
      var n = this.__data__;
      return (
        (this.size += this.has(t) ? 0 : 1),
        (n[t] = eb && void 0 === e ? '__lodash_hash_undefined__' : e),
        this
      );
    });
  var eA = Array.prototype.splice;
  function eE(t) {
    var e = -1,
      n = null == t ? 0 : t.length;
    for (this.clear(); ++e < n; ) {
      var i = t[e];
      this.set(i[0], i[1]);
    }
  }
  (eE.prototype.clear = function () {
    (this.__data__ = []), (this.size = 0);
  }),
    (eE.prototype.delete = function (t) {
      var e = this.__data__,
        n = eP(e, t);
      return (
        !(n < 0) &&
        (n == e.length - 1 ? e.pop() : eA.call(e, n, 1), --this.size, !0)
      );
    }),
    (eE.prototype.get = function (t) {
      var e = this.__data__,
        n = eP(e, t);
      return n < 0 ? void 0 : e[n][1];
    }),
    (eE.prototype.has = function (t) {
      return eP(this.__data__, t) > -1;
    }),
    (eE.prototype.set = function (t, e) {
      var n = this.__data__,
        i = eP(n, t);
      return i < 0 ? (++this.size, n.push([t, e])) : (n[i][1] = e), this;
    });
  var eS = tw(V, 'Map');
  function ek(t, e) {
    var n,
      i,
      r = t.__data__;
    return (
      'string' == (i = typeof (n = e)) ||
      'number' == i ||
      'symbol' == i ||
      'boolean' == i
        ? '__proto__' !== n
        : null === n
    )
      ? r['string' == typeof e ? 'string' : 'hash']
      : r.map;
  }
  function e4(t) {
    var e = -1,
      n = null == t ? 0 : t.length;
    for (this.clear(); ++e < n; ) {
      var i = t[e];
      this.set(i[0], i[1]);
    }
  }
  function eT(t, e) {
    if ('function' != typeof t || (null != e && 'function' != typeof e))
      throw TypeError('Expected a function');
    var n = function () {
      var i = arguments,
        r = e ? e.apply(this, i) : i[0],
        o = n.cache;
      if (o.has(r)) return o.get(r);
      var s = t.apply(this, i);
      return (n.cache = o.set(r, s) || o), s;
    };
    return (n.cache = new (eT.Cache || e4)()), n;
  }
  (e4.prototype.clear = function () {
    (this.size = 0),
      (this.__data__ = {
        hash: new e1(),
        map: new (eS || eE)(),
        string: new e1(),
      });
  }),
    (e4.prototype.delete = function (t) {
      var e = ek(this, t).delete(t);
      return (this.size -= e ? 1 : 0), e;
    }),
    (e4.prototype.get = function (t) {
      return ek(this, t).get(t);
    }),
    (e4.prototype.has = function (t) {
      return ek(this, t).has(t);
    }),
    (e4.prototype.set = function (t, e) {
      var n = ek(this, t),
        i = n.size;
      return n.set(t, e), (this.size += n.size == i ? 0 : 1), this;
    }),
    (eT.Cache = e4);
  var e3 =
      /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
    eM = /\\(\\)?/g,
    eD =
      ((eY = (eX = eT(
        (eW = function (t) {
          var e = [];
          return (
            46 === t.charCodeAt(0) && e.push(''),
            t.replace(e3, function (t, n, i, r) {
              e.push(i ? r.replace(eM, '$1') : n || t);
            }),
            e
          );
        }),
        function (t) {
          return 500 === eY.size && eY.clear(), t;
        }
      )).cache),
      eX);
  function e2(t) {
    return null == t ? '' : tt(t);
  }
  function eN(t, e) {
    return Z(t) ? t : eC(t, e) ? [t] : eD(e2(t));
  }
  function eL(t) {
    if ('string' == typeof t || Y(t)) return t;
    var e = t + '';
    return '0' == e && 1 / t == -1 / 0 ? '-0' : e;
  }
  function e5(t, e) {
    for (var n = 0, i = (e = eN(e, t)).length; null != t && n < i; )
      t = t[eL(e[n++])];
    return n && n == i ? t : void 0;
  }
  function e6(t, e) {
    for (var n = -1, i = e.length, r = t.length; ++n < i; ) t[r + n] = e[n];
    return t;
  }
  var e7 = R ? R.isConcatSpreadable : void 0;
  function eF(t) {
    return Z(t) || tJ(t) || !!(e7 && t && t[e7]);
  }
  function ez(t, e, n, i, r) {
    var o = -1,
      s = t.length;
    for (n || (n = eF), r || (r = []); ++o < s; ) {
      var a = t[o];
      e > 0 && n(a)
        ? e > 1
          ? ez(a, e - 1, n, i, r)
          : e6(r, a)
        : i || (r[r.length] = a);
    }
    return r;
  }
  var eB = eh(Object.getPrototypeOf, Object),
    eO = Function.prototype,
    eV = Object.prototype,
    eR = eO.toString,
    eI = eV.hasOwnProperty,
    e8 = eR.call(Object);
  function eG(t) {
    if (!X(t) || '[object Object]' != W(t)) return !1;
    var e = eB(t);
    if (null === e) return !0;
    var n = eI.call(e, 'constructor') && e.constructor;
    return 'function' == typeof n && n instanceof n && eR.call(n) == e8;
  }
  function ej(t) {
    if (!X(t)) return !1;
    var e = W(t);
    return (
      '[object Error]' == e ||
      '[object DOMException]' == e ||
      ('string' == typeof t.message && 'string' == typeof t.name && !eG(t))
    );
  }
  var eH = tI(function (t, e) {
    try {
      return tE(t, void 0, e);
    } catch (n) {
      return ej(n) ? n : Error(n);
    }
  });
  function eU(t, e, n) {
    var i = t.length;
    return (
      (n = void 0 === n ? i : n),
      !e && n >= i
        ? t
        : (function (t, e, n) {
            var i = -1,
              r = t.length;
            e < 0 && (e = -e > r ? 0 : r + e),
              (n = n > r ? r : n) < 0 && (n += r),
              (r = e > n ? 0 : (n - e) >>> 0),
              (e >>>= 0);
            for (var o = Array(r); ++i < r; ) o[i] = t[i + e];
            return o;
          })(t, e, n)
    );
  }
  var eq = RegExp(
    '[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]'
  );
  function e9(t) {
    return eq.test(t);
  }
  var eW,
    eX,
    eY,
    eJ = '[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]',
    eZ = '\ud83c[\udffb-\udfff]',
    eK = '[^\ud800-\udfff]',
    eQ = '(?:\ud83c[\udde6-\uddff]){2}',
    nt = '[\ud800-\udbff][\udc00-\udfff]',
    ne = '(?:' + eJ + '|' + eZ + ')?',
    nn = '[\\ufe0e\\ufe0f]?',
    ni =
      nn +
      ne +
      ('(?:\\u200d(?:' + [eK, eQ, nt].join('|') + ')' + nn) +
      ne +
      ')*',
    nr = RegExp(
      eZ +
        '(?=' +
        eZ +
        ')|' +
        ('(?:' + [eK + eJ + '?', eJ, eQ, nt, '[\ud800-\udfff]'].join('|')) +
        ')' +
        ni,
      'g'
    );
  function no(t) {
    var e, n;
    return e9(t) ? (e = t).match(nr) || [] : (n = t).split('');
  }
  function ns(t) {
    return function (e) {
      var n = e9((e = e2(e))) ? no(e) : void 0,
        i = n ? n[0] : e.charAt(0),
        r = n ? eU(n, 1).join('') : e.slice(1);
      return i[t]() + r;
    };
  }
  var na = ns('toUpperCase');
  function nl(t) {
    return function (e) {
      return null == t ? void 0 : t[e];
    };
  }
  var nu = nl({
      Ã: 'A',
      Ã: 'A',
      Ã: 'A',
      Ã: 'A',
      Ã: 'A',
      Ã: 'A',
      Ã : 'a',
      Ã¡: 'a',
      Ã¢: 'a',
      Ã£: 'a',
      Ã¤: 'a',
      Ã¥: 'a',
      Ã: 'C',
      Ã§: 'c',
      Ã: 'D',
      Ã°: 'd',
      Ã: 'E',
      Ã: 'E',
      Ã: 'E',
      Ã: 'E',
      Ã¨: 'e',
      Ã©: 'e',
      Ãª: 'e',
      Ã«: 'e',
      Ã: 'I',
      Ã: 'I',
      Ã: 'I',
      Ã: 'I',
      Ã¬: 'i',
      Ã­: 'i',
      Ã®: 'i',
      Ã¯: 'i',
      Ã: 'N',
      Ã±: 'n',
      Ã: 'O',
      Ã: 'O',
      Ã: 'O',
      Ã: 'O',
      Ã: 'O',
      Ã: 'O',
      Ã²: 'o',
      Ã³: 'o',
      Ã´: 'o',
      Ãµ: 'o',
      Ã¶: 'o',
      Ã¸: 'o',
      Ã: 'U',
      Ã: 'U',
      Ã: 'U',
      Ã: 'U',
      Ã¹: 'u',
      Ãº: 'u',
      Ã»: 'u',
      Ã¼: 'u',
      Ã: 'Y',
      Ã½: 'y',
      Ã¿: 'y',
      Ã: 'Ae',
      Ã¦: 'ae',
      Ã: 'Th',
      Ã¾: 'th',
      Ã: 'ss',
      Ä: 'A',
      Ä: 'A',
      Ä: 'A',
      Ä: 'a',
      Ä: 'a',
      Ä: 'a',
      Ä: 'C',
      Ä: 'C',
      Ä: 'C',
      Ä: 'C',
      Ä: 'c',
      Ä: 'c',
      Ä: 'c',
      Ä: 'c',
      Ä: 'D',
      Ä: 'D',
      Ä: 'd',
      Ä: 'd',
      Ä: 'E',
      Ä: 'E',
      Ä: 'E',
      Ä: 'E',
      Ä: 'E',
      Ä: 'e',
      Ä: 'e',
      Ä: 'e',
      Ä: 'e',
      Ä: 'e',
      Ä: 'G',
      Ä: 'G',
      Ä : 'G',
      Ä¢: 'G',
      Ä: 'g',
      Ä: 'g',
      Ä¡: 'g',
      Ä£: 'g',
      Ä¤: 'H',
      Ä¦: 'H',
      Ä¥: 'h',
      Ä§: 'h',
      Ä¨: 'I',
      Äª: 'I',
      Ä¬: 'I',
      Ä®: 'I',
      Ä°: 'I',
      Ä©: 'i',
      Ä«: 'i',
      Ä­: 'i',
      Ä¯: 'i',
      Ä±: 'i',
      Ä´: 'J',
      Äµ: 'j',
      Ä¶: 'K',
      Ä·: 'k',
      Ä¸: 'k',
      Ä¹: 'L',
      Ä»: 'L',
      Ä½: 'L',
      Ä¿: 'L',
      Å: 'L',
      Äº: 'l',
      Ä¼: 'l',
      Ä¾: 'l',
      Å: 'l',
      Å: 'l',
      Å: 'N',
      Å: 'N',
      Å: 'N',
      Å: 'N',
      Å: 'n',
      Å: 'n',
      Å: 'n',
      Å: 'n',
      Å: 'O',
      Å: 'O',
      Å: 'O',
      Å: 'o',
      Å: 'o',
      Å: 'o',
      Å: 'R',
      Å: 'R',
      Å: 'R',
      Å: 'r',
      Å: 'r',
      Å: 'r',
      Å: 'S',
      Å: 'S',
      Å: 'S',
      Å : 'S',
      Å: 's',
      Å: 's',
      Å: 's',
      Å¡: 's',
      Å¢: 'T',
      Å¤: 'T',
      Å¦: 'T',
      Å£: 't',
      Å¥: 't',
      Å§: 't',
      Å¨: 'U',
      Åª: 'U',
      Å¬: 'U',
      Å®: 'U',
      Å°: 'U',
      Å²: 'U',
      Å©: 'u',
      Å«: 'u',
      Å­: 'u',
      Å¯: 'u',
      Å±: 'u',
      Å³: 'u',
      Å´: 'W',
      Åµ: 'w',
      Å¶: 'Y',
      Å·: 'y',
      Å¸: 'Y',
      Å¹: 'Z',
      Å»: 'Z',
      Å½: 'Z',
      Åº: 'z',
      Å¼: 'z',
      Å¾: 'z',
      Ä²: 'IJ',
      Ä³: 'ij',
      Å: 'Oe',
      Å: 'oe',
      Å: "'n",
      Å¿: 's',
    }),
    nc = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
    nh = RegExp('[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]', 'g'),
    np = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
    nd = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
    nf = 'a-z\\xdf-\\xf6\\xf8-\\xff',
    ng = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
    n$ =
      '\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
    n0 = '[' + n$ + ']',
    nv = '\\d+',
    ny = '[\\u2700-\\u27bf]',
    nm = '[' + nf + ']',
    n_ = '[^\ud800-\udfff' + n$ + nv + '\\u2700-\\u27bf' + nf + ng + ']',
    nC = '(?:\ud83c[\udde6-\uddff]){2}',
    nb = '[\ud800-\udbff][\udc00-\udfff]',
    nx = '[' + ng + ']',
    nw = '(?:' + nm + '|' + n_ + ')',
    n1 = "(?:['â](?:d|ll|m|re|s|t|ve))?",
    nP = "(?:['â](?:D|LL|M|RE|S|T|VE))?",
    nA =
      '(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?',
    nE = '[\\ufe0e\\ufe0f]?',
    nS =
      nE +
      nA +
      ('(?:\\u200d(?:' + ['[^\ud800-\udfff]', nC, nb].join('|') + ')' + nE) +
      nA +
      ')*',
    nk = '(?:' + [ny, nC, nb].join('|') + ')' + nS,
    n4 = RegExp(
      [
        nx + '?' + nm + '+' + n1 + '(?=' + [n0, nx, '$'].join('|') + ')',
        '(?:' +
          nx +
          '|' +
          n_ +
          ')+' +
          nP +
          '(?=' +
          [n0, nx + nw, '$'].join('|') +
          ')',
        nx + '?' + nw + '+' + n1,
        nx + '+' + nP,
        '\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])',
        '\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])',
        nv,
        nk,
      ].join('|'),
      'g'
    ),
    nT = RegExp("['â]", 'g');
  function n3(t) {
    return function (e) {
      var n, i, r, o, s, a;
      return (function (t, e, n, i) {
        for (var r = -1, o = null == t ? 0 : t.length; ++r < o; )
          n = e(n, t[r], r, t);
        return n;
      })(
        ((i = ((n = e2((n = e))) && n.replace(nc, nu).replace(nh, '')).replace(
          nT,
          ''
        )),
        (i = e2(i)),
        void 0 === r
          ? ((o = i), nd.test(o))
            ? (s = i).match(n4) || []
            : (a = i).match(np) || []
          : i.match(r) || []),
        t,
        ''
      );
    };
  }
  var nM = n3(function (t, e, n) {
    var i;
    return (e = e.toLowerCase()), t + (n ? na(e2((i = e)).toLowerCase()) : e);
  });
  function nD(t, e, n) {
    return (
      t == t &&
        (void 0 !== n && (t = t <= n ? t : n),
        void 0 !== e && (t = t >= e ? t : e)),
      t
    );
  }
  function n2(t, e, n) {
    return (
      void 0 === n && ((n = e), (e = void 0)),
      void 0 !== n && (n = (n = tl(n)) == n ? n : 0),
      void 0 !== e && (e = (e = tl(e)) == e ? e : 0),
      nD(tl(t), e, n)
    );
  }
  function nN(t) {
    var e = (this.__data__ = new eE(t));
    this.size = e.size;
  }
  (nN.prototype.clear = function () {
    (this.__data__ = new eE()), (this.size = 0);
  }),
    (nN.prototype.delete = function (t) {
      var e = this.__data__,
        n = e.delete(t);
      return (this.size = e.size), n;
    }),
    (nN.prototype.get = function (t) {
      return this.__data__.get(t);
    }),
    (nN.prototype.has = function (t) {
      return this.__data__.has(t);
    }),
    (nN.prototype.set = function (t, e) {
      var n = this.__data__;
      if (n instanceof eE) {
        var i = n.__data__;
        if (!eS || i.length < 199)
          return i.push([t, e]), (this.size = ++n.size), this;
        n = this.__data__ = new e4(i);
      }
      return n.set(t, e), (this.size = n.size), this;
    });
  var nL = 'object' == typeof t && t && !t.nodeType && t,
    n5 =
      nL && 'object' == typeof module && module && !module.nodeType && module,
    n6 = n5 && n5.exports === nL ? V.Buffer : void 0,
    n7 = n6 ? n6.allocUnsafe : void 0;
  function nF(t, e) {
    if (e) return t.slice();
    var n = t.length,
      i = n7 ? n7(n) : new t.constructor(n);
    return t.copy(i), i;
  }
  function nz() {
    return [];
  }
  var nB = Object.prototype.propertyIsEnumerable,
    nO = Object.getOwnPropertySymbols,
    nV = nO
      ? function (t) {
          return null == t
            ? []
            : (function (t, e) {
                for (
                  var n = -1, i = null == t ? 0 : t.length, r = 0, o = [];
                  ++n < i;

                ) {
                  var s = t[n];
                  e(s, n, t) && (o[r++] = s);
                }
                return o;
              })(nO((t = Object(t))), function (e) {
                return nB.call(t, e);
              });
        }
      : nz,
    nR = Object.getOwnPropertySymbols
      ? function (t) {
          for (var e = []; t; ) e6(e, nV(t)), (t = eB(t));
          return e;
        }
      : nz;
  function nI(t, e, n) {
    var i = e(t);
    return Z(t) ? i : e6(i, n(t));
  }
  function n8(t) {
    return nI(t, eg, nV);
  }
  function nG(t) {
    return nI(t, e0, nR);
  }
  var nj = tw(V, 'DataView'),
    nH = tw(V, 'Promise'),
    nU = tw(V, 'Set'),
    nq = '[object Map]',
    n9 = '[object Promise]',
    nW = '[object Set]',
    nX = '[object WeakMap]',
    nY = '[object DataView]',
    nJ = tv(nj),
    nZ = tv(eS),
    nK = tv(nH),
    nQ = tv(nU),
    it = tv(t1),
    ie = W;
  ((nj && ie(new nj(new ArrayBuffer(1))) != nY) ||
    (eS && ie(new eS()) != nq) ||
    (nH && ie(nH.resolve()) != n9) ||
    (nU && ie(new nU()) != nW) ||
    (t1 && ie(new t1()) != nX)) &&
    (ie = function (t) {
      var e = W(t),
        n = '[object Object]' == e ? t.constructor : void 0,
        i = n ? tv(n) : '';
      if (i)
        switch (i) {
          case nJ:
            return nY;
          case nZ:
            return nq;
          case nK:
            return n9;
          case nQ:
            return nW;
          case it:
            return nX;
        }
      return e;
    });
  var ii = ie,
    ir = Object.prototype.hasOwnProperty,
    io = V.Uint8Array;
  function is(t) {
    var e = new t.constructor(t.byteLength);
    return new io(e).set(new io(t)), e;
  }
  var ia = /\w*$/,
    il = R ? R.prototype : void 0,
    iu = il ? il.valueOf : void 0;
  function ic(t, e) {
    var n = e ? is(t.buffer) : t.buffer;
    return new t.constructor(n, t.byteOffset, t.length);
  }
  function ih(t) {
    return 'function' != typeof t.constructor || tq(t) ? {} : tA(eB(t));
  }
  var ip = es && es.isMap,
    id = ip
      ? en(ip)
      : function (t) {
          return X(t) && '[object Map]' == ii(t);
        },
    ig = es && es.isSet,
    i$ = ig
      ? en(ig)
      : function (t) {
          return X(t) && '[object Set]' == ii(t);
        },
    i0 = '[object Arguments]',
    iv = '[object Function]',
    iy = '[object Object]',
    im = {};
  function i_(t, e, n, i, r, o) {
    var s,
      a = 1 & e,
      l = 2 & e;
    if ((n && (s = r ? n(t, i, r, o) : n(t)), void 0 !== s)) return s;
    if (!ti(t)) return t;
    var u = Z(t);
    if (u) {
      if (
        ((s =
          ((h = (c = t).length),
          (p = new c.constructor(h)),
          h &&
            'string' == typeof c[0] &&
            ir.call(c, 'index') &&
            ((p.index = c.index), (p.input = c.input)),
          p)),
        !a)
      )
        return tk(t, s);
    } else {
      var c,
        h,
        p,
        d,
        f,
        g,
        $,
        v,
        y,
        m,
        _,
        C = ii(t),
        b = C == iv || '[object GeneratorFunction]' == C;
      if (et(t)) return nF(t, a);
      if (C == iy || C == i0 || (b && !r)) {
        if (((s = l || b ? {} : ih(t)), !a))
          return l
            ? ((g = t),
              ($ = ((d = s), (f = t), d && tO(f, e0(f), d))),
              tO(g, nR(g), $))
            : ((m = t),
              (_ = ((v = s), (y = t), v && tO(y, eg(y), v))),
              tO(m, nV(m), _));
      } else {
        if (!im[C]) return r ? t : {};
        s = (function t(e, n, i) {
          var r,
            o,
            s,
            a,
            l,
            u,
            c = e.constructor;
          switch (n) {
            case '[object ArrayBuffer]':
              return is(e);
            case '[object Boolean]':
            case '[object Date]':
              return new c(+e);
            case '[object DataView]':
              return (
                (r = e),
                (s = (o = i) ? is(r.buffer) : r.buffer),
                new r.constructor(s, r.byteOffset, r.byteLength)
              );
            case '[object Float32Array]':
            case '[object Float64Array]':
            case '[object Int8Array]':
            case '[object Int16Array]':
            case '[object Int32Array]':
            case '[object Uint8Array]':
            case '[object Uint8ClampedArray]':
            case '[object Uint16Array]':
            case '[object Uint32Array]':
              return ic(e, i);
            case '[object Map]':
            case '[object Set]':
              return new c();
            case '[object Number]':
            case '[object String]':
              return new c(e);
            case '[object RegExp]':
              return (
                ((u = new (l = e).constructor(l.source, ia.exec(l))).lastIndex =
                  l.lastIndex),
                u
              );
            case '[object Symbol]':
              return (a = e), iu ? Object(iu.call(a)) : {};
          }
        })(t, C, a);
      }
    }
    o || (o = new nN());
    var x = o.get(t);
    if (x) return x;
    o.set(t, s),
      i$(t)
        ? t.forEach(function (i) {
            s.add(i_(i, e, n, i, t, o));
          })
        : id(t) &&
          t.forEach(function (i, r) {
            s.set(r, i_(i, e, n, r, t, o));
          });
    var w = u ? void 0 : (4 & e ? (l ? nG : n8) : l ? e0 : eg)(t);
    return (
      (function (t, e) {
        for (
          var n = -1, i = null == t ? 0 : t.length;
          ++n < i && !1 !== e(t[n], n, t);

        );
      })(w || t, function (i, r) {
        w && (i = t[(r = i)]), tB(s, r, i_(i, e, n, r, t, o));
      }),
      s
    );
  }
  function iC(t) {
    return i_(t, 4);
  }
  function ib(t) {
    return i_(t, 5);
  }
  function ix(t) {
    var e = -1,
      n = null == t ? 0 : t.length;
    for (this.__data__ = new e4(); ++e < n; ) this.add(t[e]);
  }
  function iw(t, e) {
    for (var n = -1, i = null == t ? 0 : t.length; ++n < i; )
      if (e(t[n], n, t)) return !0;
    return !1;
  }
  function i1(t, e) {
    return t.has(e);
  }
  function iP(t, e, n, i, r, o) {
    var s = 1 & n,
      a = t.length,
      l = e.length;
    if (a != l && !(s && l > a)) return !1;
    var u = o.get(t),
      c = o.get(e);
    if (u && c) return u == e && c == t;
    var h = -1,
      p = !0,
      d = 2 & n ? new ix() : void 0;
    for (o.set(t, e), o.set(e, t); ++h < a; ) {
      var f = t[h],
        g = e[h];
      if (i) var $ = s ? i(g, f, h, e, t, o) : i(f, g, h, t, e, o);
      if (void 0 !== $) {
        if ($) continue;
        p = !1;
        break;
      }
      if (d) {
        if (
          !iw(e, function (t, e) {
            if (!i1(d, e) && (f === t || r(f, t, n, i, o))) return d.push(e);
          })
        ) {
          p = !1;
          break;
        }
      } else if (f !== g && !r(f, g, n, i, o)) {
        p = !1;
        break;
      }
    }
    return o.delete(t), o.delete(e), p;
  }
  function iA(t) {
    var e = -1,
      n = Array(t.size);
    return (
      t.forEach(function (t, i) {
        n[++e] = [i, t];
      }),
      n
    );
  }
  function iE(t) {
    var e = -1,
      n = Array(t.size);
    return (
      t.forEach(function (t) {
        n[++e] = t;
      }),
      n
    );
  }
  (im[i0] =
    im['[object Array]'] =
    im['[object ArrayBuffer]'] =
    im['[object DataView]'] =
    im['[object Boolean]'] =
    im['[object Date]'] =
    im['[object Float32Array]'] =
    im['[object Float64Array]'] =
    im['[object Int8Array]'] =
    im['[object Int16Array]'] =
    im['[object Int32Array]'] =
    im['[object Map]'] =
    im['[object Number]'] =
    im[iy] =
    im['[object RegExp]'] =
    im['[object Set]'] =
    im['[object String]'] =
    im['[object Symbol]'] =
    im['[object Uint8Array]'] =
    im['[object Uint8ClampedArray]'] =
    im['[object Uint16Array]'] =
    im['[object Uint32Array]'] =
      !0),
    (im['[object Error]'] = im[iv] = im['[object WeakMap]'] = !1),
    (ix.prototype.add = ix.prototype.push =
      function (t) {
        return this.__data__.set(t, '__lodash_hash_undefined__'), this;
      }),
    (ix.prototype.has = function (t) {
      return this.__data__.has(t);
    });
  var iS = R ? R.prototype : void 0,
    ik = iS ? iS.valueOf : void 0,
    i4 = Object.prototype.hasOwnProperty,
    iT = '[object Arguments]',
    i3 = '[object Array]',
    iM = '[object Object]',
    iD = Object.prototype.hasOwnProperty;
  function i2(t, e, n, i, r) {
    return (
      t === e ||
      (null != t && null != e && (X(t) || X(e))
        ? (function t(e, n, i, r, o, s) {
            var a = Z(e),
              l = Z(n),
              u = a ? i3 : ii(e),
              c = l ? i3 : ii(n),
              h = (u = u == iT ? iM : u) == iM,
              p = (c = c == iT ? iM : c) == iM,
              d = u == c;
            if (d && et(e)) {
              if (!et(n)) return !1;
              (a = !0), (h = !1);
            }
            if (d && !h)
              return (
                s || (s = new nN()),
                a || el(e)
                  ? iP(e, n, i, r, o, s)
                  : (function (t, e, n, i, r, o, s) {
                      switch (n) {
                        case '[object DataView]':
                          if (
                            t.byteLength != e.byteLength ||
                            t.byteOffset != e.byteOffset
                          )
                            break;
                          (t = t.buffer), (e = e.buffer);
                        case '[object ArrayBuffer]':
                          return !(
                            t.byteLength != e.byteLength ||
                            !o(new io(t), new io(e))
                          );
                        case '[object Boolean]':
                        case '[object Date]':
                        case '[object Number]':
                          return tF(+t, +e);
                        case '[object Error]':
                          return t.name == e.name && t.message == e.message;
                        case '[object RegExp]':
                        case '[object String]':
                          return t == e + '';
                        case '[object Map]':
                          var a = iA;
                        case '[object Set]':
                          var l = 1 & i;
                          if ((a || (a = iE), t.size != e.size && !l)) break;
                          var u = s.get(t);
                          if (u) return u == e;
                          (i |= 2), s.set(t, e);
                          var c = iP(a(t), a(e), i, r, o, s);
                          return s.delete(t), c;
                        case '[object Symbol]':
                          if (ik) return ik.call(t) == ik.call(e);
                      }
                      return !1;
                    })(e, n, u, i, r, o, s)
              );
            if (!(1 & i)) {
              var f = h && iD.call(e, '__wrapped__'),
                g = p && iD.call(n, '__wrapped__');
              if (f || g) {
                var $ = f ? e.value() : e,
                  v = g ? n.value() : n;
                return s || (s = new nN()), o($, v, i, r, s);
              }
            }
            return (
              !!d &&
              (s || (s = new nN()),
              (function (t, e, n, i, r, o) {
                var s = 1 & n,
                  a = n8(t),
                  l = a.length;
                if (l != n8(e).length && !s) return !1;
                for (var u = l; u--; ) {
                  var c = a[u];
                  if (!(s ? c in e : i4.call(e, c))) return !1;
                }
                var h = o.get(t),
                  p = o.get(e);
                if (h && p) return h == e && p == t;
                var d = !0;
                o.set(t, e), o.set(e, t);
                for (var f = s; ++u < l; ) {
                  var g = t[(c = a[u])],
                    $ = e[c];
                  if (i) var v = s ? i($, g, c, e, t, o) : i(g, $, c, t, e, o);
                  if (!(void 0 === v ? g === $ || r(g, $, n, i, o) : v)) {
                    d = !1;
                    break;
                  }
                  f || (f = 'constructor' == c);
                }
                if (d && !f) {
                  var y = t.constructor,
                    m = e.constructor;
                  y == m ||
                    !('constructor' in t) ||
                    !('constructor' in e) ||
                    ('function' == typeof y &&
                      y instanceof y &&
                      'function' == typeof m &&
                      m instanceof m) ||
                    (d = !1);
                }
                return o.delete(t), o.delete(e), d;
              })(e, n, i, r, o, s))
            );
          })(t, e, n, i, i2, r)
        : t != t && e != e)
    );
  }
  function iN(t) {
    return t == t && !ti(t);
  }
  function iL(t, e) {
    return function (n) {
      return null != n && n[t] === e && (void 0 !== e || t in Object(n));
    };
  }
  function i5(t, e) {
    return null != t && e in Object(t);
  }
  function i6(t, e, n) {
    for (var i = -1, r = (e = eN(e, t)).length, o = !1; ++i < r; ) {
      var s = eL(e[i]);
      if (!(o = null != t && n(t, s))) break;
      t = t[s];
    }
    return o || ++i != r
      ? o
      : !!(r = null == t ? 0 : t.length) &&
          t8(r) &&
          t6(s, r) &&
          (Z(t) || tJ(t));
  }
  function i7(t, e) {
    return null != t && i6(t, e, i5);
  }
  function iF(t) {
    return function (e) {
      return null == e ? void 0 : e[t];
    };
  }
  function iz(t) {
    var e, n, i, r, o, s;
    return 'function' == typeof t
      ? t
      : null == t
      ? tp
      : 'object' == typeof t
      ? Z(t)
        ? ((e = t[0]),
          (n = t[1]),
          eC(e) && iN(n)
            ? iL(eL(e), n)
            : function (t) {
                var i,
                  r,
                  o,
                  s =
                    ((i = t),
                    (r = e),
                    void 0 === (o = null == i ? void 0 : e5(i, r))
                      ? void 0
                      : o);
                return void 0 === s && s === n ? i7(t, e) : i2(n, s, 3);
              })
        : 1 ==
            (r = (function (t) {
              for (var e = eg(t), n = e.length; n--; ) {
                var i = e[n],
                  r = t[i];
                e[n] = [i, r, iN(r)];
              }
              return e;
            })((i = t))).length && r[0][2]
        ? iL(r[0][0], r[0][1])
        : function (t) {
            return (
              t === i ||
              (function (t, e, n, i) {
                var r = n.length,
                  o = r,
                  s = !i;
                if (null == t) return !o;
                for (t = Object(t); r--; ) {
                  var a = n[r];
                  if (s && a[2] ? a[1] !== t[a[0]] : !(a[0] in t)) return !1;
                }
                for (; ++r < o; ) {
                  var l = (a = n[r])[0],
                    u = t[l],
                    c = a[1];
                  if (s && a[2]) {
                    if (void 0 === u && !(l in t)) return !1;
                  } else {
                    var h = new nN();
                    if (i) var p = i(u, c, l, t, e, h);
                    if (!(void 0 === p ? i2(c, u, 3, i, h) : p)) return !1;
                  }
                }
                return !0;
              })(t, i, r)
            );
          }
      : eC((o = t))
      ? iF(eL(o))
      : ((s = o),
        function (t) {
          return e5(t, s);
        });
  }
  function iB(t, e, n, i) {
    for (var r = -1, o = null == t ? 0 : t.length; ++r < o; ) {
      var s = t[r];
      e(i, s, n(s), t);
    }
    return i;
  }
  var iO,
    iV,
    iR,
    iI = function (t, e, n) {
      for (var i = -1, r = Object(t), o = n(t), s = o.length; s--; ) {
        var a = o[iO ? s : ++i];
        if (!1 === e(r[a], a, r)) break;
      }
      return t;
    },
    i8 =
      ((iV = function (t, e) {
        return t && iI(t, e, eg);
      }),
      function (t, e) {
        if (null == t) return t;
        if (!tG(t)) return iV(t, e);
        for (
          var n = t.length, i = iR ? n : -1, r = Object(t);
          (iR ? i-- : ++i < n) && !1 !== e(r[i], i, r);

        );
        return t;
      });
  function iG(t, e, n, i) {
    return (
      i8(t, function (t, r, o) {
        e(i, t, n(t), o);
      }),
      i
    );
  }
  var ij = function () {
      return V.Date.now();
    },
    iH = Math.max,
    iU = Math.min;
  function iq(t, e, n) {
    var i,
      r,
      o,
      s,
      a,
      l,
      u = 0,
      c = !1,
      h = !1,
      p = !0;
    if ('function' != typeof t) throw TypeError('Expected a function');
    function d(e) {
      var n = i,
        o = r;
      return (i = r = void 0), (u = e), (s = t.apply(o, n));
    }
    function f(t) {
      var n = t - l;
      return void 0 === l || n >= e || n < 0 || (h && t - u >= o);
    }
    function g() {
      var t,
        n,
        i = ij();
      if (f(i)) return $(i);
      a = setTimeout(g, ((n = e - ((t = i) - l)), h ? iU(n, o - (t - u)) : n));
    }
    function $(t) {
      return (a = void 0), p && i ? d(t) : ((i = r = void 0), s);
    }
    function v() {
      var t,
        n = ij(),
        o = f(n);
      if (((i = arguments), (r = this), (l = n), o)) {
        if (void 0 === a)
          return (u = t = l), (a = setTimeout(g, e)), c ? d(t) : s;
        if (h) return clearTimeout(a), (a = setTimeout(g, e)), d(l);
      }
      return void 0 === a && (a = setTimeout(g, e)), s;
    }
    return (
      (e = tl(e) || 0),
      ti(n) &&
        ((c = !!n.leading),
        (o = (h = 'maxWait' in n) ? iH(tl(n.maxWait) || 0, e) : o),
        (p = 'trailing' in n ? !!n.trailing : p)),
      (v.cancel = function () {
        void 0 !== a && clearTimeout(a), (u = 0), (i = l = r = a = void 0);
      }),
      (v.flush = function () {
        return void 0 === a ? s : $(ij());
      }),
      v
    );
  }
  var i9 = Object.prototype,
    iW = i9.hasOwnProperty,
    iX = tI(function (t, e) {
      t = Object(t);
      var n = -1,
        i = e.length,
        r = i > 2 ? e[2] : void 0;
      for (r && tj(e[0], e[1], r) && (i = 1); ++n < i; )
        for (var o = e[n], s = e0(o), a = -1, l = s.length; ++a < l; ) {
          var u = s[a],
            c = t[u];
          (void 0 === c || (tF(c, i9[u]) && !iW.call(t, u))) && (t[u] = o[u]);
        }
      return t;
    });
  function iY(t, e, n) {
    ((void 0 === n || tF(t[e], n)) && (void 0 !== n || e in t)) || t7(t, e, n);
  }
  function iJ(t) {
    return X(t) && tG(t);
  }
  function iZ(t, e) {
    if (('constructor' !== e || 'function' != typeof t[e]) && '__proto__' != e)
      return t[e];
  }
  function iK(t, e, n, i, r) {
    t !== e &&
      iI(
        e,
        function (o, s) {
          if ((r || (r = new nN()), ti(o)))
            !(function t(e, n, i, r, o, s, a) {
              var l = iZ(e, i),
                u = iZ(n, i),
                c = a.get(u);
              if (c) iY(e, i, c);
              else {
                var h,
                  p = s ? s(l, u, i + '', e, n, a) : void 0,
                  d = void 0 === p;
                if (d) {
                  var f = Z(u),
                    g = !f && et(u),
                    $ = !f && !g && el(u);
                  (p = u),
                    f || g || $
                      ? Z(l)
                        ? (p = l)
                        : iJ(l)
                        ? (p = tk(l))
                        : g
                        ? ((d = !1), (p = nF(u, !0)))
                        : $
                        ? ((d = !1), (p = ic(u, !0)))
                        : (p = [])
                      : eG(u) || tJ(u)
                      ? ((p = l),
                        tJ(l)
                          ? (p = tO((h = l), e0(h)))
                          : (ti(l) && !td(l)) || (p = ih(u)))
                      : (d = !1);
                }
                d && (a.set(u, p), o(p, u, r, s, a), a.delete(u)), iY(e, i, p);
              }
            })(t, e, s, n, iK, i, r);
          else {
            var a = i ? i(iZ(t, s), o, s + '', t, e, r) : void 0;
            void 0 === a && (a = o), iY(t, s, a);
          }
        },
        e0
      );
  }
  function iQ(t, e, n, i, r, o) {
    return (
      ti(t) && ti(e) && (o.set(e, t), iK(t, e, void 0, iQ, o), o.delete(e)), t
    );
  }
  var rt = tH(function (t, e, n, i) {
      iK(t, e, n, i);
    }),
    re = tI(function (t) {
      return t.push(void 0, iQ), tE(rt, void 0, t);
    }),
    rn = tI(function (t, e) {
      return (function (t, e, n) {
        if ('function' != typeof t) throw TypeError('Expected a function');
        return setTimeout(function () {
          t.apply(void 0, n);
        }, 1);
      })(t, 1, e);
    });
  function ri(t, e, n) {
    for (var i = -1, r = null == t ? 0 : t.length; ++i < r; )
      if (n(e, t[i])) return !0;
    return !1;
  }
  var rr = tI(function (t, e) {
      return iJ(t)
        ? (function (t, e, n, i) {
            var r = -1,
              o = tL,
              s = !0,
              a = t.length,
              l = [],
              u = e.length;
            if (!a) return l;
            n && (e = J(e, en(n))),
              i
                ? ((o = ri), (s = !1))
                : e.length >= 200 && ((o = i1), (s = !1), (e = new ix(e)));
            t: for (; ++r < a; ) {
              var c = t[r],
                h = null == n ? c : n(c);
              if (((c = i || 0 !== c ? c : 0), s && h == h)) {
                for (var p = u; p--; ) if (e[p] === h) continue t;
                l.push(c);
              } else o(e, h, i) || l.push(c);
            }
            return l;
          })(t, ez(e, 1, iJ, !0))
        : [];
    }),
    ro = nl({
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;',
    }),
    rs = /[&<>"']/g,
    ra = RegExp(rs.source);
  function rl(t) {
    return (t = e2(t)) && ra.test(t) ? t.replace(rs, ro) : t;
  }
  var ru,
    rc,
    rh = Object.prototype.hasOwnProperty,
    rp =
      ((ru = function (t, e, n) {
        rh.call(t, n) ? t[n].push(e) : t7(t, n, [e]);
      }),
      function (t, e) {
        var n = Z(t) ? iB : iG,
          i = rc ? rc() : {};
        return n(t, ru, iz(e), i);
      });
  function rd(t, e) {
    return t > e;
  }
  var rf = Object.prototype.hasOwnProperty;
  function rg(t, e) {
    return null != t && rf.call(t, e);
  }
  function r$(t, e) {
    return null != t && i6(t, e, rg);
  }
  var r0 = Math.max,
    rv = Math.min;
  function ry(t) {
    return 'string' == typeof t || (!Z(t) && X(t) && '[object String]' == W(t));
  }
  var rm = Object.prototype.hasOwnProperty;
  function r_(t) {
    if (null == t) return !0;
    if (
      tG(t) &&
      (Z(t) ||
        'string' == typeof t ||
        'function' == typeof t.splice ||
        et(t) ||
        el(t) ||
        tJ(t))
    )
      return !t.length;
    var e = ii(t);
    if ('[object Map]' == e || '[object Set]' == e) return !t.size;
    if (tq(t)) return !ef(t).length;
    for (var n in t) if (rm.call(t, n)) return !1;
    return !0;
  }
  function rC(t, e) {
    return i2(t, e);
  }
  var rb = V.isFinite;
  function rx(t) {
    return 'number' == typeof t && t == th(t);
  }
  function rw(t) {
    return 'number' == typeof t || (X(t) && '[object Number]' == W(t));
  }
  var r1 = es && es.isRegExp,
    rP = r1
      ? en(r1)
      : function (t) {
          return X(t) && '[object RegExp]' == W(t);
        },
    rA = n3(function (t, e, n) {
      return t + (n ? ' ' : '') + e.toLowerCase();
    }),
    rE = ns('toLowerCase');
  function rS(t) {
    return t && t.length
      ? (function (t, e, n) {
          for (var i = -1, r = t.length; ++i < r; ) {
            var o = t[i],
              s = e(o);
            if (null != s && (void 0 === a ? s == s && !Y(s) : n(s, a)))
              var a = s,
                l = o;
          }
          return l;
        })(t, tp, rd)
      : void 0;
  }
  var rk = tH(function (t, e, n) {
    iK(t, e, n);
  });
  function r4(t, e, n, i) {
    if (!ti(t)) return t;
    for (
      var r = -1, o = (e = eN(e, t)).length, s = o - 1, a = t;
      null != a && ++r < o;

    ) {
      var l = eL(e[r]),
        u = n;
      if ('__proto__' === l || 'constructor' === l || 'prototype' === l) break;
      if (r != s) {
        var c = a[l];
        void 0 === (u = i ? i(c, l, a) : void 0) &&
          (u = ti(c) ? c : t6(e[r + 1]) ? [] : {});
      }
      tB(a, l, u), (a = a[l]);
    }
    return t;
  }
  function rT(t, e) {
    if (t !== e) {
      var n = void 0 !== t,
        i = null === t,
        r = t == t,
        o = Y(t),
        s = void 0 !== e,
        a = null === e,
        l = e == e,
        u = Y(e);
      if (
        (!a && !u && !o && t > e) ||
        (o && s && l && !a && !u) ||
        (i && s && l) ||
        (!n && l) ||
        !r
      )
        return 1;
      if (
        (!i && !o && !u && t < e) ||
        (u && n && r && !i && !o) ||
        (a && n && r) ||
        (!s && r) ||
        !l
      )
        return -1;
    }
    return 0;
  }
  var r3 = Math.floor;
  function rM(t, e) {
    var n = '';
    if (!t || e < 1 || e > 9007199254740991) return n;
    do e % 2 && (n += t), (e = r3(e / 2)) && (t += t);
    while (e);
    return n;
  }
  var rD = iF('length'),
    r2 = '[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]',
    rN = '\ud83c[\udffb-\udfff]',
    rL = '[^\ud800-\udfff]',
    r5 = '(?:\ud83c[\udde6-\uddff]){2}',
    r6 = '[\ud800-\udbff][\udc00-\udfff]',
    r7 = '(?:' + r2 + '|' + rN + ')?',
    rF = '[\\ufe0e\\ufe0f]?',
    rz =
      rF +
      r7 +
      ('(?:\\u200d(?:' + [rL, r5, r6].join('|') + ')' + rF) +
      r7 +
      ')*',
    rB = RegExp(
      rN +
        '(?=' +
        rN +
        ')|' +
        ('(?:' + [rL + r2 + '?', r2, r5, r6, '[\ud800-\udfff]'].join('|')) +
        ')' +
        rz,
      'g'
    );
  function rO(t) {
    return e9(t)
      ? (function (t) {
          for (var e = (rB.lastIndex = 0); rB.test(t); ) ++e;
          return e;
        })(t)
      : rD(t);
  }
  var rV = Math.ceil;
  function rR(t, e) {
    var n = (e = void 0 === e ? ' ' : tt(e)).length;
    if (n < 2) return n ? rM(e, t) : e;
    var i = rM(e, rV(t / rO(e)));
    return e9(e) ? eU(no(i), 0, t).join('') : i.slice(0, t);
  }
  var rI,
    r8 = Math.ceil,
    rG = Math.floor,
    rj = /^\s+/,
    rH = V.parseInt,
    rU = t2(
      tR(
        (rI = function (t, e) {
          var n, i;
          return null == t
            ? {}
            : ((n = t),
              (function (t, e, n) {
                for (var i = -1, r = e.length, o = {}; ++i < r; ) {
                  var s = e[i],
                    a = e5(t, s);
                  n(a, s) && r4(o, eN(s, t), a);
                }
                return o;
              })(n, (i = e), function (t, e) {
                return i7(n, e);
              }));
        }),
        void 0,
        function t(e) {
          return (null == e ? 0 : e.length) ? ez(e, 1) : [];
        }
      ),
      rI + ''
    ),
    rq = tI(function (t, e) {
      if (null == t) return [];
      var n,
        i,
        r,
        o,
        s,
        a,
        l,
        u,
        c = e.length;
      return (
        c > 1 && tj(t, e[0], e[1])
          ? (e = [])
          : c > 2 && tj(e[0], e[1], e[2]) && (e = [e[0]]),
        (n = t),
        (i = ez(e, 1)),
        (r = []),
        (i = i.length
          ? J(i, function (t) {
              return Z(t)
                ? function (e) {
                    return e5(e, 1 === t.length ? t[0] : t);
                  }
                : t;
            })
          : [tp]),
        (o = -1),
        (i = J(i, en(iz))),
        (function (t, e) {
          var n = t.length;
          for (t.sort(e); n--; ) t[n] = t[n].value;
          return t;
        })(
          ((s = n),
          (a = function (t, e, n) {
            return {
              criteria: J(i, function (e) {
                return e(t);
              }),
              index: ++o,
              value: t,
            };
          }),
          (l = -1),
          (u = tG(s) ? Array(s.length) : []),
          i8(s, function (t, e, n) {
            u[++l] = a(t, e, n);
          }),
          u),
          function (t, e) {
            return (function (t, e, n) {
              for (
                var i = -1,
                  r = t.criteria,
                  o = e.criteria,
                  s = r.length,
                  a = n.length;
                ++i < s;

              ) {
                var l = rT(r[i], o[i]);
                if (l) return i >= a ? l : l * ('desc' == n[i] ? -1 : 1);
              }
              return t.index - e.index;
            })(t, e, r);
          }
        )
      );
    }),
    r9 = Math.floor,
    rW = Math.min;
  function rX(t, e, n, i) {
    var r = 0,
      o = null == t ? 0 : t.length;
    if (0 === o) return 0;
    for (
      var s = (e = n(e)) != e, a = null === e, l = Y(e), u = void 0 === e;
      r < o;

    ) {
      var c = r9((r + o) / 2),
        h = n(t[c]),
        p = void 0 !== h,
        d = null === h,
        f = h == h,
        g = Y(h);
      if (s) var $ = i || f;
      else
        $ = u
          ? f && (i || p)
          : a
          ? f && p && (i || !d)
          : l
          ? f && p && !d && (i || !g)
          : !d && !g && (i ? h <= e : h < e);
      $ ? (r = c + 1) : (o = c);
    }
    return rW(o, 4294967294);
  }
  function rY(t, e) {
    return (function (t, e, n) {
      var i = 0,
        r = null == t ? i : t.length;
      if ('number' == typeof e && e == e && r <= 2147483647) {
        for (; i < r; ) {
          var o = (i + r) >>> 1,
            s = t[o];
          null !== s && !Y(s) && (n ? s <= e : s < e) ? (i = o + 1) : (r = o);
        }
        return r;
      }
      return rX(t, e, tp, n);
    })(t, e);
  }
  function rJ(t, e, n) {
    return rX(t, e, iz(n));
  }
  var rZ = n3(function (t, e, n) {
      return t + (n ? ' ' : '') + na(e);
    }),
    rK = Object.prototype,
    rQ = rK.hasOwnProperty;
  function ot(t, e, n, i) {
    return void 0 === t || (tF(t, rK[n]) && !rQ.call(i, n)) ? e : t;
  }
  var oe = {
    '\\': '\\',
    "'": "'",
    '\n': 'n',
    '\r': 'r',
    '\u2028': 'u2028',
    '\u2029': 'u2029',
  };
  function on(t) {
    return '\\' + oe[t];
  }
  var oi = /<%=([\s\S]+?)%>/g,
    or = {
      escape: /<%-([\s\S]+?)%>/g,
      evaluate: /<%([\s\S]+?)%>/g,
      interpolate: oi,
      variable: '',
      imports: { _: { escape: rl } },
    },
    oo = /\b__p \+= '';/g,
    os = /\b(__p \+=) '' \+/g,
    oa = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
    ol = /[()=,{}\[\]\/\s]/,
    ou = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
    oc = /($^)/,
    oh = /['\n\r\u2028\u2029\\]/g,
    op = Object.prototype.hasOwnProperty;
  function od(t, e, n) {
    var i,
      r,
      o = or.imports._.templateSettings || or;
    n && tj(t, e, n) && (e = void 0), (t = e2(t)), (e = ey({}, e, o, ot));
    var s,
      a,
      l = ey({}, e.imports, o.imports, ot),
      u = eg(l),
      c =
        ((i = l),
        (r = u),
        J(r, function (t) {
          return i[t];
        })),
      h = 0,
      p = e.interpolate || oc,
      d = "__p += '",
      f = RegExp(
        (e.escape || oc).source +
          '|' +
          p.source +
          '|' +
          (p === oi ? ou : oc).source +
          '|' +
          (e.evaluate || oc).source +
          '|$',
        'g'
      ),
      g = op.call(e, 'sourceURL')
        ? '//# sourceURL=' + (e.sourceURL + '').replace(/\s/g, ' ') + '\n'
        : '';
    t.replace(f, function (e, n, i, r, o, l) {
      return (
        i || (i = r),
        (d += t.slice(h, l).replace(oh, on)),
        n && ((s = !0), (d += "' +\n__e(" + n + ") +\n'")),
        o && ((a = !0), (d += "';\n" + o + ";\n__p += '")),
        i && (d += "' +\n((__t = (" + i + ")) == null ? '' : __t) +\n'"),
        (h = l + e.length),
        e
      );
    }),
      (d += "';\n");
    var $ = op.call(e, 'variable') && e.variable;
    if ($) {
      if (ol.test($))
        throw Error('Invalid `variable` option passed into `_.template`');
    } else d = 'with (obj) {\n' + d + '\n}\n';
    (d = (a ? d.replace(oo, '') : d).replace(os, '$1').replace(oa, '$1;')),
      (d =
        'function(' +
        ($ || 'obj') +
        ') {\n' +
        ($ ? '' : 'obj || (obj = {});\n') +
        "var __t, __p = ''" +
        (s ? ', __e = _.escape' : '') +
        (a
          ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"
          : ';\n') +
        d +
        'return __p\n}');
    var v = eH(function () {
      return Function(u, g + 'return ' + d).apply(void 0, c);
    });
    if (((v.source = d), ej(v))) throw v;
    return v;
  }
  var of = 9007199254740991,
    og = /\w*$/,
    o$ = nl({
      '&amp;': '&',
      '&lt;': '<',
      '&gt;': '>',
      '&quot;': '"',
      '&#39;': "'",
    }),
    o0 = /&(?:amp|lt|gt|quot|#39);/g,
    ov = RegExp(o0.source),
    oy =
      nU && 1 / iE(new nU([, -0]))[1] == 1 / 0
        ? function (t) {
            return new nU(t);
          }
        : tS;
  function om(t, e, n) {
    var i = -1,
      r = tL,
      o = t.length,
      s = !0,
      a = [],
      l = a;
    if (n) (s = !1), (r = ri);
    else if (o >= 200) {
      var u = e ? null : oy(t);
      if (u) return iE(u);
      (s = !1), (r = i1), (l = new ix());
    } else l = e ? [] : a;
    t: for (; ++i < o; ) {
      var c = t[i],
        h = e ? e(c) : c;
      if (((c = n || 0 !== c ? c : 0), s && h == h)) {
        for (var p = l.length; p--; ) if (l[p] === h) continue t;
        e && l.push(h), a.push(c);
      } else r(l, h, n) || (l !== a && l.push(h), a.push(c));
    }
    return a;
  }
  var o_ = tI(function (t) {
    return om(ez(t, 1, iJ, !0));
  });
  function oC(t) {
    return t && t.length ? om(t) : [];
  }
  var ob = 0;
  function ox(t) {
    var e = ++ob;
    return e2(t) + e;
  }
  var ow = n3(function (t, e, n) {
      return t + (n ? ' ' : '') + e.toUpperCase();
    }),
    o1 = function (t) {
      return !Array.isArray(t) && t - parseFloat(t) + 1 >= 0;
    },
    oP = Object.freeze({
      __proto__: null,
      isWindow: function (t) {
        return t && t === t.window;
      },
      isNumeric: o1,
      isNull: function (t) {
        return null === t;
      },
      isNil: function (t) {
        return null == t;
      },
      isUndefined: function (t) {
        return void 0 === t;
      },
      isString: ry,
      isNumber: rw,
      isBoolean: function (t) {
        return !0 === t || !1 === t || (X(t) && '[object Boolean]' == W(t));
      },
      isObject: ti,
      isArray: Z,
      isArrayLike: tG,
      isFunction: td,
    });
  function oA(t, e) {
    for (var n = {}, i = [], r = 0, o = t.length; r < o; r += 1) {
      var s = t[r],
        a = s[e];
      a ? (n[a] = r) : i.push(s);
    }
    return { keyIndex: n, free: i };
  }
  var oE = Object.freeze({
    __proto__: null,
    isArray: Z,
    isArrayLike: tG,
    uniq: oC,
    union: o_,
    sortedIndex: rY,
    sortedIndexBy: rJ,
    sortBy: rq,
    groupBy: rp,
    difference: rr,
    max: rS,
    diff: function (t, e, n) {
      for (
        var i,
          r,
          o = oA(t, n),
          s = oA(e, n),
          a = s.free,
          l = o.keyIndex,
          u = s.keyIndex,
          c = [],
          h = [],
          p = 0,
          d = 0;
        p < t.length;

      ) {
        if ((r = (i = t[p])[n])) {
          if (u.hasOwnProperty(r)) {
            var f = u[r];
            h.push(e[f]);
          } else h.push(null);
        } else {
          var g = a[(d += 1)];
          h.push(g || null);
        }
        p += 1;
      }
      var $ = h.slice(0);
      for (p = 0; p < $.length; ) null === $[p] ? (C(p), x(p)) : (p += 1);
      for (var v = (p = 0); p < e.length; ) {
        r = (i = e[p])[n];
        var y = $[v];
        if (y) {
          if (r === y[n]) v += 1;
          else if (l.hasOwnProperty(r)) {
            var m = $[v + 1];
            m && (m[n] === r ? (C(p), x(v), (v += 1)) : b(p, i));
          } else b(p, i);
        } else b(p, i);
        p += 1;
      }
      for (var _ = $.length - v; (v += 1) < $.length; ) C((_ -= 1) + p);
      function C(t) {
        c.push({ index: t, type: 0, item: null });
      }
      function b(t, e) {
        c.push({ index: t, item: e, type: 1 });
      }
      function x(t) {
        $.splice(t, 1);
      }
      return { moves: c };
    },
  });
  function oS(t) {
    for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
    e.forEach(function (e) {
      Object.getOwnPropertyNames(e.prototype).forEach(function (n) {
        'constructor' !== n &&
          Object.defineProperty(
            t.prototype,
            n,
            Object.getOwnPropertyDescriptor(e.prototype, n)
          );
      });
    });
  }
  var ok =
    Object.setPrototypeOf ||
    ({ __proto__: [] } instanceof Array &&
      function (t, e) {
        t.__proto__ = e;
      }) ||
    function (t, e) {
      for (var n in e)
        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
    };
  function o4(t, e) {
    function n() {
      this.constructor = t;
    }
    ok(t, e),
      (t.prototype =
        null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
  }
  var oT =
    /^\s*class\s+/.test('' + function () {}) ||
    /^\s*class\s*\{/.test('' + function () {});
  function o3(t, e) {
    var i;
    return (
      oT
        ? (i = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return n(e, t), e;
          })(e))
        : o4(
            (i = function () {
              return e.apply(this, arguments);
            }),
            e
          ),
      Object.defineProperty(i, 'name', { value: t }),
      i
    );
  }
  function oM(t, e) {
    return null != t ? t : e;
  }
  function oD(t) {
    return '__proto__' === t;
  }
  function o2(t, e, n) {
    void 0 === n && (n = '/');
    var i,
      r = Array.isArray(e) ? e : e.split(n);
    if (r.length)
      for (i = t; r.length; ) {
        var o = r.shift();
        if (Object(i) !== i || !o || !(o in i)) return;
        i = i[o];
      }
    return i;
  }
  function oN(t, e, n, i) {
    void 0 === i && (i = '/');
    var r = Array.isArray(e) ? e : e.split(i),
      o = r.pop();
    if (o && !oD(o)) {
      var s = t;
      r.forEach(function (t) {
        oD(t) || (null == s[t] && (s[t] = {}), (s = s[t]));
      }),
        (s[o] = n);
    }
    return t;
  }
  function oL(t, e, n) {
    void 0 === n && (n = '/');
    var i = Array.isArray(e) ? e.slice() : e.split(n),
      r = i.pop();
    if (r) {
      if (i.length > 0) {
        var o = o2(t, i);
        o && delete o[r];
      } else delete t[r];
    }
    return t;
  }
  var o5 = Object.freeze({
      __proto__: null,
      ensure: oM,
      getValue: function (t, e, n) {
        var i = null != t ? t[e] : null;
        return void 0 !== n ? oM(i, n) : i;
      },
      getNumber: function (t, e, n) {
        var i = null != t ? t[e] : null;
        return null == i
          ? n
          : Number.isNaN((i = +i)) || !Number.isFinite(i)
          ? n
          : i;
      },
      getBoolean: function (t, e, n) {
        var i = null != t ? t[e] : null;
        return null == i ? n : !!i;
      },
      isMaliciousProp: oD,
      getByPath: o2,
      setByPath: oN,
      unsetByPath: oL,
      flatten: function t(e, n, i) {
        void 0 === n && (n = '/');
        var r = {};
        for (var o in (Object.keys(e).forEach(function (o) {
          var s = e[o],
            a = 'object' == typeof s || Array.isArray(s);
          if ((a && i && i(s) && (a = !1), a)) {
            var l = t(s, n, i);
            Object.keys(l).forEach(function (t) {
              r[o + n + t] = l[t];
            });
          } else r[o] = s;
        }),
        e))
          Object.prototype.hasOwnProperty.call(e, o);
        return r;
      },
      has: r$,
      pick: rU,
      forIn: function (t, e) {
        var n;
        return null == t ? t : iI(t, 'function' == typeof (n = e) ? n : tp, e0);
      },
      merge: rk,
      extend: ev,
      isEqual: rC,
      isEmpty: r_,
      isObject: ti,
      isPlainObject: eG,
      clone: iC,
      cloneDeep: ib,
      defaults: iX,
      defaultsDeep: re,
      applyMixins: oS,
      inherit: o4,
      createClass: o3,
    }),
    o6 = function (t) {
      var e = Object.create(null);
      return function (n) {
        return e[n] || (e[n] = t(n));
      };
    },
    o7 = o6(function (t) {
      return t.replace(/\B([A-Z])/g, '-$1').toLowerCase();
    }),
    oF = o6(function (t) {
      return rZ(nM(t)).replace(/ /g, '');
    }),
    oz = o6(function (t) {
      return ow(t).replace(/ /g, '_');
    }),
    oB = o6(function (t) {
      return rA(t).replace(/ /g, '.');
    }),
    oO = o6(function (t) {
      return rA(t).replace(/ /g, '/');
    }),
    oV = o6(function (t) {
      return na(rA(t));
    }),
    oR = o6(function (t) {
      return rZ(nM(t));
    });
  function oI(t) {
    for (
      var e = 2166136261, n = !1, i = t, r = 0, o = i.length;
      r < o;
      r += 1
    ) {
      var s = i.charCodeAt(r);
      s > 127 &&
        !n &&
        ((s = (i = unescape(encodeURIComponent(i))).charCodeAt(r)), (n = !0)),
        (e ^= s),
        (e += (e << 1) + (e << 4) + (e << 7) + (e << 8) + (e << 24));
    }
    return e >>> 0;
  }
  function o8() {
    for (
      var t = '',
        e = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx',
        n = 0,
        i = e.length;
      n < i;
      n += 1
    ) {
      var r = e[n],
        o = (16 * Math.random()) | 0;
      t += ('x' === r ? o : 'y' === r ? (3 & o) | 8 : r).toString(16);
    }
    return t;
  }
  function oG(t, e) {
    void 0 === e && (e = {});
    var n = d.parseHTML(t, null, !1);
    return (
      n.forEach(function (t) {
        var e = t;
        if (e) {
          var n = e.attributes;
          if (n)
            for (var i = 0, r = n.length; i < r; i += 1) {
              var o = n.item(i);
              if (o) {
                var s = o.value.toLowerCase(),
                  a = o.name.toLowerCase();
                (a.startsWith('on') ||
                  s.startsWith('javascript:') ||
                  s.startsWith('data:') ||
                  s.startsWith('vbscript:')) &&
                  e.removeAttribute(a);
              }
            }
        }
      }),
      e.raw ? n : d('<div/>').append(n).html()
    );
  }
  function oj(t, e, n) {
    for (
      var i,
        r = Math.min(2, Math.floor(0.34 * t.length)),
        o = Math.floor(0.4 * t.length) + 1,
        s = !1,
        a = t.toLowerCase(),
        l = 0,
        u = e;
      l < u.length;
      l++
    ) {
      var c = u[l],
        h = n(c);
      if (void 0 !== h && Math.abs(h.length - a.length) <= r) {
        var p = h.toLowerCase();
        if (p === a) {
          if (h === t) continue;
          return c;
        }
        if (s || h.length < 3) continue;
        var d = oH(a, p, o - 1);
        if (void 0 === d) continue;
        d < 3 ? ((s = !0), (i = c)) : ((o = d), (i = c));
      }
    }
    return i;
  }
  function oH(t, e, n) {
    for (
      var i = Array(e.length + 1), r = Array(e.length + 1), o = n + 1, s = 0;
      s <= e.length;
      s += 1
    )
      i[s] = s;
    for (s = 1; s <= t.length; s += 1) {
      var a = t.charCodeAt(s - 1),
        l = s > n ? s - n : 1,
        u = e.length > n + s ? n + s : e.length;
      r[0] = s;
      for (var c = s, h = 1; h < l; h += 1) r[h] = o;
      for (h = l; h <= u; h += 1) {
        var p =
          a === e.charCodeAt(h - 1)
            ? i[h - 1]
            : Math.min(i[h] + 1, r[h - 1] + 1, i[h - 1] + 2);
        (r[h] = p), (c = Math.min(c, p));
      }
      for (h = u + 1; h <= e.length; h += 1) r[h] = o;
      if (c > n) return;
      var d = i;
      (i = r), (r = d);
    }
    var f = i[e.length];
    return f > n ? void 0 : f;
  }
  var oU = Object.freeze({
    __proto__: null,
    isString: ry,
    toString: e2,
    escape: rl,
    unescape: function (t) {
      return (t = e2(t)) && ov.test(t) ? t.replace(o0, o$) : t;
    },
    startsWith: function (t, e, n) {
      return (
        (t = e2(t)),
        (n = null == n ? 0 : nD(th(n), 0, t.length)),
        (e = tt(e)),
        t.slice(n, n + e.length) == e
      );
    },
    endsWith: function (t, e, n) {
      (t = e2(t)), (e = tt(e));
      var i = t.length,
        r = (n = void 0 === n ? i : nD(th(n), 0, i));
      return (n -= e.length) >= 0 && t.slice(n, r) == e;
    },
    split: function (t, e, n) {
      return (
        n && 'number' != typeof n && tj(t, e, n) && (e = n = void 0),
        (n = void 0 === n ? 4294967295 : n >>> 0)
          ? (t = e2(t)) &&
            ('string' == typeof e || (null != e && !rP(e))) &&
            !(e = tt(e)) &&
            e9(t)
            ? eU(no(t), 0, n)
            : t.split(e, n)
          : []
      );
    },
    repeat: function (t, e, n) {
      return (e = (n ? tj(t, e, n) : void 0 === e) ? 1 : th(e)), rM(e2(t), e);
    },
    pad: function (t, e, n) {
      t = e2(t);
      var i = (e = th(e)) ? rO(t) : 0;
      if (!e || i >= e) return t;
      var r = (e - i) / 2;
      return rR(rG(r), n) + t + rR(r8(r), n);
    },
    padEnd: function (t, e, n) {
      t = e2(t);
      var i = (e = th(e)) ? rO(t) : 0;
      return e && i < e ? t + rR(e - i, n) : t;
    },
    padStart: function (t, e, n) {
      t = e2(t);
      var i = (e = th(e)) ? rO(t) : 0;
      return e && i < e ? rR(e - i, n) + t : t;
    },
    truncate: function (t, e) {
      var n = 30,
        i = '...';
      if (ti(e)) {
        var r = 'separator' in e ? e.separator : r;
        (n = 'length' in e ? th(e.length) : n),
          (i = 'omission' in e ? tt(e.omission) : i);
      }
      var o = (t = e2(t)).length;
      if (e9(t)) {
        var s = no(t);
        o = s.length;
      }
      if (n >= o) return t;
      var a = n - rO(i);
      if (a < 1) return i;
      var l = s ? eU(s, 0, a).join('') : t.slice(0, a);
      if (void 0 === r) return l + i;
      if ((s && (a += l.length - a), rP(r))) {
        if (t.slice(a).search(r)) {
          var u,
            c = l;
          for (
            r.global || (r = RegExp(r.source, e2(og.exec(r)) + 'g')),
              r.lastIndex = 0;
            (u = r.exec(c));

          )
            var h = u.index;
          l = l.slice(0, void 0 === h ? a : h);
        }
      } else if (t.indexOf(tt(r), a) != a) {
        var p = l.lastIndexOf(r);
        p > -1 && (l = l.slice(0, p));
      }
      return l + i;
    },
    template: od,
    uniqueId: ox,
    eval: function (t) {
      var e = null;
      try {
        e = window.eval(t);
      } catch (n) {}
      return e;
    },
    lowerFirst: rE,
    upperFirst: na,
    camelCase: nM,
    kebabCase: o7,
    pascalCase: oF,
    constantCase: oz,
    dotCase: oB,
    pathCase: oO,
    sentenceCase: oV,
    titleCase: oR,
    hashcode: oI,
    uuid: o8,
    sanitizeHTML: oG,
    getSpellingSuggestion: oj,
  });
  function oq(t) {
    return 'string' == typeof t && '%' === t.slice(-1);
  }
  function o9(t, e) {
    var n;
    if (null == t) return 0;
    if ('string' == typeof t) {
      if (((n = parseFloat(t)), oq(t) && Number.isFinite((n /= 100))))
        return n * e;
    } else n = t;
    return Number.isFinite(n) ? (n > 0 && n < 1 ? n * e : n) : 0;
  }
  function oW(t, e) {
    var n,
      i = parseFloat(t);
    if (Number.isNaN(i)) return null;
    if (null == e) n = '[A-Za-z]*';
    else if (Array.isArray(e)) {
      if (0 === e.length) return null;
      n = e.join('|');
    } else 'string' == typeof e && (n = e);
    var r,
      o,
      s =
        ((r = n),
        (o = RegExp('(?:\\d+(?:\\.\\d+)*)(' + r + ')$').exec(t)) ? o[1] : null);
    return null === s ? null : { unit: s, value: i };
  }
  function oX(t) {
    if ('object' == typeof t) {
      var e = 0,
        n = 0,
        i = 0,
        r = 0;
      return (
        null != t.vertical &&
          Number.isFinite(t.vertical) &&
          (n = r = t.vertical),
        null != t.horizontal &&
          Number.isFinite(t.horizontal) &&
          (i = e = t.horizontal),
        null != t.left && Number.isFinite(t.left) && (e = t.left),
        null != t.top && Number.isFinite(t.top) && (n = t.top),
        null != t.right && Number.isFinite(t.right) && (i = t.right),
        null != t.bottom && Number.isFinite(t.bottom) && (r = t.bottom),
        { top: n, right: i, bottom: r, left: e }
      );
    }
    var o = 0;
    return (
      null != t && Number.isFinite(t) && (o = t),
      { top: o, right: o, bottom: o, left: o }
    );
  }
  var oY = Object.freeze({
    __proto__: null,
    mod: function (t, e) {
      return ((t % e) + e) % e;
    },
    random: function (t, e) {
      if (null == e) (e = null == t ? 1 : t), (t = 0);
      else if (e < t) {
        var n = t;
        (t = e), (e = n);
      }
      return Math.floor(Math.random() * (e - t + 1) + t);
    },
    isPercentage: oq,
    normalizePercentage: o9,
    parseCssNumeric: oW,
    normalizeSides: oX,
    isNaN: function (t) {
      return rw(t) && t != +t;
    },
    isNumber: rw,
    isFinite: function (t) {
      return 'number' == typeof t && rb(t);
    },
    isInteger: rx,
    isSafeInteger: function (t) {
      return rx(t) && t >= -9007199254740991 && t <= 9007199254740991;
    },
    clamp: n2,
    inRange: function (t, e, n) {
      var i, r, o;
      return (
        (e = tc(e)),
        void 0 === n ? ((n = e), (e = 0)) : (n = tc(n)),
        (i = t = tl(t)),
        i >= rv((r = e), (o = n)) && i < r0(r, o)
      );
    },
    toFinite: tc,
    toNumber: tl,
    toInteger: th,
    toSafeInteger: function (t) {
      return t ? nD(th(t), -9007199254740991, of) : 0 === t ? t : 0;
    },
    parseInt: function (t, e, n) {
      return (
        n || null == e ? (e = 0) : e && (e = +e),
        rH(e2(t).replace(rj, ''), e || 0)
      );
    },
    isNumeric: o1,
  });
  function oJ(t, e, n) {
    if (n)
      switch (n.length) {
        case 0:
          break;
        case 1:
          return t.call(e, n[0]);
        case 2:
          return t.call(e, n[0], n[1]);
        case 3:
          return t.call(e, n[0], n[1], n[2]);
        case 4:
          return t.call(e, n[0], n[1], n[2], n[3]);
        case 5:
          return t.call(e, n[0], n[1], n[2], n[3], n[4]);
        case 6:
          return t.call(e, n[0], n[1], n[2], n[3], n[4], n[5]);
        default:
          return t.apply(e, n);
      }
    return t.call(e);
  }
  function oZ(t, e) {
    for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i];
    return oJ(t, e, n);
  }
  function oK(t) {
    return 'object' == typeof t && t.then && 'function' == typeof t.then;
  }
  function oQ(t) {
    return null != t && (t instanceof Promise || oK(t));
  }
  function st() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    var n = [];
    return (t.forEach(function (t) {
      Array.isArray(t) ? n.push.apply(n, t) : n.push(t);
    }),
    n.some(function (t) {
      return oQ(t);
    }))
      ? Promise.all(
          n.map(function (t) {
            return oQ(t) ? t : Promise.resolve(!1 !== t);
          })
        ).then(function (t) {
          return t.reduce(function (t, e) {
            return !1 !== e && t;
          }, !0);
        })
      : n.every(function (t) {
          return !1 !== t;
        });
  }
  function se() {
    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    var n = st(t);
    return 'boolean' == typeof n ? Promise.resolve(n) : n;
  }
  var sn = Object.freeze({
      __proto__: null,
      isFunction: td,
      once: function (t) {
        return (function (t, e) {
          var n;
          if ('function' != typeof e) throw TypeError('Expected a function');
          return (
            (t = th(t)),
            function () {
              return (
                --t > 0 && (n = e.apply(this, arguments)),
                t <= 1 && (e = void 0),
                n
              );
            }
          );
        })(2, t);
      },
      noop: tS,
      debounce: iq,
      defer: rn,
      apply: oJ,
      call: oZ,
      cacher: function (t, e, n) {
        var i = [],
          r = {};
        return function () {
          for (var o = [], s = 0; s < arguments.length; s++)
            o[s] = arguments[s];
          var a = !1,
            l = o.join('â');
          return (
            l in r
              ? ((a = !0),
                (function t(e, n) {
                  for (var i = 0, r = e.length; i < r; i += 1)
                    if (e[i] === n) return e.push(e.splice(i, 1)[0]);
                })(i, l))
              : (i.length >= 1e3 && delete r[i.shift()],
                i.push(l),
                (r[l] = oJ(t, e || null, o))),
            n ? n(r[l], a) : r[l]
          );
        };
      },
      isAsyncLike: oK,
      isAsync: oQ,
      toAsyncBoolean: st,
      toDeferredBoolean: se,
    }),
    si = /[\t\r\n\f]/g,
    sr = /\S+/g,
    so = function (t) {
      return ' ' + t + ' ';
    };
  function ss(t) {
    return (t && t.getAttribute && t.getAttribute('class')) || '';
  }
  function sa(t, e) {
    if (null == t || null == e) return !1;
    var n = so(ss(t)),
      i = so(e);
    return 1 === t.nodeType && n.replace(si, ' ').includes(i);
  }
  function sl(t, e) {
    if (null != t && null != e) {
      if ('function' == typeof e) return sl(t, e(ss(t)));
      if ('string' == typeof e && 1 === t.nodeType) {
        var n = e.match(sr) || [],
          i = so(ss(t)).replace(si, ' '),
          r = n.reduce(function (t, e) {
            return 0 > t.indexOf(so(e)) ? '' + t + e + ' ' : t;
          }, i);
        i !== (r = r.trim()) && t.setAttribute('class', r);
      }
    }
  }
  function su(t, e) {
    if (null != t) {
      if ('function' == typeof e) return su(t, e(ss(t)));
      if ((!e || 'string' == typeof e) && 1 === t.nodeType) {
        var n = (e || '').match(sr) || [],
          i = so(ss(t)).replace(si, ' '),
          r = n.reduce(function (t, e) {
            var n = so(e);
            return t.indexOf(n) > -1 ? t.replace(n, ' ') : t;
          }, i);
        i !== (r = e ? r.trim() : '') && t.setAttribute('class', r);
      }
    }
  }
  function sc(t, e, n) {
    if (null != t && null != e) {
      if (null == n || 'string' != typeof e) {
        if ('function' == typeof e) return sc(t, e(ss(t), n), n);
        'string' == typeof e &&
          (e.match(sr) || []).forEach(function (e) {
            sa(t, e) ? su(t, e) : sl(t, e);
          });
      } else n ? sl(t, e) : su(t, e);
    }
  }
  var sh = 0;
  function sp() {
    return 'v' + (sh += 1);
  }
  function sd(t) {
    return (null != t.id && '' !== t.id) || (t.id = sp()), t.id;
  }
  function sf(t) {
    return (
      null != t &&
      'function' == typeof t.getScreenCTM &&
      t instanceof SVGElement
    );
  }
  var sg = {
      svg: 'http://www.w3.org/2000/svg',
      xmlns: 'http://www.w3.org/2000/xmlns/',
      xml: 'http://www.w3.org/XML/1998/namespace',
      xlink: 'http://www.w3.org/1999/xlink',
      xhtml: 'http://www.w3.org/1999/xhtml',
    },
    s$ = '1.1';
  function s0(t, e) {
    return void 0 === e && (e = document), e.createElement(t);
  }
  function sv(t, e, n) {
    return (
      void 0 === e && (e = sg.xhtml),
      void 0 === n && (n = document),
      n.createElementNS(e, t)
    );
  }
  function sy(t, e) {
    return void 0 === e && (e = document), sv(t, sg.svg, e);
  }
  function sm(t) {
    if (t)
      return s_(
        '<svg xmlns="' +
          sg.svg +
          '" xmlns:xlink="' +
          sg.xlink +
          '" version="1.1">' +
          t +
          '</svg>',
        { async: !1 }
      ).documentElement;
    var e = document.createElementNS(sg.svg, 'svg');
    return (
      e.setAttributeNS(sg.xmlns, 'xmlns:xlink', sg.xlink),
      e.setAttribute('version', s$),
      e
    );
  }
  function s_(t, e) {
    var n;
    void 0 === e && (e = {});
    try {
      var i = new DOMParser();
      null != e.async && (i.async = e.async),
        (n = i.parseFromString(t, e.mimeType || 'text/xml'));
    } catch (r) {
      n = void 0;
    }
    if (!n || n.getElementsByTagName('parsererror').length)
      throw Error('Invalid XML: ' + t);
    return n;
  }
  function sC(t, e) {
    void 0 === e && (e = !0);
    var n = t.nodeName;
    return e ? n.toLowerCase() : n.toUpperCase();
  }
  function sb(t) {
    for (var e = 0, n = t.previousSibling; n; )
      1 === n.nodeType && (e += 1), (n = n.previousSibling);
    return e;
  }
  function sx(t, e) {
    return t.querySelectorAll(e);
  }
  function sw(t, e) {
    return t.querySelector(e);
  }
  function s1(t, e, n) {
    for (
      var i = t.ownerSVGElement, r = t.parentNode;
      r && r !== n && r !== i;

    ) {
      if (sa(r, e)) return r;
      r = r.parentNode;
    }
    return null;
  }
  function sP(t, e) {
    var n = e && e.parentNode;
    return (
      t === n || !!(n && 1 === n.nodeType && 16 & t.compareDocumentPosition(n))
    );
  }
  function sA(t) {
    t.parentNode && t.parentNode.removeChild(t);
  }
  function sE(t) {
    for (; t.firstChild; ) t.removeChild(t.firstChild);
  }
  function sS(t, e) {
    (Array.isArray(e) ? e : [e]).forEach(function (e) {
      null != e && t.appendChild(e);
    });
  }
  function sk(t, e) {
    var n = t.firstChild;
    return n ? s4(n, e) : sS(t, e);
  }
  function s4(t, e) {
    var n = t.parentNode;
    n &&
      (Array.isArray(e) ? e : [e]).forEach(function (e) {
        null != e && n.insertBefore(e, t);
      });
  }
  function sT(t, e) {
    null != e && e.appendChild(t);
  }
  function s3(t) {
    try {
      return t instanceof HTMLElement;
    } catch (e) {
      return (
        'object' == typeof t &&
        1 === t.nodeType &&
        'object' == typeof t.style &&
        'object' == typeof t.ownerDocument
      );
    }
  }
  function sM(t) {
    return (
      !(!t || !s3(t)) &&
      (!!['a', 'button'].includes(sC(t)) ||
        'button' === t.getAttribute('role') ||
        'button' === t.getAttribute('type') ||
        sM(t.parentNode))
    );
  }
  function sD(t) {
    if ('input' === sC(t)) {
      var e = t.getAttribute('type');
      if (
        null == e ||
        [
          'text',
          'password',
          'number',
          'email',
          'search',
          'tel',
          'url',
        ].includes(e)
      )
        return !0;
    }
    return !1;
  }
  var s2 = ['viewBox', 'attributeName', 'attributeType', 'repeatCount'];
  function sN(t, e) {
    return t.getAttribute(e);
  }
  function sL(t, e) {
    var n = sF(e);
    n.ns
      ? t.hasAttributeNS(n.ns, n.local) && t.removeAttributeNS(n.ns, n.local)
      : t.hasAttribute(e) && t.removeAttribute(e);
  }
  function s5(t, e, n) {
    if (null == n) return sL(t, e);
    var i = sF(e);
    i.ns && 'string' == typeof n
      ? t.setAttributeNS(i.ns, e, n)
      : 'id' === e
      ? (t.id = '' + n)
      : t.setAttribute(e, '' + n);
  }
  function s6(t, e) {
    Object.keys(e).forEach(function (n) {
      s5(t, n, e[n]);
    });
  }
  function s7(t, e, n) {
    if (null == e) {
      for (var i = t.attributes, r = {}, o = 0; o < i.length; o += 1)
        r[i[o].name] = i[o].value;
      return r;
    }
    if ('string' == typeof e && void 0 === n) return t.getAttribute(e);
    'object' == typeof e ? s6(t, e) : s5(t, e, n);
  }
  function sF(t) {
    if (-1 !== t.indexOf(':')) {
      var e = t.split(':');
      return { ns: sg[e[0]], local: e[1] };
    }
    return { ns: null, local: t };
  }
  function sz(t) {
    var e = {};
    return (
      Object.keys(t).forEach(function (n) {
        e[s2.includes(n) ? n : o7(n)] = t[n];
      }),
      e
    );
  }
  function sB(t) {
    var e = {};
    return (
      t.split(';').forEach(function (t) {
        var n = t.trim();
        if (n) {
          var i = n.split('=');
          i.length && (e[i[0].trim()] = i[1] ? i[1].trim() : '');
        }
      }),
      e
    );
  }
  function sO(t, e) {
    return (
      Object.keys(e).forEach(function (n) {
        if ('class' === n) t[n] = t[n] ? t[n] + ' ' + e[n] : e[n];
        else if ('style' === n) {
          var i = 'object' == typeof t[n],
            r = 'object' == typeof e[n],
            o = void 0,
            s = void 0;
          i && r
            ? ((o = t[n]), (s = e[n]))
            : i
            ? ((o = t[n]), (s = sB(e[n])))
            : r
            ? ((o = sB(t[n])), (s = e[n]))
            : ((o = sB(t[n])), (s = sB(e[n]))),
            (t[n] = sO(o, s));
        } else t[n] = e[n];
      }),
      t
    );
  }
  function sV(t, e, n) {
    void 0 === n && (n = {});
    for (
      var i, r, o = n.offset || 0, s = [], a = [], l = null, u = 0;
      u < t.length;
      u += 1
    ) {
      i = a[u] = t[u];
      for (var c = 0, h = e.length; c < h; c += 1) {
        var p = e[c],
          d = p.start + o,
          f = p.end + o;
        u >= d &&
          u < f &&
          ('string' == typeof i
            ? (i = a[u] = { t: t[u], attrs: p.attrs })
            : (i.attrs = sO(sO({}, i.attrs), p.attrs)),
          n.includeAnnotationIndices &&
            (null == i.annotations && (i.annotations = []),
            i.annotations.push(c)));
      }
      (r = a[u - 1])
        ? ti(i) && ti(r)
          ? JSON.stringify(i.attrs) === JSON.stringify(r.attrs)
            ? (l.t += i.t)
            : (s.push(l), (l = i))
          : ti(i) || ti(r)
          ? (s.push(l), (l = i))
          : (l = (l || '') + i)
        : (l = i);
    }
    return null != l && s.push(l), s;
  }
  function sR(t) {
    return t.replace(/ /g, ' ');
  }
  var sI,
    s8 = Object.freeze({
      __proto__: null,
      annotate: sV,
      findAnnotationsAtIndex: function (t, e) {
        return t
          ? t.filter(function (t) {
              return t.start < e && e <= t.end;
            })
          : [];
      },
      findAnnotationsBetweenIndexes: function (t, e, n) {
        return t
          ? t.filter(function (t) {
              return (
                (e >= t.start && e < t.end) ||
                (n > t.start && n <= t.end) ||
                (t.start >= e && t.end < n)
              );
            })
          : [];
      },
      shiftAnnotations: function (t, e, n) {
        return (
          t &&
            t.forEach(function (t) {
              t.start < e && t.end >= e
                ? (t.end += n)
                : t.start >= e && ((t.start += n), (t.end += n));
            }),
          t
        );
      },
      sanitize: sR,
    });
  (t.JSONExt = void 0),
    (function (t) {
      function e(t) {
        return (
          null == t ||
          'boolean' == typeof t ||
          'number' == typeof t ||
          'string' == typeof t
        );
      }
      function n(t) {
        return Array.isArray(t);
      }
      (t.emptyObject = Object.freeze({})),
        (t.emptyArray = Object.freeze([])),
        (t.isPrimitive = e),
        (t.isArray = n),
        (t.isObject = function (t) {
          return !e(t) && !n(t);
        }),
        (t.deepEqual = function t(i, r) {
          if (i === r) return !0;
          if (e(i) || e(r)) return !1;
          var o = n(i),
            s = n(r);
          return (
            o === s &&
            (o && s
              ? (function (e, n) {
                  if (e === n) return !0;
                  if (e.length !== n.length) return !1;
                  for (var i = 0, r = e.length; i < r; i += 1)
                    if (!t(e[i], n[i])) return !1;
                  return !0;
                })(i, r)
              : (function (e, n) {
                  if (e === n) return !0;
                  for (var i in e) if (!(i in n)) return !1;
                  for (var i in n) if (!(i in e)) return !1;
                  for (var i in e) if (!t(e[i], n[i])) return !1;
                  return !0;
                })(i, r))
          );
        }),
        (t.deepCopy = function t(i) {
          var r, o;
          return e(i)
            ? i
            : n(i)
            ? (function (e) {
                for (
                  var n = Array(e.length), i = 0, r = e.length;
                  i < r;
                  i += 1
                )
                  n[i] = t(e[i]);
                return n;
              })(i)
            : ((o = {}),
              Object.keys((r = i)).forEach(function (e) {
                o[e] = t(r[e]);
              }),
              o);
        });
    })(t.JSONExt || (t.JSONExt = {})),
    (t.DataUri = void 0),
    (function (t) {
      function e(t) {
        var e = 'data:';
        return t.substr(0, e.length) === e;
      }
      function n(t) {
        var e,
          n = t.replace(/\s/g, ''),
          i = (n = decodeURIComponent(n)).indexOf(','),
          r = n.slice(0, i),
          o = r.split(':')[1].split(';')[0],
          s = n.slice(i + 1);
        e =
          r.indexOf('base64') >= 0 ? atob(s) : unescape(encodeURIComponent(s));
        for (var a = new Uint8Array(e.length), l = 0; l < e.length; l += 1)
          a[l] = e.charCodeAt(l);
        return new Blob([a], { type: o });
      }
      function i(t, e) {
        var n = window.navigator.msSaveBlob;
        if (n) n(t, e);
        else {
          var i = window.URL.createObjectURL(t),
            r = document.createElement('a');
          (r.href = i),
            (r.download = e),
            document.body.appendChild(r),
            r.click(),
            document.body.removeChild(r),
            window.URL.revokeObjectURL(i);
        }
      }
      function r(t) {
        var e = parseFloat(t);
        return Number.isNaN(e) ? null : e;
      }
      (t.isDataUrl = e),
        (t.imageToDataUri = function (t, n) {
          if (t && !e(t)) {
            var i = function () {
                n(Error('Failed to load image: ' + t));
              },
              r = window.FileReader
                ? function (t) {
                    if (200 === t.status) {
                      var e = new FileReader();
                      (e.onload = function (t) {
                        n(null, t.target.result);
                      }),
                        (e.onerror = i),
                        e.readAsDataURL(t.response);
                    } else i();
                  }
                : function (e) {
                    if (200 === e.status) {
                      var r = t.split('.').pop() || 'png';
                      'svg' === r && (r = 'svg+xml');
                      var o = 'data:image/' + r + ';base64,',
                        s = new Uint8Array(e.response),
                        a =
                          o +
                          btoa(
                            (function (t) {
                              for (var e = [], n = 0; n < t.length; n += 32768)
                                e.push(
                                  String.fromCharCode.apply(
                                    null,
                                    t.subarray(n, n + 32768)
                                  )
                                );
                              return e.join('');
                            })(s)
                          );
                      n(null, a);
                    } else i();
                  },
              o = new XMLHttpRequest();
            (o.responseType = window.FileReader ? 'blob' : 'arraybuffer'),
              o.open('GET', t, !0),
              o.addEventListener('error', i),
              o.addEventListener('load', function () {
                return r(o);
              }),
              o.send();
          } else
            setTimeout(function () {
              return n(null, t);
            });
        }),
        (t.dataUriToBlob = n),
        (t.downloadBlob = i),
        (t.downloadDataUri = function (t, e) {
          i(n(t), e);
        }),
        (t.svgToDataUrl = function (t, e) {
          void 0 === e && (e = {});
          var n = null,
            i = function (e) {
              var i, o;
              return (
                null == n &&
                  (n =
                    (o = (i = t).match(
                      /<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i
                    )) && o[2]
                      ? o[2].replace(/\s+/, ' ').split(' ')
                      : null),
                null != n ? r(n[e]) : null
              );
            },
            o = function (e) {
              var n = t.match(e);
              return n && n[2] ? r(n[2]) : null;
            },
            s = e.width;
          if (
            (null == s && (s = o(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),
            null == s && (s = i(2)),
            null == s)
          )
            throw Error('Can not parse width from svg string');
          var a = e.height;
          if (
            (null == a &&
              (a = o(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),
            null == a && (a = i(3)),
            null == a)
          )
            throw Error('Can not parse height from svg string');
          return (
            'data:image/svg+xml,' +
            encodeURIComponent(t).replace(/'/g, '%27').replace(/"/g, '%22')
          );
        });
    })(t.DataUri || (t.DataUri = {}));
  var sG = {
    px: function (t) {
      return t;
    },
    mm: function (t) {
      return sI * t;
    },
    cm: function (t) {
      return sI * t * 10;
    },
    in: function (t) {
      return sI * t * 25.4;
    },
    pt: function (t) {
      return sI * ((25.4 * t) / 72);
    },
    pc: function (t) {
      return sI * ((25.4 * t) / 6);
    },
  };
  (t.Unit = void 0),
    (function (t) {
      function e(t, e, n) {
        var i = d('<div/>')
            .css({
              display: 'inline-block',
              position: 'absolute',
              left: -15e3,
              top: -15e3,
              width: t + (n || ''),
              height: e + (n || ''),
            })
            .appendTo(document.body),
          r = { width: i.width() || 0, height: i.height() || 0 };
        return i.remove(), r;
      }
      (t.measure = e),
        (t.toPx = function (t, n) {
          null == sI && (sI = e('1', '1', 'mm').width);
          var i = n ? sG[n] : null;
          return i ? i(t) : t;
        });
    })(t.Unit || (t.Unit = {}));
  var sj,
    sH,
    sU = (function () {
      var t,
        e = window;
      if (
        (null != e &&
          null !=
            (t =
              e.requestAnimationFrame ||
              e.webkitRequestAnimationFrame ||
              e.mozRequestAnimationFrame ||
              e.oRequestAnimationFrame ||
              e.msRequestAnimationFrame) &&
          (t = t.bind(e)),
        null == t)
      ) {
        var n = 0;
        t = function (t) {
          var e = new Date().getTime(),
            i = Math.max(0, 16 - (e - n)),
            r = setTimeout(function () {
              t(e + i);
            }, i);
          return (n = e + i), r;
        };
      }
      return t;
    })(),
    sq =
      (null != (sH = window) &&
        (sj =
          sH.cancelAnimationFrame ||
          sH.webkitCancelAnimationFrame ||
          sH.webkitCancelRequestAnimationFrame ||
          sH.msCancelAnimationFrame ||
          sH.msCancelRequestAnimationFrame ||
          sH.oCancelAnimationFrame ||
          sH.oCancelRequestAnimationFrame ||
          sH.mozCancelAnimationFrame ||
          sH.mozCancelRequestAnimationFrame) &&
        (sj = sj.bind(sH)),
      null == sj && (sj = clearTimeout),
      sj),
    s9 = /-(.)/g,
    sW = {},
    sX = ['Webkit', 'ms', 'Moz', 'O'],
    sY = document ? document.createElement('div').style : {};
  function sJ(t) {
    var e = t.replace(s9, function (t, e) {
      return e.toUpperCase();
    });
    if (null == sW[e]) {
      var n = e.charAt(0).toUpperCase() + e.slice(1);
      sW[e] =
        e in sY
          ? e
          : (function (t) {
              for (var e = 0; e < sX.length; e += 1) {
                var n = sX[e] + t;
                if (n in sY) return n;
              }
              return null;
            })(n);
    }
    return sW[e];
  }
  function sZ(t, e) {
    var n =
      t.ownerDocument &&
      t.ownerDocument.defaultView &&
      t.ownerDocument.defaultView.opener
        ? t.ownerDocument.defaultView.getComputedStyle(t, null)
        : window.getComputedStyle(t, null);
    return n && e ? n.getPropertyValue(e) || n[e] : n;
  }
  var sK,
    sQ,
    at = (sK = document).selection
      ? function () {
          sK.selection.empty();
        }
      : window.getSelection
      ? function () {
          var t = window.getSelection();
          t && (t.empty ? t.empty() : t.removeAllRanges && t.removeAllRanges());
        }
      : function () {};
  function ae(t, e) {
    return void 0 === e && (e = 0), Number.isInteger(t) ? t : +t.toFixed(e);
  }
  function an(t, e) {
    var n, i;
    if (
      (null == e
        ? ((i = null == t ? 1 : t), (n = 0))
        : ((i = e), (n = null == t ? 0 : t)),
      i < n)
    ) {
      var r = n;
      (n = i), (i = r);
    }
    return Math.floor(Math.random() * (i - n + 1) + n);
  }
  function ai(t, e, n) {
    return Number.isNaN(t)
      ? NaN
      : Number.isNaN(e) || Number.isNaN(n)
      ? 0
      : e < n
      ? t < e
        ? e
        : t > n
        ? n
        : t
      : t < n
      ? n
      : t > e
      ? e
      : t;
  }
  function ar(t, e) {
    return e * Math.round(t / e);
  }
  function ao(t, e) {
    return (
      null != e &&
      null != t &&
      e.x >= t.x &&
      e.x <= t.x + t.width &&
      e.y >= t.y &&
      e.y <= t.y + t.height
    );
  }
  function as(t, e) {
    var n = t.x - e.x,
      i = t.y - e.y;
    return n * n + i * i;
  }
  (t.Angle = void 0),
    ((sQ = t.Angle || (t.Angle = {})).toDeg = function (t) {
      return ((180 * t) / Math.PI) % 360;
    }),
    (sQ.toRad = function (t, e) {
      return void 0 === e && (e = !1), ((e ? t : t % 360) * Math.PI) / 180;
    }),
    (sQ.normalize = function (t) {
      return (t % 360) + (t < 0 ? 360 : 0);
    });
  var aa,
    al,
    au,
    ac,
    ah,
    ap,
    ad,
    af,
    ag,
    a$ = (function () {
      function t() {}
      return (
        (t.prototype.valueOf = function () {
          return this.toJSON();
        }),
        (t.prototype.toString = function () {
          return JSON.stringify(this.toJSON());
        }),
        t
      );
    })();
  (t.Point = (function (e) {
    function i(t, n) {
      var i = e.call(this) || this;
      return (i.x = null == t ? 0 : t), (i.y = null == n ? 0 : n), i;
    }
    return (
      n(i, e),
      Object.defineProperty(i.prototype, Symbol.toStringTag, {
        get: function () {
          return i.toStringTag;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (i.prototype.round = function (t) {
        return (
          void 0 === t && (t = 0),
          (this.x = ae(this.x, t)),
          (this.y = ae(this.y, t)),
          this
        );
      }),
      (i.prototype.add = function (t, e) {
        var n = i.create(t, e);
        return (this.x += n.x), (this.y += n.y), this;
      }),
      (i.prototype.update = function (t, e) {
        var n = i.create(t, e);
        return (this.x = n.x), (this.y = n.y), this;
      }),
      (i.prototype.translate = function (t, e) {
        var n = i.create(t, e);
        return (this.x += n.x), (this.y += n.y), this;
      }),
      (i.prototype.rotate = function (t, e) {
        var n = i.rotate(this, t, e);
        return (this.x = n.x), (this.y = n.y), this;
      }),
      (i.prototype.scale = function (t, e, n) {
        void 0 === n && (n = new i());
        var r = i.create(n);
        return (
          (this.x = r.x + t * (this.x - r.x)),
          (this.y = r.y + e * (this.y - r.y)),
          this
        );
      }),
      (i.prototype.closest = function (t) {
        var e = this;
        if (1 === t.length) return i.create(t[0]);
        var n = null,
          r = 1 / 0;
        return (
          t.forEach(function (t) {
            var i = e.squaredDistance(t);
            i < r && ((n = t), (r = i));
          }),
          n ? i.create(n) : null
        );
      }),
      (i.prototype.distance = function (t) {
        return Math.sqrt(this.squaredDistance(t));
      }),
      (i.prototype.squaredDistance = function (t) {
        var e = i.create(t),
          n = this.x - e.x,
          r = this.y - e.y;
        return n * n + r * r;
      }),
      (i.prototype.manhattanDistance = function (t) {
        var e = i.create(t);
        return Math.abs(e.x - this.x) + Math.abs(e.y - this.y);
      }),
      (i.prototype.magnitude = function () {
        return Math.sqrt(this.x * this.x + this.y * this.y) || 0.01;
      }),
      (i.prototype.theta = function (t) {
        void 0 === t && (t = new i());
        var e,
          n = i.create(t),
          r = Math.atan2(-(n.y - this.y), n.x - this.x);
        return r < 0 && (r = 2 * Math.PI + r), (180 * r) / Math.PI;
      }),
      (i.prototype.angleBetween = function (t, e) {
        if (this.equals(t) || this.equals(e)) return NaN;
        var n = this.theta(e) - this.theta(t);
        return n < 0 && (n += 360), n;
      }),
      (i.prototype.vectorAngle = function (t) {
        return new i(0, 0).angleBetween(this, t);
      }),
      (i.prototype.toPolar = function (t) {
        return this.update(i.toPolar(this, t)), this;
      }),
      (i.prototype.changeInAngle = function (t, e, n) {
        return (
          void 0 === n && (n = new i()),
          this.clone().translate(-t, -e).theta(n) - this.theta(n)
        );
      }),
      (i.prototype.adhereToRect = function (t) {
        return (
          ao(t, this) ||
            ((this.x = Math.min(Math.max(this.x, t.x), t.x + t.width)),
            (this.y = Math.min(Math.max(this.y, t.y), t.y + t.height))),
          this
        );
      }),
      (i.prototype.bearing = function (e) {
        var n = i.create(e),
          r = t.Angle.toRad(this.y),
          o = t.Angle.toRad(n.y),
          s = this.x,
          a = n.x,
          l = t.Angle.toRad(a - s),
          u = Math.sin(l) * Math.cos(o),
          c =
            Math.cos(r) * Math.sin(o) - Math.sin(r) * Math.cos(o) * Math.cos(l),
          h = t.Angle.toDeg(Math.atan2(u, c)) - 22.5;
        return (
          h < 0 && (h += 360),
          ['NE', 'E', 'SE', 'S', 'SW', 'W', 'NW', 'N'][
            (h = parseInt(h / 45, 10))
          ]
        );
      }),
      (i.prototype.cross = function (t, e) {
        if (null != t && null != e) {
          var n = i.create(t),
            r = i.create(e);
          return (
            (r.x - this.x) * (n.y - this.y) - (r.y - this.y) * (n.x - this.x)
          );
        }
        return NaN;
      }),
      (i.prototype.dot = function (t) {
        var e = i.create(t);
        return this.x * e.x + this.y * e.y;
      }),
      (i.prototype.diff = function (t, e) {
        if ('number' == typeof t) return new i(this.x - t, this.y - e);
        var n = i.create(t);
        return new i(this.x - n.x, this.y - n.y);
      }),
      (i.prototype.lerp = function (t, e) {
        var n = i.create(t);
        return new i((1 - e) * this.x + e * n.x, (1 - e) * this.y + e * n.y);
      }),
      (i.prototype.normalize = function (t) {
        void 0 === t && (t = 1);
        var e = t / this.magnitude();
        return this.scale(e, e);
      }),
      (i.prototype.move = function (e, n) {
        var r = i.create(e),
          o = t.Angle.toRad(r.theta(this));
        return this.translate(Math.cos(o) * n, -Math.sin(o) * n);
      }),
      (i.prototype.reflection = function (t) {
        return i.create(t).move(this, this.distance(t));
      }),
      (i.prototype.snapToGrid = function (t, e) {
        return (
          (this.x = ar(this.x, t)),
          (this.y = ar(this.y, null == e ? t : e)),
          this
        );
      }),
      (i.prototype.equals = function (t) {
        var e = i.create(t);
        return null != e && e.x === this.x && e.y === this.y;
      }),
      (i.prototype.clone = function () {
        return i.clone(this);
      }),
      (i.prototype.toJSON = function () {
        return i.toJSON(this);
      }),
      (i.prototype.serialize = function () {
        return this.x + ' ' + this.y;
      }),
      i
    );
  })(a$)),
    ((aa = t.Point || (t.Point = {})).toStringTag = 'X6.Geometry.' + aa.name),
    (aa.isPoint = function (t) {
      if (null == t) return !1;
      if (t instanceof aa) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === aa.toStringTag) &&
        'number' == typeof n.x &&
        'number' == typeof n.y &&
        'function' == typeof n.toPolar
      );
    }),
    ((ah = t.Point || (t.Point = {})).isPointLike = function (t) {
      return (
        null != t &&
        'object' == typeof t &&
        'number' == typeof t.x &&
        'number' == typeof t.y
      );
    }),
    (ah.isPointData = function (t) {
      return (
        null != t &&
        Array.isArray(t) &&
        2 === t.length &&
        'number' == typeof t[0] &&
        'number' == typeof t[1]
      );
    }),
    (function (e) {
      function n(t) {
        return e.isPoint(t)
          ? new e(t.x, t.y)
          : Array.isArray(t)
          ? new e(t[0], t[1])
          : new e(t.x, t.y);
      }
      function i(t, e) {
        return (
          t === e || (null != t && null != e && t.x === e.x && t.y === e.y)
        );
      }
      function r(t, i, r, o) {
        void 0 === o && (o = new e());
        var s = n(t),
          a = n(o),
          l = s.x - a.x,
          u = s.y - a.y;
        return new e(l * i - u * r + a.x, u * i + l * r + a.y);
      }
      (e.create = function (t, i) {
        return null == t || 'number' == typeof t ? new e(t, i) : n(t);
      }),
        (e.clone = n),
        (e.toJSON = function (t) {
          return e.isPoint(t)
            ? { x: t.x, y: t.y }
            : Array.isArray(t)
            ? { x: t[0], y: t[1] }
            : { x: t.x, y: t.y };
        }),
        (e.fromPolar = function (i, r, o) {
          void 0 === o && (o = new e());
          var s = Math.abs(i * Math.cos(r)),
            a = Math.abs(i * Math.sin(r)),
            l = n(o),
            u = t.Angle.normalize(t.Angle.toDeg(r));
          return (
            u < 90
              ? (a = -a)
              : u < 180
              ? ((s = -s), (a = -a))
              : u < 270 && (s = -s),
            new e(l.x + s, l.y + a)
          );
        }),
        (e.toPolar = function (i, r) {
          void 0 === r && (r = new e());
          var o = n(i),
            s = n(r),
            a = o.x - s.x,
            l = o.y - s.y;
          return new e(Math.sqrt(a * a + l * l), t.Angle.toRad(s.theta(o)));
        }),
        (e.equals = i),
        (e.equalPoints = function (t, e) {
          if (
            (null == t && null != e) ||
            (null != t && null == e) ||
            (null != t && null != e && t.length !== e.length)
          )
            return !1;
          if (null != t && null != e) {
            for (var n = 0, r = t.length; n < r; n += 1)
              if (!i(t[n], e[n])) return !1;
          }
          return !0;
        }),
        (e.random = function (t, n, i, r) {
          return new e(an(t, n), an(i, r));
        }),
        (e.rotate = function (e, n, i) {
          var o = t.Angle.toRad(t.Angle.normalize(-n));
          return r(e, Math.cos(o), Math.sin(o), i);
        }),
        (e.rotateEx = r);
    })(t.Point || (t.Point = {})),
    (t.Rectangle = (function (e) {
      function i(t, n, i, r) {
        var o = e.call(this) || this;
        return (
          (o.x = null == t ? 0 : t),
          (o.y = null == n ? 0 : n),
          (o.width = null == i ? 0 : i),
          (o.height = null == r ? 0 : r),
          o
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, Symbol.toStringTag, {
          get: function () {
            return i.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'left', {
          get: function () {
            return this.x;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'top', {
          get: function () {
            return this.y;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'right', {
          get: function () {
            return this.x + this.width;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'bottom', {
          get: function () {
            return this.y + this.height;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'origin', {
          get: function () {
            return new t.Point(this.x, this.y);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'topLeft', {
          get: function () {
            return new t.Point(this.x, this.y);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'topCenter', {
          get: function () {
            return new t.Point(this.x + this.width / 2, this.y);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'topRight', {
          get: function () {
            return new t.Point(this.x + this.width, this.y);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'center', {
          get: function () {
            return new t.Point(
              this.x + this.width / 2,
              this.y + this.height / 2
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'bottomLeft', {
          get: function () {
            return new t.Point(this.x, this.y + this.height);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'bottomCenter', {
          get: function () {
            return new t.Point(this.x + this.width / 2, this.y + this.height);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'bottomRight', {
          get: function () {
            return new t.Point(this.x + this.width, this.y + this.height);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'corner', {
          get: function () {
            return new t.Point(this.x + this.width, this.y + this.height);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'rightMiddle', {
          get: function () {
            return new t.Point(this.x + this.width, this.y + this.height / 2);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'leftMiddle', {
          get: function () {
            return new t.Point(this.x, this.y + this.height / 2);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'topLine', {
          get: function () {
            return new t.Line(this.topLeft, this.topRight);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'rightLine', {
          get: function () {
            return new t.Line(this.topRight, this.bottomRight);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'bottomLine', {
          get: function () {
            return new t.Line(this.bottomLeft, this.bottomRight);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'leftLine', {
          get: function () {
            return new t.Line(this.topLeft, this.bottomLeft);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.getOrigin = function () {
          return this.origin;
        }),
        (i.prototype.getTopLeft = function () {
          return this.topLeft;
        }),
        (i.prototype.getTopCenter = function () {
          return this.topCenter;
        }),
        (i.prototype.getTopRight = function () {
          return this.topRight;
        }),
        (i.prototype.getCenter = function () {
          return this.center;
        }),
        (i.prototype.getCenterX = function () {
          return this.x + this.width / 2;
        }),
        (i.prototype.getCenterY = function () {
          return this.y + this.height / 2;
        }),
        (i.prototype.getBottomLeft = function () {
          return this.bottomLeft;
        }),
        (i.prototype.getBottomCenter = function () {
          return this.bottomCenter;
        }),
        (i.prototype.getBottomRight = function () {
          return this.bottomRight;
        }),
        (i.prototype.getCorner = function () {
          return this.corner;
        }),
        (i.prototype.getRightMiddle = function () {
          return this.rightMiddle;
        }),
        (i.prototype.getLeftMiddle = function () {
          return this.leftMiddle;
        }),
        (i.prototype.getTopLine = function () {
          return this.topLine;
        }),
        (i.prototype.getRightLine = function () {
          return this.rightLine;
        }),
        (i.prototype.getBottomLine = function () {
          return this.bottomLine;
        }),
        (i.prototype.getLeftLine = function () {
          return this.leftLine;
        }),
        (i.prototype.bbox = function (e) {
          if (!e) return this.clone();
          var n = t.Angle.toRad(e),
            r = Math.abs(Math.sin(n)),
            o = Math.abs(Math.cos(n)),
            s = this.width * o + this.height * r,
            a = this.width * r + this.height * o;
          return new i(
            this.x + (this.width - s) / 2,
            this.y + (this.height - a) / 2,
            s,
            a
          );
        }),
        (i.prototype.round = function (t) {
          return (
            void 0 === t && (t = 0),
            (this.x = ae(this.x, t)),
            (this.y = ae(this.y, t)),
            (this.width = ae(this.width, t)),
            (this.height = ae(this.height, t)),
            this
          );
        }),
        (i.prototype.add = function (t, e, n, r) {
          var o = i.create(t, e, n, r),
            s = Math.min(this.x, o.x),
            a = Math.min(this.y, o.y),
            l = Math.max(this.x + this.width, o.x + o.width),
            u = Math.max(this.y + this.height, o.y + o.height);
          return (
            (this.x = s),
            (this.y = a),
            (this.width = l - s),
            (this.height = u - a),
            this
          );
        }),
        (i.prototype.update = function (t, e, n, r) {
          var o = i.create(t, e, n, r);
          return (
            (this.x = o.x),
            (this.y = o.y),
            (this.width = o.width),
            (this.height = o.height),
            this
          );
        }),
        (i.prototype.inflate = function (t, e) {
          var n = t,
            i = null != e ? e : t;
          return (
            (this.x -= n),
            (this.y -= i),
            (this.width += 2 * n),
            (this.height += 2 * i),
            this
          );
        }),
        (i.prototype.snapToGrid = function (t, e) {
          var n = this.origin.snapToGrid(t, e),
            i = this.corner.snapToGrid(t, e);
          return (
            (this.x = n.x),
            (this.y = n.y),
            (this.width = i.x - n.x),
            (this.height = i.y - n.y),
            this
          );
        }),
        (i.prototype.translate = function (e, n) {
          var i = t.Point.create(e, n);
          return (this.x += i.x), (this.y += i.y), this;
        }),
        (i.prototype.scale = function (e, n, i) {
          void 0 === i && (i = new t.Point());
          var r = this.origin.scale(e, n, i);
          return (
            (this.x = r.x),
            (this.y = r.y),
            (this.width *= e),
            (this.height *= n),
            this
          );
        }),
        (i.prototype.rotate = function (e, n) {
          if ((void 0 === n && (n = this.getCenter()), 0 !== e)) {
            var r = t.Angle.toRad(e),
              o = Math.cos(r),
              s = Math.sin(r),
              a = this.getOrigin(),
              l = this.getTopRight(),
              u = this.getBottomRight(),
              c = this.getBottomLeft();
            (a = t.Point.rotateEx(a, o, s, n)),
              (l = t.Point.rotateEx(l, o, s, n)),
              (u = t.Point.rotateEx(u, o, s, n)),
              (c = t.Point.rotateEx(c, o, s, n));
            var h = new i(a.x, a.y, 0, 0);
            h.add(l.x, l.y, 0, 0),
              h.add(u.x, u.y, 0, 0),
              h.add(c.x, c.y, 0, 0),
              this.update(h);
          }
          return this;
        }),
        (i.prototype.rotate90 = function () {
          var t = (this.width - this.height) / 2;
          (this.x += t), (this.y -= t);
          var e = this.width;
          return (this.width = this.height), (this.height = e), this;
        }),
        (i.prototype.moveAndExpand = function (t) {
          var e = i.clone(t);
          return (
            (this.x += e.x || 0),
            (this.y += e.y || 0),
            (this.width += e.width || 0),
            (this.height += e.height || 0),
            this
          );
        }),
        (i.prototype.getMaxScaleToFit = function (t, e) {
          void 0 === e && (e = this.center);
          var n = i.clone(t),
            r = e.x,
            o = e.y,
            s = 1 / 0,
            a = 1 / 0,
            l = 1 / 0,
            u = 1 / 0,
            c = 1 / 0,
            h = 1 / 0,
            p = 1 / 0,
            d = 1 / 0,
            f = n.topLeft;
          f.x < r && (s = (this.x - r) / (f.x - r)),
            f.y < o && (c = (this.y - o) / (f.y - o));
          var g = n.bottomRight;
          g.x > r && (a = (this.x + this.width - r) / (g.x - r)),
            g.y > o && (h = (this.y + this.height - o) / (g.y - o));
          var $ = n.topRight;
          $.x > r && (l = (this.x + this.width - r) / ($.x - r)),
            $.y < o && (p = (this.y - o) / ($.y - o));
          var v = n.bottomLeft;
          return (
            v.x < r && (u = (this.x - r) / (v.x - r)),
            v.y > o && (d = (this.y + this.height - o) / (v.y - o)),
            { sx: Math.min(s, a, l, u), sy: Math.min(c, h, p, d) }
          );
        }),
        (i.prototype.getMaxUniformScaleToFit = function (t, e) {
          void 0 === e && (e = this.center);
          var n = this.getMaxScaleToFit(t, e);
          return Math.min(n.sx, n.sy);
        }),
        (i.prototype.containsPoint = function (e, n) {
          return ao(this, t.Point.create(e, n));
        }),
        (i.prototype.containsRect = function (t, e, n, r) {
          var o = i.create(t, e, n, r),
            s = this.x,
            a = this.y,
            l = this.width,
            u = this.height,
            c = o.x,
            h = o.y,
            p = o.width,
            d = o.height;
          return (
            0 !== l &&
            0 !== u &&
            0 !== p &&
            0 !== d &&
            c >= s &&
            h >= a &&
            c + p <= s + l &&
            h + d <= a + u
          );
        }),
        (i.prototype.intersectsWithLine = function (t) {
          var e = [
              this.topLine,
              this.rightLine,
              this.bottomLine,
              this.leftLine,
            ],
            n = [],
            i = [];
          return (
            e.forEach(function (e) {
              var r = t.intersectsWithLine(e);
              null !== r &&
                0 > i.indexOf(r.toString()) &&
                (n.push(r), i.push(r.toString()));
            }),
            n.length > 0 ? n : null
          );
        }),
        (i.prototype.intersectsWithLineFromCenterToPoint = function (e, n) {
          var i = t.Point.clone(e),
            r = this.center,
            o = null;
          null != n && 0 !== n && i.rotate(n, r);
          for (
            var s = [
                this.topLine,
                this.rightLine,
                this.bottomLine,
                this.leftLine,
              ],
              a = new t.Line(r, i),
              l = s.length - 1;
            l >= 0;
            l -= 1
          ) {
            var u = s[l].intersectsWithLine(a);
            if (null !== u) {
              o = u;
              break;
            }
          }
          return o && null != n && 0 !== n && o.rotate(-n, r), o;
        }),
        (i.prototype.intersectsWithRect = function (t, e, n, r) {
          var o = i.create(t, e, n, r);
          if (!this.isIntersectWithRect(o)) return null;
          var s = this.origin,
            a = this.corner,
            l = o.origin,
            u = o.corner,
            c = Math.max(s.x, l.x),
            h = Math.max(s.y, l.y);
          return new i(c, h, Math.min(a.x, u.x) - c, Math.min(a.y, u.y) - h);
        }),
        (i.prototype.isIntersectWithRect = function (t, e, n, r) {
          var o = i.create(t, e, n, r),
            s = this.origin,
            a = this.corner,
            l = o.origin,
            u = o.corner;
          return !(u.x <= s.x || u.y <= s.y || l.x >= a.x || l.y >= a.y);
        }),
        (i.prototype.normalize = function () {
          var t = this.x,
            e = this.y,
            n = this.width,
            i = this.height;
          return (
            this.width < 0 && ((t = this.x + this.width), (n = -this.width)),
            this.height < 0 && ((e = this.y + this.height), (i = -this.height)),
            (this.x = t),
            (this.y = e),
            (this.width = n),
            (this.height = i),
            this
          );
        }),
        (i.prototype.union = function (t) {
          var e = i.clone(t),
            n = this.origin,
            r = this.corner,
            o = e.origin,
            s = e.corner,
            a = Math.min(n.x, o.x),
            l = Math.min(n.y, o.y);
          return new i(a, l, Math.max(r.x, s.x) - a, Math.max(r.y, s.y) - l);
        }),
        (i.prototype.getNearestSideToPoint = function (e) {
          var n = t.Point.clone(e),
            i = n.x - this.x,
            r = this.x + this.width - n.x,
            o = n.y - this.y,
            s = i,
            a = 'left';
          return (
            r < s && ((s = r), (a = 'right')),
            o < s && ((s = o), (a = 'top')),
            this.y + this.height - n.y < s && (a = 'bottom'),
            a
          );
        }),
        (i.prototype.getNearestPointToPoint = function (e) {
          var n = t.Point.clone(e);
          if (this.containsPoint(n))
            switch (this.getNearestSideToPoint(n)) {
              case 'right':
                return new t.Point(this.x + this.width, n.y);
              case 'left':
                return new t.Point(this.x, n.y);
              case 'bottom':
                return new t.Point(n.x, this.y + this.height);
              case 'top':
                return new t.Point(n.x, this.y);
            }
          return n.adhereToRect(this);
        }),
        (i.prototype.equals = function (t) {
          return (
            null != t &&
            t.x === this.x &&
            t.y === this.y &&
            t.width === this.width &&
            t.height === this.height
          );
        }),
        (i.prototype.clone = function () {
          return new i(this.x, this.y, this.width, this.height);
        }),
        (i.prototype.toJSON = function () {
          return {
            x: this.x,
            y: this.y,
            width: this.width,
            height: this.height,
          };
        }),
        (i.prototype.serialize = function () {
          return this.x + ' ' + this.y + ' ' + this.width + ' ' + this.height;
        }),
        i
      );
    })(a$)),
    ((al = t.Rectangle || (t.Rectangle = {})).toStringTag =
      'X6.Geometry.' + al.name),
    (al.isRectangle = function (t) {
      if (null == t) return !1;
      if (t instanceof al) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === al.toStringTag) &&
        'number' == typeof n.x &&
        'number' == typeof n.y &&
        'number' == typeof n.width &&
        'number' == typeof n.height &&
        'function' == typeof n.inflate &&
        'function' == typeof n.moveAndExpand
      );
    }),
    ((t.Rectangle || (t.Rectangle = {})).isRectangleLike = function (t) {
      return (
        null != t &&
        'object' == typeof t &&
        'number' == typeof t.x &&
        'number' == typeof t.y &&
        'number' == typeof t.width &&
        'number' == typeof t.height
      );
    }),
    (function (t) {
      function e(e) {
        return t.isRectangle(e)
          ? e.clone()
          : Array.isArray(e)
          ? new t(e[0], e[1], e[2], e[3])
          : new t(e.x, e.y, e.width, e.height);
      }
      (t.create = function (n, i, r, o) {
        return null == n || 'number' == typeof n ? new t(n, i, r, o) : e(n);
      }),
        (t.clone = e),
        (t.fromSize = function (e) {
          return new t(0, 0, e.width, e.height);
        }),
        (t.fromPositionAndSize = function (e, n) {
          return new t(e.x, e.y, n.width, n.height);
        }),
        (t.fromEllipse = function (e) {
          return new t(e.x - e.a, e.y - e.b, 2 * e.a, 2 * e.b);
        });
    })(t.Rectangle || (t.Rectangle = {})),
    (t.Line = (function (e) {
      function i(n, i, r, o) {
        var s = e.call(this) || this;
        return (
          'number' == typeof n && 'number' == typeof i
            ? ((s.start = new t.Point(n, i)), (s.end = new t.Point(r, o)))
            : ((s.start = t.Point.create(n)), (s.end = t.Point.create(i))),
          s
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, Symbol.toStringTag, {
          get: function () {
            return i.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'center', {
          get: function () {
            return new t.Point(
              (this.start.x + this.end.x) / 2,
              (this.start.y + this.end.y) / 2
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.getCenter = function () {
          return this.center;
        }),
        (i.prototype.round = function (t) {
          return (
            void 0 === t && (t = 0),
            this.start.round(t),
            this.end.round(t),
            this
          );
        }),
        (i.prototype.translate = function (t, e) {
          return (
            'number' == typeof t
              ? (this.start.translate(t, e), this.end.translate(t, e))
              : (this.start.translate(t), this.end.translate(t)),
            this
          );
        }),
        (i.prototype.rotate = function (t, e) {
          return this.start.rotate(t, e), this.end.rotate(t, e), this;
        }),
        (i.prototype.scale = function (t, e, n) {
          return this.start.scale(t, e, n), this.end.scale(t, e, n), this;
        }),
        (i.prototype.length = function () {
          return Math.sqrt(this.squaredLength());
        }),
        (i.prototype.squaredLength = function () {
          var t = this.start.x - this.end.x,
            e = this.start.y - this.end.y;
          return t * t + e * e;
        }),
        (i.prototype.setLength = function (t) {
          var e = this.length();
          if (!e) return this;
          var n = t / e;
          return this.scale(n, n, this.start);
        }),
        (i.prototype.parallel = function (t) {
          var e = this.clone();
          if (!e.isDifferentiable()) return e;
          var n = e.start,
            i = e.end,
            r = n.clone().rotate(270, i),
            o = i.clone().rotate(90, n);
          return n.move(o, t), i.move(r, t), e;
        }),
        (i.prototype.vector = function () {
          return new t.Point(
            this.end.x - this.start.x,
            this.end.y - this.start.y
          );
        }),
        (i.prototype.angle = function () {
          var e = new t.Point(this.start.x + 1, this.start.y);
          return this.start.angleBetween(this.end, e);
        }),
        (i.prototype.bbox = function () {
          var e = Math.min(this.start.x, this.end.x),
            n = Math.min(this.start.y, this.end.y),
            i = Math.max(this.start.x, this.end.x),
            r = Math.max(this.start.y, this.end.y);
          return new t.Rectangle(e, n, i - e, r - n);
        }),
        (i.prototype.bearing = function () {
          return this.start.bearing(this.end);
        }),
        (i.prototype.closestPoint = function (t) {
          return this.pointAt(this.closestPointNormalizedLength(t));
        }),
        (i.prototype.closestPointLength = function (t) {
          return this.closestPointNormalizedLength(t) * this.length();
        }),
        (i.prototype.closestPointTangent = function (t) {
          return this.tangentAt(this.closestPointNormalizedLength(t));
        }),
        (i.prototype.closestPointNormalizedLength = function (t) {
          var e = Math.min(
            1,
            Math.max(
              0,
              this.vector().dot(new i(this.start, t).vector()) /
                this.squaredLength()
            )
          );
          return Number.isNaN(e) ? 0 : e;
        }),
        (i.prototype.pointAt = function (t) {
          var e = this.start,
            n = this.end;
          return t <= 0 ? e.clone() : t >= 1 ? n.clone() : e.lerp(n, t);
        }),
        (i.prototype.pointAtLength = function (t) {
          var e = this.start,
            n = this.end,
            i = !0;
          t < 0 && ((i = !1), (t = -t));
          var r = this.length();
          if (t >= r) return i ? n.clone() : e.clone();
          var o = (i ? t : r - t) / r;
          return this.pointAt(o);
        }),
        (i.prototype.divideAt = function (t) {
          var e = this.pointAt(t);
          return [new i(this.start, e), new i(e, this.end)];
        }),
        (i.prototype.divideAtLength = function (t) {
          var e = this.pointAtLength(t);
          return [new i(this.start, e), new i(e, this.end)];
        }),
        (i.prototype.containsPoint = function (t) {
          var e = this.start,
            n = this.end;
          if (0 !== e.cross(t, n)) return !1;
          var r = this.length();
          return !(new i(e, t).length() > r) && !(new i(t, n).length() > r);
        }),
        (i.prototype.intersect = function (t, e) {
          var n = t.intersectsWithLine(this, e);
          return n ? (Array.isArray(n) ? n : [n]) : null;
        }),
        (i.prototype.intersectsWithLine = function (e) {
          var n = new t.Point(
              this.end.x - this.start.x,
              this.end.y - this.start.y
            ),
            i = new t.Point(e.end.x - e.start.x, e.end.y - e.start.y),
            r = n.x * i.y - n.y * i.x,
            o = new t.Point(e.start.x - this.start.x, e.start.y - this.start.y),
            s = o.x * i.y - o.y * i.x,
            a = o.x * n.y - o.y * n.x;
          if (0 === r || s * r < 0 || a * r < 0) return null;
          if (r > 0) {
            if (s > r || a > r) return null;
          } else if (s < r || a < r) return null;
          return new t.Point(
            this.start.x + (s * n.x) / r,
            this.start.y + (s * n.y) / r
          );
        }),
        (i.prototype.isDifferentiable = function () {
          return !this.start.equals(this.end);
        }),
        (i.prototype.pointOffset = function (e) {
          var n = t.Point.clone(e),
            i = this.start,
            r = this.end;
          return (
            ((r.x - i.x) * (n.y - i.y) - (r.y - i.y) * (n.x - i.x)) /
            this.length()
          );
        }),
        (i.prototype.pointSquaredDistance = function (e, n) {
          var i = t.Point.create(e, n);
          return this.closestPoint(i).squaredDistance(i);
        }),
        (i.prototype.pointDistance = function (e, n) {
          var i = t.Point.create(e, n);
          return this.closestPoint(i).distance(i);
        }),
        (i.prototype.tangentAt = function (t) {
          if (!this.isDifferentiable()) return null;
          var e = this.start,
            n = this.end,
            r = this.pointAt(t),
            o = new i(e, n);
          return o.translate(r.x - e.x, r.y - e.y), o;
        }),
        (i.prototype.tangentAtLength = function (t) {
          if (!this.isDifferentiable()) return null;
          var e = this.start,
            n = this.end,
            r = this.pointAtLength(t),
            o = new i(e, n);
          return o.translate(r.x - e.x, r.y - e.y), o;
        }),
        (i.prototype.relativeCcw = function (e, n) {
          var i = t.Point.create(e, n),
            r = i.x - this.start.x,
            o = i.y - this.start.y,
            s = this.end.x - this.start.x,
            a = this.end.y - this.start.y,
            l = r * a - o * s;
          return (
            0 === l &&
              (l = r * s + o * a) > 0 &&
              (l = (r -= s) * s + (o -= a) * a) < 0 &&
              (l = 0),
            l < 0 ? -1 : l > 0 ? 1 : 0
          );
        }),
        (i.prototype.equals = function (t) {
          return (
            null != t &&
            this.start.x === t.start.x &&
            this.start.y === t.start.y &&
            this.end.x === t.end.x &&
            this.end.y === t.end.y
          );
        }),
        (i.prototype.clone = function () {
          return new i(this.start, this.end);
        }),
        (i.prototype.toJSON = function () {
          return { start: this.start.toJSON(), end: this.end.toJSON() };
        }),
        (i.prototype.serialize = function () {
          return [this.start.serialize(), this.end.serialize()].join(' ');
        }),
        i
      );
    })(a$)),
    ((au = t.Line || (t.Line = {})).toStringTag = 'X6.Geometry.' + au.name),
    (au.isLine = function (e) {
      if (null == e) return !1;
      if (e instanceof au) return !0;
      var n = e[Symbol.toStringTag],
        i = e;
      try {
        if (
          (null == n || n === au.toStringTag) &&
          t.Point.isPoint(i.start) &&
          t.Point.isPoint(i.end) &&
          'function' == typeof i.vector &&
          'function' == typeof i.bearing &&
          'function' == typeof i.parallel &&
          'function' == typeof i.intersect
        )
          return !0;
      } catch (r) {}
      return !1;
    }),
    (t.Ellipse = (function (e) {
      function i(t, n, i, r) {
        var o = e.call(this) || this;
        return (
          (o.x = null == t ? 0 : t),
          (o.y = null == n ? 0 : n),
          (o.a = null == i ? 0 : i),
          (o.b = null == r ? 0 : r),
          o
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, Symbol.toStringTag, {
          get: function () {
            return i.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'center', {
          get: function () {
            return new t.Point(this.x, this.y);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.bbox = function () {
          return t.Rectangle.fromEllipse(this);
        }),
        (i.prototype.getCenter = function () {
          return this.center;
        }),
        (i.prototype.inflate = function (t, e) {
          return (this.a += 2 * t), (this.b += 2 * (null != e ? e : t)), this;
        }),
        (i.prototype.normalizedDistance = function (e, n) {
          var i = t.Point.create(e, n),
            r = i.x - this.x,
            o = i.y - this.y,
            s = this.a,
            a = this.b;
          return (r * r) / (s * s) + (o * o) / (a * a);
        }),
        (i.prototype.containsPoint = function (t, e) {
          return 1 >= this.normalizedDistance(t, e);
        }),
        (i.prototype.intersectsWithLine = function (e) {
          var n = [],
            i = this.a,
            r = this.b,
            o = e.start,
            s = e.end,
            a = e.vector(),
            l = o.diff(new t.Point(this.x, this.y)),
            u = new t.Point(a.x / (i * i), a.y / (r * r)),
            c = new t.Point(l.x / (i * i), l.y / (r * r)),
            h = a.dot(u),
            p = a.dot(c),
            d = p * p - h * (l.dot(c) - 1);
          if (d < 0) return null;
          if (d > 0) {
            var f = Math.sqrt(d),
              g = (-p - f) / h,
              $ = (-p + f) / h;
            if ((g < 0 || g > 1) && ($ < 0 || $ > 1)) return null;
            g >= 0 && g <= 1 && n.push(o.lerp(s, g)),
              $ >= 0 && $ <= 1 && n.push(o.lerp(s, $));
          } else {
            var v = -p / h;
            if (!(v >= 0 && v <= 1)) return null;
            n.push(o.lerp(s, v));
          }
          return n;
        }),
        (i.prototype.intersectsWithLineFromCenterToPoint = function (e, n) {
          void 0 === n && (n = 0);
          var i = t.Point.clone(e);
          n && i.rotate(n, this.getCenter());
          var r,
            o = i.x - this.x,
            s = i.y - this.y;
          if (0 === o)
            return (
              (r = this.bbox().getNearestPointToPoint(i)),
              n ? r.rotate(-n, this.getCenter()) : r
            );
          var a,
            l = s / o,
            u = Math.sqrt(
              1 / (1 / (this.a * this.a) + (l * l) / (this.b * this.b))
            ),
            c = l * (u = o < 0 ? -u : u);
          return (
            (r = new t.Point(this.x + u, this.y + c)),
            n ? r.rotate(-n, this.getCenter()) : r
          );
        }),
        (i.prototype.tangentTheta = function (e) {
          var n,
            i,
            r = t.Point.clone(e),
            o = r.x,
            s = r.y,
            a = this.a,
            l = this.b,
            u = this.bbox().center,
            c = u.x,
            h = u.y,
            p = o > u.x + a / 2,
            d = o < u.x - a / 2;
          return (
            p || d
              ? (n =
                  (a * a) / (o - c) -
                  (a * a * (s - h) * ((i = o > u.x ? s - 30 : s + 30) - h)) /
                    (l * l * (o - c)) +
                  c)
              : (i =
                  (l * l) / (s - h) -
                  (l * l * (o - c) * ((n = s > u.y ? o + 30 : o - 30) - c)) /
                    (a * a * (s - h)) +
                  h),
            new t.Point(n, i).theta(r)
          );
        }),
        (i.prototype.scale = function (t, e) {
          return (this.a *= t), (this.b *= e), this;
        }),
        (i.prototype.rotate = function (e, n) {
          var r = t.Rectangle.fromEllipse(this);
          r.rotate(e, n);
          var o = i.fromRect(r);
          return (
            (this.a = o.a), (this.b = o.b), (this.x = o.x), (this.y = o.y), this
          );
        }),
        (i.prototype.translate = function (e, n) {
          var i = t.Point.create(e, n);
          return (this.x += i.x), (this.y += i.y), this;
        }),
        (i.prototype.equals = function (t) {
          return (
            null != t &&
            t.x === this.x &&
            t.y === this.y &&
            t.a === this.a &&
            t.b === this.b
          );
        }),
        (i.prototype.clone = function () {
          return new i(this.x, this.y, this.a, this.b);
        }),
        (i.prototype.toJSON = function () {
          return { x: this.x, y: this.y, a: this.a, b: this.b };
        }),
        (i.prototype.serialize = function () {
          return this.x + ' ' + this.y + ' ' + this.a + ' ' + this.b;
        }),
        i
      );
    })(a$)),
    ((ad = t.Ellipse || (t.Ellipse = {})).toStringTag =
      'X6.Geometry.' + ad.name),
    (ad.isEllipse = function (t) {
      if (null == t) return !1;
      if (t instanceof ad) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === ad.toStringTag) &&
        'number' == typeof n.x &&
        'number' == typeof n.y &&
        'number' == typeof n.a &&
        'number' == typeof n.b &&
        'function' == typeof n.inflate &&
        'function' == typeof n.normalizedDistance
      );
    }),
    (function (t) {
      function e(e) {
        return t.isEllipse(e)
          ? e.clone()
          : Array.isArray(e)
          ? new t(e[0], e[1], e[2], e[3])
          : new t(e.x, e.y, e.a, e.b);
      }
      (t.create = function (n, i, r, o) {
        return null == n || 'number' == typeof n ? new t(n, i, r, o) : e(n);
      }),
        (t.parse = e),
        (t.fromRect = function (e) {
          var n = e.center;
          return new t(n.x, n.y, e.width / 2, e.height / 2);
        });
    })(t.Ellipse || (t.Ellipse = {})),
    (t.Polyline = (function (e) {
      function i(n) {
        var r = e.call(this) || this;
        if (null != n) {
          if ('string' == typeof n) return i.parse(n);
          r.points = n.map(function (e) {
            return t.Point.create(e);
          });
        } else r.points = [];
        return r;
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, Symbol.toStringTag, {
          get: function () {
            return i.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'start', {
          get: function () {
            return 0 === this.points.length ? null : this.points[0];
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'end', {
          get: function () {
            return 0 === this.points.length
              ? null
              : this.points[this.points.length - 1];
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.scale = function (e, n, i) {
          return (
            void 0 === i && (i = new t.Point()),
            this.points.forEach(function (t) {
              return t.scale(e, n, i);
            }),
            this
          );
        }),
        (i.prototype.rotate = function (t, e) {
          return (
            this.points.forEach(function (n) {
              return n.rotate(t, e);
            }),
            this
          );
        }),
        (i.prototype.translate = function (e, n) {
          var i = t.Point.create(e, n);
          return (
            this.points.forEach(function (t) {
              return t.translate(i.x, i.y);
            }),
            this
          );
        }),
        (i.prototype.bbox = function () {
          if (0 === this.points.length) return new t.Rectangle();
          for (
            var e = 1 / 0,
              n = -1 / 0,
              i = 1 / 0,
              r = -1 / 0,
              o = this.points,
              s = 0,
              a = o.length;
            s < a;
            s += 1
          ) {
            var l = o[s],
              u = l.x,
              c = l.y;
            u < e && (e = u),
              u > n && (n = u),
              c < i && (i = c),
              c > r && (r = c);
          }
          return new t.Rectangle(e, i, n - e, r - i);
        }),
        (i.prototype.closestPoint = function (t) {
          var e = this.closestPointLength(t);
          return this.pointAtLength(e);
        }),
        (i.prototype.closestPointLength = function (e) {
          var n = this.points,
            i = n.length;
          if (0 === i || 1 === i) return 0;
          for (var r = 0, o = 0, s = 1 / 0, a = 0, l = i - 1; a < l; a += 1) {
            var u = new t.Line(n[a], n[a + 1]),
              c = u.length(),
              h = u.closestPointNormalizedLength(e),
              p = u.pointAt(h).squaredDistance(e);
            p < s && ((s = p), (o = r + h * c)), (r += c);
          }
          return o;
        }),
        (i.prototype.closestPointNormalizedLength = function (t) {
          var e = this.closestPointLength(t);
          if (0 === e) return 0;
          var n = this.length();
          return 0 === n ? 0 : e / n;
        }),
        (i.prototype.closestPointTangent = function (t) {
          var e = this.closestPointLength(t);
          return this.tangentAtLength(e);
        }),
        (i.prototype.containsPoint = function (e) {
          if (0 === this.points.length) return !1;
          for (
            var n = t.Point.clone(e),
              i = n.x,
              r = n.y,
              o = this.points,
              s = o.length,
              a = s - 1,
              l = 0,
              u = 0;
            u < s;
            u += 1
          ) {
            var c = o[a],
              h = o[u];
            if (n.equals(c)) return !0;
            var p = new t.Line(c, h);
            if (p.containsPoint(e)) return !0;
            if ((r <= c.y && r > h.y) || (r > c.y && r <= h.y)) {
              var d = c.x - i > h.x - i ? c.x - i : h.x - i;
              if (d >= 0) {
                var f = new t.Point(i + d, r),
                  g = new t.Line(e, f);
                p.intersectsWithLine(g) && (l += 1);
              }
            }
            a = u;
          }
          return l % 2 == 1;
        }),
        (i.prototype.intersectsWithLine = function (e) {
          for (var n = [], i = 0, r = this.points.length - 1; i < r; i += 1) {
            var o = this.points[i],
              s = this.points[i + 1],
              a = e.intersectsWithLine(new t.Line(o, s));
            a && n.push(a);
          }
          return n.length > 0 ? n : null;
        }),
        (i.prototype.isDifferentiable = function () {
          for (var e = 0, n = this.points.length - 1; e < n; e += 1) {
            var i = this.points[e],
              r = this.points[e + 1];
            if (new t.Line(i, r).isDifferentiable()) return !0;
          }
          return !1;
        }),
        (i.prototype.length = function () {
          for (var t = 0, e = 0, n = this.points.length - 1; e < n; e += 1) {
            var i = this.points[e],
              r = this.points[e + 1];
            t += i.distance(r);
          }
          return t;
        }),
        (i.prototype.pointAt = function (t) {
          var e = this.points,
            n = e.length;
          if (0 === n) return null;
          if (1 === n || t <= 0) return e[0].clone();
          if (t >= 1) return e[n - 1].clone();
          var i = this.length() * t;
          return this.pointAtLength(i);
        }),
        (i.prototype.pointAtLength = function (e) {
          var n = this.points,
            i = n.length;
          if (0 === i) return null;
          if (1 === i) return n[0].clone();
          var r = !0;
          e < 0 && ((r = !1), (e = -e));
          for (var o = 0, s = 0, a = i - 1; s < a; s += 1) {
            var l = r ? s : a - 1 - s,
              u = n[l],
              c = n[l + 1],
              h = new t.Line(u, c),
              p = u.distance(c);
            if (e <= o + p) return h.pointAtLength((r ? 1 : -1) * (e - o));
            o += p;
          }
          return (r ? n[i - 1] : n[0]).clone();
        }),
        (i.prototype.tangentAt = function (t) {
          var e = this.points.length;
          if (0 === e || 1 === e) return null;
          t < 0 && (t = 0), t > 1 && (t = 1);
          var n = this.length() * t;
          return this.tangentAtLength(n);
        }),
        (i.prototype.tangentAtLength = function (e) {
          var n = this.points,
            i = n.length;
          if (0 === i || 1 === i) return null;
          var r,
            o = !0;
          e < 0 && ((o = !1), (e = -e));
          for (var s = 0, a = 0, l = i - 1; a < l; a += 1) {
            var u = o ? a : l - 1 - a,
              c = n[u],
              h = n[u + 1],
              p = new t.Line(c, h),
              d = c.distance(h);
            if (p.isDifferentiable()) {
              if (e <= s + d) return p.tangentAtLength((o ? 1 : -1) * (e - s));
              r = p;
            }
            s += d;
          }
          if (r) {
            var f = o ? 1 : 0;
            return r.tangentAt(f);
          }
          return null;
        }),
        (i.prototype.simplify = function (e) {
          void 0 === e && (e = {});
          var n = this.points;
          if (n.length < 3) return this;
          for (var i = e.threshold || 0, r = 0; n[r + 2]; ) {
            var o = r + 1,
              s = r + 2,
              a = n[r],
              l = n[o],
              u = n[s];
            new t.Line(a, u).closestPoint(l).distance(l) <= i
              ? n.splice(o, 1)
              : (r += 1);
          }
          return this;
        }),
        (i.prototype.toHull = function () {
          var t = this.points,
            e = t.length;
          if (0 === e) return new i();
          for (var n = t[0], r = 1; r < e; r += 1)
            (t[r].y < n.y || (t[r].y === n.y && t[r].x > n.x)) && (n = t[r]);
          var o = [];
          for (r = 0; r < e; r += 1) {
            var s = n.theta(t[r]);
            0 === s && (s = 360), o.push([t[r], r, s]);
          }
          if (
            (o.sort(function (t, e) {
              var n = t[2] - e[2];
              return 0 === n && (n = e[1] - t[1]), n;
            }),
            o.length > 2)
          ) {
            var a = o[o.length - 1];
            o.unshift(a);
          }
          for (
            var l,
              u = {},
              c = [],
              h = function (t) {
                return t[0].toString() + '@' + t[1];
              };
            0 !== o.length;

          ) {
            var p = o.pop(),
              d = p[0];
            if (!u[h(p)])
              for (var f = !1; !f; )
                if (c.length < 2) c.push(p), (f = !0);
                else {
                  var g = c.pop(),
                    $ = g[0],
                    v = c.pop(),
                    y = v[0],
                    m = y.cross($, d);
                  if (m < 0) c.push(v), c.push(g), c.push(p), (f = !0);
                  else if (0 === m) {
                    var _ = $.angleBetween(y, d);
                    1e-10 > Math.abs(_ - 180) || $.equals(d) || y.equals($)
                      ? ((u[h(g)] = $), c.push(v))
                      : 1e-10 > Math.abs(((_ + 1) % 360) - 1) &&
                        (c.push(v), o.push(g));
                  } else (u[h(g)] = $), c.push(v);
                }
          }
          c.length > 2 && c.pop();
          for (var C = -1, b = ((r = 0), c.length); r < b; r += 1) {
            var x = c[r][1];
            (void 0 === l || x < l) && ((l = x), (C = r));
          }
          var w = [];
          if (C > 0) {
            var P = c.slice(C),
              A = c.slice(0, C);
            w = P.concat(A);
          } else w = c;
          var E = [];
          for (r = 0, b = w.length; r < b; r += 1) E.push(w[r][0]);
          return new i(E);
        }),
        (i.prototype.equals = function (t) {
          var e = this;
          return (
            null != t &&
            t.points.length === this.points.length &&
            t.points.every(function (t, n) {
              return t.equals(e.points[n]);
            })
          );
        }),
        (i.prototype.clone = function () {
          return new i(
            this.points.map(function (t) {
              return t.clone();
            })
          );
        }),
        (i.prototype.toJSON = function () {
          return this.points.map(function (t) {
            return t.toJSON();
          });
        }),
        (i.prototype.serialize = function () {
          return this.points
            .map(function (t) {
              return t.x + ', ' + t.y;
            })
            .join(' ');
        }),
        i
      );
    })(a$)),
    ((af = t.Polyline || (t.Polyline = {})).toStringTag =
      'X6.Geometry.' + af.name),
    (af.isPolyline = function (t) {
      if (null == t) return !1;
      if (t instanceof af) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === af.toStringTag) &&
        'function' == typeof n.toHull &&
        'function' == typeof n.simplify
      );
    }),
    ((ag = t.Polyline || (t.Polyline = {})).parse = function (t) {
      var e = t.trim();
      if ('' === e) return new ag();
      for (
        var n = [], i = e.split(/\s*,\s*|\s+/), r = 0, o = i.length;
        r < o;
        r += 2
      )
        n.push({ x: +i[r], y: +i[r + 1] });
      return new ag(n);
    }),
    (t.Curve = (function (e) {
      function i(n, i, r, o) {
        var s = e.call(this) || this;
        return (
          (s.PRECISION = 3),
          (s.start = t.Point.create(n)),
          (s.controlPoint1 = t.Point.create(i)),
          (s.controlPoint2 = t.Point.create(r)),
          (s.end = t.Point.create(o)),
          s
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, Symbol.toStringTag, {
          get: function () {
            return i.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.bbox = function () {
          for (
            var e,
              n,
              i,
              r,
              o,
              s,
              a,
              l,
              u,
              c,
              h,
              p = this.start,
              d = this.controlPoint1,
              f = this.controlPoint2,
              g = this.end,
              $ = p.x,
              v = p.y,
              y = d.x,
              m = d.y,
              _ = f.x,
              C = f.y,
              b = g.x,
              x = g.y,
              w = [],
              P = [],
              A = [[], []],
              E = 0;
            E < 2;
            E += 1
          )
            if (
              (0 === E
                ? ((n = 6 * $ - 12 * y + 6 * _),
                  (e = -3 * $ + 9 * y - 9 * _ + 3 * b),
                  (i = 3 * y - 3 * $))
                : ((n = 6 * v - 12 * m + 6 * C),
                  (e = -3 * v + 9 * m - 9 * C + 3 * x),
                  (i = 3 * m - 3 * v)),
              1e-12 > Math.abs(e))
            ) {
              if (1e-12 > Math.abs(n)) continue;
              (r = -i / n) > 0 && r < 1 && P.push(r);
            } else
              (l = Math.sqrt((a = n * n - 4 * i * e))),
                a < 0 ||
                  ((o = (-n + l) / (2 * e)) > 0 && o < 1 && P.push(o),
                  (s = (-n - l) / (2 * e)) > 0 && s < 1 && P.push(s));
          for (var S = P.length, k = S; S; )
            (u =
              (h = 1 - (r = P[(S -= 1)])) * h * h * $ +
              3 * h * h * r * y +
              3 * h * r * r * _ +
              r * r * r * b),
              (A[0][S] = u),
              (c =
                h * h * h * v +
                3 * h * h * r * m +
                3 * h * r * r * C +
                r * r * r * x),
              (A[1][S] = c),
              (w[S] = { X: u, Y: c });
          (P[k] = 0),
            (P[k + 1] = 1),
            (w[k] = { X: $, Y: v }),
            (w[k + 1] = { X: b, Y: x }),
            (A[0][k] = $),
            (A[1][k] = v),
            (A[0][k + 1] = b),
            (A[1][k + 1] = x),
            (P.length = k + 2),
            (A[0].length = k + 2),
            (A[1].length = k + 2),
            (w.length = k + 2);
          var T = Math.min.apply(null, A[0]),
            M = Math.min.apply(null, A[1]),
            D = Math.max.apply(null, A[0]),
            N = Math.max.apply(null, A[1]);
          return new t.Rectangle(T, M, D - T, N - M);
        }),
        (i.prototype.closestPoint = function (t, e) {
          return (
            void 0 === e && (e = {}), this.pointAtT(this.closestPointT(t, e))
          );
        }),
        (i.prototype.closestPointLength = function (t, e) {
          void 0 === e && (e = {});
          var n = this.getOptions(e);
          return this.lengthAtT(this.closestPointT(t, n), n);
        }),
        (i.prototype.closestPointNormalizedLength = function (t, e) {
          void 0 === e && (e = {});
          var n = this.getOptions(e),
            i = this.closestPointLength(t, n);
          if (!i) return 0;
          var r = this.length(n);
          return 0 === r ? 0 : i / r;
        }),
        (i.prototype.closestPointT = function (t, e) {
          void 0 === e && (e = {});
          var n = this.getPrecision(e),
            i = this.getDivisions(e),
            r = Math.pow(10, -n),
            o = null,
            s = 0,
            a = 0,
            l = 0,
            u = 0,
            c = 0,
            h = null,
            p = i.length,
            d = p > 0 ? 1 / p : 0;
          for (
            i.forEach(function (e, n) {
              var i = e.start.distance(t),
                r = e.end.distance(t),
                p = i + r;
              (null == h || p < h) &&
                ((o = e),
                (s = n * d),
                (a = (n + 1) * d),
                (l = i),
                (u = r),
                (h = p),
                (c = e.endpointDistance()));
            });
            ;

          ) {
            var f = l ? Math.abs(l - u) / l : 0,
              g = null != u ? Math.abs(l - u) / u : 0;
            if (f < r || g < r || !l || l < c * r || !u || u < c * r)
              return l <= u ? s : a;
            var $ = o.divide(0.5);
            d /= 2;
            var v = $[0].start.distance(t),
              y = $[0].end.distance(t),
              m = v + y,
              _ = $[1].start.distance(t),
              C = $[1].end.distance(t);
            m <= _ + C
              ? ((o = $[0]), (a -= d), (l = v), (u = y))
              : ((o = $[1]), (s += d), (l = _), (u = C));
          }
        }),
        (i.prototype.closestPointTangent = function (t, e) {
          return (
            void 0 === e && (e = {}), this.tangentAtT(this.closestPointT(t, e))
          );
        }),
        (i.prototype.containsPoint = function (t, e) {
          return void 0 === e && (e = {}), this.toPolyline(e).containsPoint(t);
        }),
        (i.prototype.divideAt = function (t, e) {
          if ((void 0 === e && (e = {}), t <= 0)) return this.divideAtT(0);
          if (t >= 1) return this.divideAtT(1);
          var n = this.tAt(t, e);
          return this.divideAtT(n);
        }),
        (i.prototype.divideAtLength = function (t, e) {
          void 0 === e && (e = {});
          var n = this.tAtLength(t, e);
          return this.divideAtT(n);
        }),
        (i.prototype.divide = function (t) {
          return this.divideAtT(t);
        }),
        (i.prototype.divideAtT = function (t) {
          var e = this.start,
            n = this.controlPoint1,
            r = this.controlPoint2,
            o = this.end;
          if (t <= 0) return [new i(e, e, e, e), new i(e, n, r, o)];
          if (t >= 1) return [new i(e, n, r, o), new i(o, o, o, o)];
          var s = this.getSkeletonPoints(t),
            a = s.startControlPoint1,
            l = s.startControlPoint2,
            u = s.divider,
            c = s.dividerControlPoint1,
            h = s.dividerControlPoint2;
          return [new i(e, a, l, u), new i(u, c, h, o)];
        }),
        (i.prototype.endpointDistance = function () {
          return this.start.distance(this.end);
        }),
        (i.prototype.getSkeletonPoints = function (e) {
          var n = this.start,
            i = this.controlPoint1,
            r = this.controlPoint2,
            o = this.end;
          if (e <= 0)
            return {
              startControlPoint1: n.clone(),
              startControlPoint2: n.clone(),
              divider: n.clone(),
              dividerControlPoint1: i.clone(),
              dividerControlPoint2: r.clone(),
            };
          if (e >= 1)
            return {
              startControlPoint1: i.clone(),
              startControlPoint2: r.clone(),
              divider: o.clone(),
              dividerControlPoint1: o.clone(),
              dividerControlPoint2: o.clone(),
            };
          var s = new t.Line(n, i).pointAt(e),
            a = new t.Line(i, r).pointAt(e),
            l = new t.Line(r, o).pointAt(e),
            u = new t.Line(s, a).pointAt(e),
            c = new t.Line(a, l).pointAt(e);
          return {
            startControlPoint1: s,
            startControlPoint2: u,
            divider: new t.Line(u, c).pointAt(e),
            dividerControlPoint1: c,
            dividerControlPoint2: l,
          };
        }),
        (i.prototype.getSubdivisions = function (t) {
          void 0 === t && (t = {});
          var e = this.getPrecision(t),
            n = [
              new i(
                this.start,
                this.controlPoint1,
                this.controlPoint2,
                this.end
              ),
            ];
          if (0 === e) return n;
          for (
            var r = this.endpointDistance(), o = Math.pow(10, -e), s = 0;
            ;

          ) {
            var a = (function () {
              s += 1;
              var t = [];
              n.forEach(function (e) {
                var n = e.divide(0.5);
                t.push(n[0], n[1]);
              });
              var e = t.reduce(function (t, e) {
                return t + e.endpointDistance();
              }, 0);
              if (s > 1 && (0 !== e ? (e - r) / e : 0) < o) return { value: t };
              (n = t), (r = e);
            })();
            if ('object' == typeof a) return a.value;
          }
        }),
        (i.prototype.length = function (t) {
          return (
            void 0 === t && (t = {}),
            this.getDivisions(t).reduce(function (t, e) {
              return t + e.endpointDistance();
            }, 0)
          );
        }),
        (i.prototype.lengthAtT = function (t, e) {
          if ((void 0 === e && (e = {}), t <= 0)) return 0;
          var n = void 0 === e.precision ? this.PRECISION : e.precision;
          return this.divide(t)[0].length({ precision: n });
        }),
        (i.prototype.pointAt = function (t, e) {
          if ((void 0 === e && (e = {}), t <= 0)) return this.start.clone();
          if (t >= 1) return this.end.clone();
          var n = this.tAt(t, e);
          return this.pointAtT(n);
        }),
        (i.prototype.pointAtLength = function (t, e) {
          void 0 === e && (e = {});
          var n = this.tAtLength(t, e);
          return this.pointAtT(n);
        }),
        (i.prototype.pointAtT = function (t) {
          return t <= 0
            ? this.start.clone()
            : t >= 1
            ? this.end.clone()
            : this.getSkeletonPoints(t).divider;
        }),
        (i.prototype.isDifferentiable = function () {
          var t = this.start,
            e = this.controlPoint1,
            n = this.controlPoint2,
            i = this.end;
          return !(t.equals(e) && e.equals(n) && n.equals(i));
        }),
        (i.prototype.tangentAt = function (t, e) {
          if ((void 0 === e && (e = {}), !this.isDifferentiable())) return null;
          t < 0 ? (t = 0) : t > 1 && (t = 1);
          var n = this.tAt(t, e);
          return this.tangentAtT(n);
        }),
        (i.prototype.tangentAtLength = function (t, e) {
          if ((void 0 === e && (e = {}), !this.isDifferentiable())) return null;
          var n = this.tAtLength(t, e);
          return this.tangentAtT(n);
        }),
        (i.prototype.tangentAtT = function (e) {
          if (!this.isDifferentiable()) return null;
          e < 0 && (e = 0), e > 1 && (e = 1);
          var n = this.getSkeletonPoints(e),
            i = n.startControlPoint2,
            r = n.dividerControlPoint1,
            o = n.divider,
            s = new t.Line(i, r);
          return s.translate(o.x - i.x, o.y - i.y), s;
        }),
        (i.prototype.getPrecision = function (t) {
          return (
            void 0 === t && (t = {}),
            null == t.precision ? this.PRECISION : t.precision
          );
        }),
        (i.prototype.getDivisions = function (t) {
          if ((void 0 === t && (t = {}), null != t.subdivisions))
            return t.subdivisions;
          var e = this.getPrecision(t);
          return this.getSubdivisions({ precision: e });
        }),
        (i.prototype.getOptions = function (t) {
          return (
            void 0 === t && (t = {}),
            {
              precision: this.getPrecision(t),
              subdivisions: this.getDivisions(t),
            }
          );
        }),
        (i.prototype.tAt = function (t, e) {
          if ((void 0 === e && (e = {}), t <= 0)) return 0;
          if (t >= 1) return 1;
          var n = this.getOptions(e),
            i = this.length(n) * t;
          return this.tAtLength(i, n);
        }),
        (i.prototype.tAtLength = function (t, e) {
          void 0 === e && (e = {});
          var n = !0;
          t < 0 && ((n = !1), (t = -t));
          for (
            var i,
              r,
              o = this.getPrecision(e),
              s = this.getDivisions(e),
              a = null,
              l = 0,
              u = 0,
              c = 0,
              h = s.length,
              p = h > 0 ? 1 / h : 0,
              d = 0;
            d < h;
            d += 1
          ) {
            var f = n ? d : h - 1 - d,
              g = s[d],
              $ = g.endpointDistance();
            if (t <= c + $) {
              (a = g),
                (i = f * p),
                (r = (f + 1) * p),
                (l = n ? t - c : $ + c - t),
                (u = n ? $ + c - t : t - c);
              break;
            }
            c += $;
          }
          if (null == a) return n ? 1 : 0;
          for (
            var v = this.length({ precision: o, subdivisions: s }),
              y = Math.pow(10, -o);
            ;

          ) {
            if ((0 !== v ? l / v : 0) < y) return i;
            if ((0 !== v ? u / v : 0) < y) return r;
            var m = void 0,
              _ = void 0,
              C = a.divide(0.5);
            p /= 2;
            var b = C[0].endpointDistance(),
              x = C[1].endpointDistance();
            l <= b
              ? ((a = C[0]), (r -= p), (_ = b - (m = l)))
              : ((a = C[1]), (i += p), (_ = x - (m = l - b))),
              (l = m),
              (u = _);
          }
        }),
        (i.prototype.toPoints = function (t) {
          void 0 === t && (t = {});
          var e = this.getDivisions(t),
            n = [e[0].start.clone()];
          return (
            e.forEach(function (t) {
              return n.push(t.end.clone());
            }),
            n
          );
        }),
        (i.prototype.toPolyline = function (e) {
          return void 0 === e && (e = {}), new t.Polyline(this.toPoints(e));
        }),
        (i.prototype.scale = function (t, e, n) {
          return (
            this.start.scale(t, e, n),
            this.controlPoint1.scale(t, e, n),
            this.controlPoint2.scale(t, e, n),
            this.end.scale(t, e, n),
            this
          );
        }),
        (i.prototype.rotate = function (t, e) {
          return (
            this.start.rotate(t, e),
            this.controlPoint1.rotate(t, e),
            this.controlPoint2.rotate(t, e),
            this.end.rotate(t, e),
            this
          );
        }),
        (i.prototype.translate = function (t, e) {
          return (
            'number' == typeof t
              ? (this.start.translate(t, e),
                this.controlPoint1.translate(t, e),
                this.controlPoint2.translate(t, e),
                this.end.translate(t, e))
              : (this.start.translate(t),
                this.controlPoint1.translate(t),
                this.controlPoint2.translate(t),
                this.end.translate(t)),
            this
          );
        }),
        (i.prototype.equals = function (t) {
          return (
            null != t &&
            this.start.equals(t.start) &&
            this.controlPoint1.equals(t.controlPoint1) &&
            this.controlPoint2.equals(t.controlPoint2) &&
            this.end.equals(t.end)
          );
        }),
        (i.prototype.clone = function () {
          return new i(
            this.start,
            this.controlPoint1,
            this.controlPoint2,
            this.end
          );
        }),
        (i.prototype.toJSON = function () {
          return {
            start: this.start.toJSON(),
            controlPoint1: this.controlPoint1.toJSON(),
            controlPoint2: this.controlPoint2.toJSON(),
            end: this.end.toJSON(),
          };
        }),
        (i.prototype.serialize = function () {
          return [
            this.start.serialize(),
            this.controlPoint1.serialize(),
            this.controlPoint2.serialize(),
            this.end.serialize(),
          ].join(' ');
        }),
        i
      );
    })(a$)),
    ((ac = t.Curve || (t.Curve = {})).toStringTag = 'X6.Geometry.' + ac.name),
    (ac.isCurve = function (e) {
      if (null == e) return !1;
      if (e instanceof ac) return !0;
      var n = e[Symbol.toStringTag],
        i = e;
      try {
        if (
          (null == n || n === ac.toStringTag) &&
          t.Point.isPoint(i.start) &&
          t.Point.isPoint(i.controlPoint1) &&
          t.Point.isPoint(i.controlPoint2) &&
          t.Point.isPoint(i.end) &&
          'function' == typeof i.toPoints &&
          'function' == typeof i.toPolyline
        )
          return !0;
      } catch (r) {}
      return !1;
    }),
    (function (e) {
      function n(t) {
        var e = t.length,
          n = [],
          i = [],
          r = 2;
        n[0] = t[0] / r;
        for (var o = 1; o < e; o += 1)
          (i[o] = 1 / r),
            (r = (o < e - 1 ? 4 : 3.5) - i[o]),
            (n[o] = (t[o] - n[o - 1]) / r);
        for (o = 1; o < e; o += 1) n[e - o - 1] -= i[e - o] * n[e - o];
        return n;
      }
      e.throughPoints = function (i) {
        if (null == i || (Array.isArray(i) && i.length < 2))
          throw Error('At least 2 points are required');
        for (
          var r = (function (e) {
              var i = e.map(function (e) {
                  return t.Point.clone(e);
                }),
                r = [],
                o = [],
                s = i.length - 1;
              if (1 === s)
                return (
                  (r[0] = new t.Point(
                    (2 * i[0].x + i[1].x) / 3,
                    (2 * i[0].y + i[1].y) / 3
                  )),
                  (o[0] = new t.Point(
                    2 * r[0].x - i[0].x,
                    2 * r[0].y - i[0].y
                  )),
                  [r, o]
                );
              for (var a = [], l = 1; l < s - 1; l += 1)
                a[l] = 4 * i[l].x + 2 * i[l + 1].x;
              (a[0] = i[0].x + 2 * i[1].x),
                (a[s - 1] = (8 * i[s - 1].x + i[s].x) / 2);
              var u = n(a);
              for (l = 1; l < s - 1; l += 1) a[l] = 4 * i[l].y + 2 * i[l + 1].y;
              (a[0] = i[0].y + 2 * i[1].y),
                (a[s - 1] = (8 * i[s - 1].y + i[s].y) / 2);
              var c = n(a);
              for (l = 0; l < s; l += 1)
                r.push(new t.Point(u[l], c[l])),
                  l < s - 1
                    ? o.push(
                        new t.Point(
                          2 * i[l + 1].x - u[l + 1],
                          2 * i[l + 1].y - c[l + 1]
                        )
                      )
                    : o.push(
                        new t.Point(
                          (i[s].x + u[s - 1]) / 2,
                          (i[s].y + c[s - 1]) / 2
                        )
                      );
              return [r, o];
            })(i),
            o = [],
            s = 0,
            a = r[0].length;
          s < a;
          s += 1
        ) {
          var l = new t.Point(r[0][s].x, r[0][s].y),
            u = new t.Point(r[1][s].x, r[1][s].y);
          o.push(new e(i[s], l, u, i[s + 1]));
        }
        return o;
      };
    })(t.Curve || (t.Curve = {}));
  var a0,
    av = (function (t) {
      function e() {
        var e = (null !== t && t.apply(this, arguments)) || this;
        return (
          (e.isVisible = !0), (e.isSegment = !0), (e.isSubpathStart = !1), e
        );
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'end', {
          get: function () {
            return this.endPoint;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'start', {
          get: function () {
            if (null == this.previousSegment)
              throw Error(
                'Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)'
              );
            return this.previousSegment.end;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.closestPointT = function (t, e) {
          if (this.closestPointNormalizedLength)
            return this.closestPointNormalizedLength(t);
          throw Error(
            'Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.'
          );
        }),
        (e.prototype.lengthAtT = function (t, e) {
          if (t <= 0) return 0;
          var n = this.length();
          return t >= 1 ? n : n * t;
        }),
        (e.prototype.divideAtT = function (t) {
          if (this.divideAt) return this.divideAt(t);
          throw Error(
            'Neither `divideAtT` nor `divideAt` method is implemented.'
          );
        }),
        (e.prototype.pointAtT = function (t) {
          if (this.pointAt) return this.pointAt(t);
          throw Error(
            'Neither `pointAtT` nor `pointAt` method is implemented.'
          );
        }),
        (e.prototype.tangentAtT = function (t) {
          if (this.tangentAt) return this.tangentAt(t);
          throw Error(
            'Neither `tangentAtT` nor `tangentAt` method is implemented.'
          );
        }),
        e
      );
    })(a$),
    ay = (function (e) {
      function i(n, i) {
        var r = e.call(this) || this;
        return (
          t.Line.isLine(n)
            ? (r.endPoint = n.end.clone().round(2))
            : (r.endPoint = t.Point.create(n, i).round(2)),
          r
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'type', {
          get: function () {
            return 'L';
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'line', {
          get: function () {
            return new t.Line(this.start, this.end);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.bbox = function () {
          return this.line.bbox();
        }),
        (i.prototype.closestPoint = function (t) {
          return this.line.closestPoint(t);
        }),
        (i.prototype.closestPointLength = function (t) {
          return this.line.closestPointLength(t);
        }),
        (i.prototype.closestPointNormalizedLength = function (t) {
          return this.line.closestPointNormalizedLength(t);
        }),
        (i.prototype.closestPointTangent = function (t) {
          return this.line.closestPointTangent(t);
        }),
        (i.prototype.length = function () {
          return this.line.length();
        }),
        (i.prototype.divideAt = function (t) {
          var e = this.line.divideAt(t);
          return [new i(e[0]), new i(e[1])];
        }),
        (i.prototype.divideAtLength = function (t) {
          var e = this.line.divideAtLength(t);
          return [new i(e[0]), new i(e[1])];
        }),
        (i.prototype.getSubdivisions = function () {
          return [];
        }),
        (i.prototype.pointAt = function (t) {
          return this.line.pointAt(t);
        }),
        (i.prototype.pointAtLength = function (t) {
          return this.line.pointAtLength(t);
        }),
        (i.prototype.tangentAt = function (t) {
          return this.line.tangentAt(t);
        }),
        (i.prototype.tangentAtLength = function (t) {
          return this.line.tangentAtLength(t);
        }),
        (i.prototype.isDifferentiable = function () {
          return null != this.previousSegment && !this.start.equals(this.end);
        }),
        (i.prototype.clone = function () {
          return new i(this.end);
        }),
        (i.prototype.scale = function (t, e, n) {
          return this.end.scale(t, e, n), this;
        }),
        (i.prototype.rotate = function (t, e) {
          return this.end.rotate(t, e), this;
        }),
        (i.prototype.translate = function (t, e) {
          return (
            'number' == typeof t
              ? this.end.translate(t, e)
              : this.end.translate(t),
            this
          );
        }),
        (i.prototype.equals = function (t) {
          return (
            this.type === t.type &&
            this.start.equals(t.start) &&
            this.end.equals(t.end)
          );
        }),
        (i.prototype.toJSON = function () {
          return {
            type: this.type,
            start: this.start.toJSON(),
            end: this.end.toJSON(),
          };
        }),
        (i.prototype.serialize = function () {
          var t = this.end;
          return this.type + ' ' + t.x + ' ' + t.y;
        }),
        i
      );
    })(av);
  (a0 = ay || (ay = {})).create = function () {
    for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
    var i = e.length,
      r = e[0];
    if (t.Line.isLine(r)) return new a0(r);
    if (t.Point.isPointLike(r))
      return 1 === i
        ? new a0(r)
        : e.map(function (t) {
            return new a0(t);
          });
    if (2 === i) return new a0(+e[0], +e[1]);
    for (var o = [], s = 0; s < i; s += 2) {
      var a = +e[s],
        l = +e[s + 1];
      o.push(new a0(a, l));
    }
    return o;
  };
  var am,
    a_ = (function (e) {
      function i() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'end', {
          get: function () {
            if (!this.subpathStartSegment)
              throw Error(
                'Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)'
              );
            return this.subpathStartSegment.end;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'type', {
          get: function () {
            return 'Z';
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'line', {
          get: function () {
            return new t.Line(this.start, this.end);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.bbox = function () {
          return this.line.bbox();
        }),
        (i.prototype.closestPoint = function (t) {
          return this.line.closestPoint(t);
        }),
        (i.prototype.closestPointLength = function (t) {
          return this.line.closestPointLength(t);
        }),
        (i.prototype.closestPointNormalizedLength = function (t) {
          return this.line.closestPointNormalizedLength(t);
        }),
        (i.prototype.closestPointTangent = function (t) {
          return this.line.closestPointTangent(t);
        }),
        (i.prototype.length = function () {
          return this.line.length();
        }),
        (i.prototype.divideAt = function (t) {
          var e = this.line.divideAt(t);
          return [
            e[1].isDifferentiable() ? new ay(e[0]) : this.clone(),
            new ay(e[1]),
          ];
        }),
        (i.prototype.divideAtLength = function (t) {
          var e = this.line.divideAtLength(t);
          return [
            e[1].isDifferentiable() ? new ay(e[0]) : this.clone(),
            new ay(e[1]),
          ];
        }),
        (i.prototype.getSubdivisions = function () {
          return [];
        }),
        (i.prototype.pointAt = function (t) {
          return this.line.pointAt(t);
        }),
        (i.prototype.pointAtLength = function (t) {
          return this.line.pointAtLength(t);
        }),
        (i.prototype.tangentAt = function (t) {
          return this.line.tangentAt(t);
        }),
        (i.prototype.tangentAtLength = function (t) {
          return this.line.tangentAtLength(t);
        }),
        (i.prototype.isDifferentiable = function () {
          return (
            !(!this.previousSegment || !this.subpathStartSegment) &&
            !this.start.equals(this.end)
          );
        }),
        (i.prototype.scale = function () {
          return this;
        }),
        (i.prototype.rotate = function () {
          return this;
        }),
        (i.prototype.translate = function () {
          return this;
        }),
        (i.prototype.equals = function (t) {
          return (
            this.type === t.type &&
            this.start.equals(t.start) &&
            this.end.equals(t.end)
          );
        }),
        (i.prototype.clone = function () {
          return new i();
        }),
        (i.prototype.toJSON = function () {
          return {
            type: this.type,
            start: this.start.toJSON(),
            end: this.end.toJSON(),
          };
        }),
        (i.prototype.serialize = function () {
          return this.type;
        }),
        i
      );
    })(av);
  (am = a_ || (a_ = {})).create = function () {
    return new am();
  };
  var aC,
    ab = (function (e) {
      function i(n, i) {
        var r = e.call(this) || this;
        return (
          (r.isVisible = !1),
          (r.isSubpathStart = !0),
          t.Line.isLine(n) || t.Curve.isCurve(n)
            ? (r.endPoint = n.end.clone().round(2))
            : (r.endPoint = t.Point.create(n, i).round(2)),
          r
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'start', {
          get: function () {
            throw Error(
              'Illegal access. Moveto segments should not need a start property.'
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'type', {
          get: function () {
            return 'M';
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.bbox = function () {
          return null;
        }),
        (i.prototype.closestPoint = function () {
          return this.end.clone();
        }),
        (i.prototype.closestPointLength = function () {
          return 0;
        }),
        (i.prototype.closestPointNormalizedLength = function () {
          return 0;
        }),
        (i.prototype.closestPointT = function () {
          return 1;
        }),
        (i.prototype.closestPointTangent = function () {
          return null;
        }),
        (i.prototype.length = function () {
          return 0;
        }),
        (i.prototype.lengthAtT = function () {
          return 0;
        }),
        (i.prototype.divideAt = function () {
          return [this.clone(), this.clone()];
        }),
        (i.prototype.divideAtLength = function () {
          return [this.clone(), this.clone()];
        }),
        (i.prototype.getSubdivisions = function () {
          return [];
        }),
        (i.prototype.pointAt = function () {
          return this.end.clone();
        }),
        (i.prototype.pointAtLength = function () {
          return this.end.clone();
        }),
        (i.prototype.pointAtT = function () {
          return this.end.clone();
        }),
        (i.prototype.tangentAt = function () {
          return null;
        }),
        (i.prototype.tangentAtLength = function () {
          return null;
        }),
        (i.prototype.tangentAtT = function () {
          return null;
        }),
        (i.prototype.isDifferentiable = function () {
          return !1;
        }),
        (i.prototype.scale = function (t, e, n) {
          return this.end.scale(t, e, n), this;
        }),
        (i.prototype.rotate = function (t, e) {
          return this.end.rotate(t, e), this;
        }),
        (i.prototype.translate = function (t, e) {
          return (
            'number' == typeof t
              ? this.end.translate(t, e)
              : this.end.translate(t),
            this
          );
        }),
        (i.prototype.clone = function () {
          return new i(this.end);
        }),
        (i.prototype.equals = function (t) {
          return this.type === t.type && this.end.equals(t.end);
        }),
        (i.prototype.toJSON = function () {
          return { type: this.type, end: this.end.toJSON() };
        }),
        (i.prototype.serialize = function () {
          var t = this.end;
          return this.type + ' ' + t.x + ' ' + t.y;
        }),
        i
      );
    })(av);
  (aC = ab || (ab = {})).create = function () {
    for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
    var i = e.length,
      r = e[0];
    if (t.Line.isLine(r) || t.Curve.isCurve(r)) return new aC(r);
    if (t.Point.isPointLike(r)) {
      if (1 === i) return new aC(r);
      for (var o = [], s = 0; s < i; s += 1)
        0 === s ? o.push(new aC(e[s])) : o.push(new ay(e[s]));
      return o;
    }
    if (2 === i) return new aC(+e[0], +e[1]);
    var a = [];
    for (s = 0; s < i; s += 2) {
      var l = +e[s],
        u = +e[s + 1];
      0 === s ? a.push(new aC(l, u)) : a.push(new ay(l, u));
    }
    return a;
  };
  var ax = (function (e) {
    function i(n, i, r, o, s, a) {
      var l = e.call(this) || this;
      return (
        t.Curve.isCurve(n)
          ? ((l.controlPoint1 = n.controlPoint1.clone().round(2)),
            (l.controlPoint2 = n.controlPoint2.clone().round(2)),
            (l.endPoint = n.end.clone().round(2)))
          : 'number' == typeof n
          ? ((l.controlPoint1 = new t.Point(n, i).round(2)),
            (l.controlPoint2 = new t.Point(r, o).round(2)),
            (l.endPoint = new t.Point(s, a).round(2)))
          : ((l.controlPoint1 = t.Point.create(n).round(2)),
            (l.controlPoint2 = t.Point.create(i).round(2)),
            (l.endPoint = t.Point.create(r).round(2))),
        l
      );
    }
    return (
      n(i, e),
      Object.defineProperty(i.prototype, 'type', {
        get: function () {
          return 'C';
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(i.prototype, 'curve', {
        get: function () {
          return new t.Curve(
            this.start,
            this.controlPoint1,
            this.controlPoint2,
            this.end
          );
        },
        enumerable: !1,
        configurable: !0,
      }),
      (i.prototype.bbox = function () {
        return this.curve.bbox();
      }),
      (i.prototype.closestPoint = function (t) {
        return this.curve.closestPoint(t);
      }),
      (i.prototype.closestPointLength = function (t) {
        return this.curve.closestPointLength(t);
      }),
      (i.prototype.closestPointNormalizedLength = function (t) {
        return this.curve.closestPointNormalizedLength(t);
      }),
      (i.prototype.closestPointTangent = function (t) {
        return this.curve.closestPointTangent(t);
      }),
      (i.prototype.length = function () {
        return this.curve.length();
      }),
      (i.prototype.divideAt = function (t, e) {
        void 0 === e && (e = {});
        var n = this.curve.divideAt(t, e);
        return [new i(n[0]), new i(n[1])];
      }),
      (i.prototype.divideAtLength = function (t, e) {
        void 0 === e && (e = {});
        var n = this.curve.divideAtLength(t, e);
        return [new i(n[0]), new i(n[1])];
      }),
      (i.prototype.divideAtT = function (t) {
        var e = this.curve.divideAtT(t);
        return [new i(e[0]), new i(e[1])];
      }),
      (i.prototype.getSubdivisions = function () {
        return [];
      }),
      (i.prototype.pointAt = function (t) {
        return this.curve.pointAt(t);
      }),
      (i.prototype.pointAtLength = function (t) {
        return this.curve.pointAtLength(t);
      }),
      (i.prototype.tangentAt = function (t) {
        return this.curve.tangentAt(t);
      }),
      (i.prototype.tangentAtLength = function (t) {
        return this.curve.tangentAtLength(t);
      }),
      (i.prototype.isDifferentiable = function () {
        if (!this.previousSegment) return !1;
        var t = this.start,
          e = this.controlPoint1,
          n = this.controlPoint2,
          i = this.end;
        return !(t.equals(e) && e.equals(n) && n.equals(i));
      }),
      (i.prototype.scale = function (t, e, n) {
        return (
          this.controlPoint1.scale(t, e, n),
          this.controlPoint2.scale(t, e, n),
          this.end.scale(t, e, n),
          this
        );
      }),
      (i.prototype.rotate = function (t, e) {
        return (
          this.controlPoint1.rotate(t, e),
          this.controlPoint2.rotate(t, e),
          this.end.rotate(t, e),
          this
        );
      }),
      (i.prototype.translate = function (t, e) {
        return (
          'number' == typeof t
            ? (this.controlPoint1.translate(t, e),
              this.controlPoint2.translate(t, e),
              this.end.translate(t, e))
            : (this.controlPoint1.translate(t),
              this.controlPoint2.translate(t),
              this.end.translate(t)),
          this
        );
      }),
      (i.prototype.equals = function (t) {
        return (
          this.start.equals(t.start) &&
          this.end.equals(t.end) &&
          this.controlPoint1.equals(t.controlPoint1) &&
          this.controlPoint2.equals(t.controlPoint2)
        );
      }),
      (i.prototype.clone = function () {
        return new i(this.controlPoint1, this.controlPoint2, this.end);
      }),
      (i.prototype.toJSON = function () {
        return {
          type: this.type,
          start: this.start.toJSON(),
          controlPoint1: this.controlPoint1.toJSON(),
          controlPoint2: this.controlPoint2.toJSON(),
          end: this.end.toJSON(),
        };
      }),
      (i.prototype.serialize = function () {
        var t = this.controlPoint1,
          e = this.controlPoint2,
          n = this.end;
        return [this.type, t.x, t.y, e.x, e.y, n.x, n.y].join(' ');
      }),
      i
    );
  })(av);
  function aw(t, e, n) {
    return {
      x: t * Math.cos(n) - e * Math.sin(n),
      y: t * Math.sin(n) + e * Math.cos(n),
    };
  }
  function a1(t, e, n, i, r, o) {
    var s = 1 / 3,
      a = 2 / 3;
    return [s * t + a * n, s * e + a * i, s * r + a * n, s * o + a * i, r, o];
  }
  (l_ = ax || (ax = {})).create = function () {
    for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
    var i = e.length,
      r = e[0];
    if (t.Curve.isCurve(r)) return new l_(r);
    if (t.Point.isPointLike(r)) {
      if (3 === i) return new l_(e[0], e[1], e[2]);
      for (var o = [], s = 0; s < i; s += 3)
        o.push(new l_(e[s], e[s + 1], e[s + 2]));
      return o;
    }
    if (6 === i) return new l_(e[0], e[1], e[2], e[3], e[4], e[5]);
    var a = [];
    for (s = 0; s < i; s += 6)
      a.push(new l_(e[s], e[s + 1], e[s + 2], e[s + 3], e[s + 4], e[s + 5]));
    return a;
  };
  var aP = RegExp('^[\\s\\dLMCZz,.]*$');
  function aA(t, e) {
    return ((t % e) + e) % e;
  }
  function aE(e, n) {
    void 0 === n && (n = {});
    var i = [];
    return (
      e &&
        e.length &&
        e.forEach(function (t) {
          Array.isArray(t)
            ? i.push({ x: t[0], y: t[1] })
            : i.push({ x: t.x, y: t.y });
        }),
      (function (e, n, i, r, o) {
        var s = [],
          a = e[e.length - 1],
          l = null != n && n > 0,
          u = n || 0;
        if (r && l) {
          var c = (e = e.slice())[0],
            h = new t.Point(a.x + (c.x - a.x) / 2, a.y + (c.y - a.y) / 2);
          e.splice(0, 0, h);
        }
        var p = e[0],
          d = 1;
        for (
          i ? s.push('M', p.x, p.y) : s.push('L', p.x, p.y);
          d < (r ? e.length : e.length - 1);

        ) {
          var f = e[aA(d, e.length)],
            g = p.x - f.x,
            $ = p.y - f.y;
          if (
            l &&
            (0 !== g || 0 !== $) &&
            (null == o || 0 > o.indexOf(d - 1))
          ) {
            var v = Math.sqrt(g * g + $ * $),
              y = (g * Math.min(u, v / 2)) / v,
              m = ($ * Math.min(u, v / 2)) / v,
              _ = f.x + y,
              C = f.y + m;
            s.push('L', _, C);
            for (
              var b = e[aA(d + 1, e.length)];
              d < e.length - 2 &&
              0 === Math.round(b.x - f.x) &&
              0 === Math.round(b.y - f.y);

            )
              (b = e[aA(d + 2, e.length)]), (d += 1);
            v = Math.max(
              1,
              Math.sqrt((g = b.x - f.x) * g + ($ = b.y - f.y) * $)
            );
            var x = (g * Math.min(u, v / 2)) / v,
              w = ($ * Math.min(u, v / 2)) / v,
              P = f.x + x,
              A = f.y + w;
            s.push('Q', f.x, f.y, P, A), (f = new t.Point(P, A));
          } else s.push('L', f.x, f.y);
          (p = f), (d += 1);
        }
        return (
          r ? s.push('Z') : s.push('L', a.x, a.y),
          s
            .map(function (t) {
              return 'string' == typeof t ? t : +t.toFixed(3);
            })
            .join(' ')
        );
      })(i, n.round, null == n.initialMove || n.initialMove, n.close, n.exclude)
    );
  }
  function aS(t, e, n, i, r, o, s, a, l) {
    if (
      (void 0 === r && (r = 0),
      void 0 === o && (o = 0),
      void 0 === s && (s = 0),
      0 === n || 0 === i)
    )
      return [];
    (a -= t), (l -= e), (n = Math.abs(n)), (i = Math.abs(i));
    var u,
      c = -a / 2,
      h = -l / 2,
      p = Math.cos((r * Math.PI) / 180),
      d = Math.sin((r * Math.PI) / 180),
      f = p * c + d * h,
      g = -1 * d * c + p * h,
      $ = f * f,
      v = g * g,
      y = n * n,
      m = i * i,
      _ = $ / y + v / m;
    if (_ > 1) (n = Math.sqrt(_) * n), (i = Math.sqrt(_) * i), (u = 0);
    else {
      var C = 1;
      o === s && (C = -1),
        (u = C * Math.sqrt((y * m - y * v - m * $) / (y * v + m * $)));
    }
    var b = (u * n * g) / i,
      x = (-1 * u * i * f) / n,
      w = p * b - d * x + a / 2,
      P = d * b + p * x + l / 2,
      A = Math.atan2((g - x) / i, (f - b) / n) - Math.atan2(0, 1),
      E = A >= 0 ? A : 2 * Math.PI + A,
      S =
        (A =
          Math.atan2((-g - x) / i, (-f - b) / n) -
          Math.atan2((g - x) / i, (f - b) / n)) >= 0
          ? A
          : 2 * Math.PI + A;
    0 === s && S > 0
      ? (S -= 2 * Math.PI)
      : 0 !== s && S < 0 && (S += 2 * Math.PI);
    for (
      var k = (2 * S) / Math.PI,
        T = Math.ceil(k < 0 ? -1 * k : k),
        M = S / T,
        D = ((8 / 3) * Math.sin(M / 4) * Math.sin(M / 4)) / Math.sin(M / 2),
        N = p * n,
        L = p * i,
        F = d * n,
        z = d * i,
        B = Math.cos(E),
        O = Math.sin(E),
        V = -D * (N * O + z * B),
        R = -D * (F * O - L * B),
        I = 0,
        G = 0,
        j = [],
        H = 0;
      H < T;
      H += 1
    ) {
      (E += M),
        (I = N * (B = Math.cos(E)) - z * (O = Math.sin(E)) + w),
        (G = F * B + L * O + P);
      var U = -D * (N * O + z * B),
        q = -D * (F * O - L * B),
        W = 6 * H;
      (j[W] = Number(V + t)),
        (j[W + 1] = Number(R + e)),
        (j[W + 2] = Number(I - U + t)),
        (j[W + 3] = Number(G - q + e)),
        (j[W + 4] = Number(I + t)),
        (j[W + 5] = Number(G + e)),
        (V = I + U),
        (R = G + q);
    }
    return j.map(function (t) {
      return +t.toFixed(2);
    });
  }
  function ak(e, n, i) {
    for (
      var r,
        o = i.eol,
        s = i.baseSize,
        a = i.lineHeight,
        l = 0,
        u = {},
        c = n.length - 1,
        h = 0;
      h <= c;
      h += 1
    ) {
      var p = n[h],
        d = null;
      if ('object' == typeof p) {
        var f = p.attrs,
          g = t.Vector.create('tspan', f);
        r = g.node;
        var $ = p.t;
        o && h === c && ($ += o), (r.textContent = $);
        var v = f.class;
        v && g.addClass(v),
          i.includeAnnotationIndices &&
            g.attr('annotations', p.annotations.join(',')),
          void 0 === (d = parseFloat(f['font-size'])) && (d = s),
          d && d > l && (l = d);
      } else
        o && h === c && (p += o),
          (r = document.createTextNode(p || ' ')),
          s && s > l && (l = s);
      e.appendChild(r);
    }
    return (
      l && (u.maxFontSize = l),
      a ? (u.lineHeight = a) : l && (u.lineHeight = 1.2 * l),
      u
    );
  }
  (t.Path = (function (e) {
    function i(n) {
      var r = e.call(this) || this;
      if (((r.PRECISION = 3), (r.segments = []), Array.isArray(n))) {
        if (t.Line.isLine(n[0]) || t.Curve.isCurve(n[0])) {
          var o = null;
          n.forEach(function (e, n) {
            0 === n && r.appendSegment(i.createSegment('M', e.start)),
              null == o ||
                o.end.equals(e.start) ||
                r.appendSegment(i.createSegment('M', e.start)),
              t.Line.isLine(e)
                ? r.appendSegment(i.createSegment('L', e.end))
                : t.Curve.isCurve(e) &&
                  r.appendSegment(
                    i.createSegment(
                      'C',
                      e.controlPoint1,
                      e.controlPoint2,
                      e.end
                    )
                  ),
              (o = e);
          });
        } else
          n.forEach(function (t) {
            t.isSegment && r.appendSegment(t);
          });
      } else
        null != n &&
          (t.Line.isLine(n)
            ? (r.appendSegment(i.createSegment('M', n.start)),
              r.appendSegment(i.createSegment('L', n.end)))
            : t.Curve.isCurve(n)
            ? (r.appendSegment(i.createSegment('M', n.start)),
              r.appendSegment(
                i.createSegment('C', n.controlPoint1, n.controlPoint2, n.end)
              ))
            : t.Polyline.isPolyline(n)
            ? n.points &&
              n.points.length &&
              n.points.forEach(function (t, e) {
                var n =
                  0 === e ? i.createSegment('M', t) : i.createSegment('L', t);
                r.appendSegment(n);
              })
            : n.isSegment && r.appendSegment(n));
      return r;
    }
    return (
      n(i, e),
      Object.defineProperty(i.prototype, Symbol.toStringTag, {
        get: function () {
          return i.toStringTag;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(i.prototype, 'start', {
        get: function () {
          var t = this.segments,
            e = t.length;
          if (0 === e) return null;
          for (var n = 0; n < e; n += 1) {
            var i = t[n];
            if (i.isVisible) return i.start;
          }
          return t[e - 1].end;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(i.prototype, 'end', {
        get: function () {
          var t = this.segments,
            e = t.length;
          if (0 === e) return null;
          for (var n = e - 1; n >= 0; n -= 1) {
            var i = t[n];
            if (i.isVisible) return i.end;
          }
          return t[e - 1].end;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (i.prototype.moveTo = function () {
        for (var t, e = [], n = 0; n < arguments.length; n++)
          e[n] = arguments[n];
        return this.appendSegment(
          (t = ab.create).call.apply(t, s([null], e, !1))
        );
      }),
      (i.prototype.lineTo = function () {
        for (var t, e = [], n = 0; n < arguments.length; n++)
          e[n] = arguments[n];
        return this.appendSegment(
          (t = ay.create).call.apply(t, s([null], e, !1))
        );
      }),
      (i.prototype.curveTo = function () {
        for (var t, e = [], n = 0; n < arguments.length; n++)
          e[n] = arguments[n];
        return this.appendSegment(
          (t = ax.create).call.apply(t, s([null], e, !1))
        );
      }),
      (i.prototype.arcTo = function (e, n, i, r, o, s, a) {
        var l = this.end || new t.Point(),
          u =
            'number' == typeof s
              ? aS(l.x, l.y, e, n, i, r, o, s, a)
              : aS(l.x, l.y, e, n, i, r, o, s.x, s.y);
        if (null != u)
          for (var c = 0, h = u.length; c < h; c += 6)
            this.curveTo(
              u[c],
              u[c + 1],
              u[c + 2],
              u[c + 3],
              u[c + 4],
              u[c + 5]
            );
        return this;
      }),
      (i.prototype.quadTo = function (e, n, r, o) {
        var s = this.end || new t.Point(),
          a = ['M', s.x, s.y];
        if ('number' == typeof e) a.push('Q', e, n, r, o);
        else {
          var l = n;
          a.push('Q', e.x, e.y, l.x, l.y);
        }
        var u = i.parse(a.join(' '));
        return this.appendSegment(u.segments.slice(1)), this;
      }),
      (i.prototype.close = function () {
        return this.appendSegment(a_.create());
      }),
      (i.prototype.drawPoints = function (t, e) {
        void 0 === e && (e = {});
        var n = aE(t, e),
          r = i.parse(n);
        r && r.segments && this.appendSegment(r.segments);
      }),
      (i.prototype.bbox = function () {
        var e,
          n = this.segments,
          i = n.length;
        if (0 === i) return null;
        for (var r = 0; r < i; r += 1) {
          var o = n[r];
          if (o.isVisible) {
            var s = o.bbox();
            null != s && (e = e ? e.union(s) : s);
          }
        }
        if (null != e) return e;
        var a = n[i - 1];
        return new t.Rectangle(a.end.x, a.end.y, 0, 0);
      }),
      (i.prototype.appendSegment = function (t) {
        var e,
          n = this.segments.length,
          i = 0 !== n ? this.segments[n - 1] : null;
        if (Array.isArray(t))
          for (var r = 0, o = t.length; r < o; r += 1) {
            var s = t[r];
            (e = this.prepareSegment(s, i, null)),
              this.segments.push(e),
              (i = e);
          }
        else
          null != t &&
            t.isSegment &&
            ((e = this.prepareSegment(t, i, null)), this.segments.push(e));
        return this;
      }),
      (i.prototype.insertSegment = function (t, e) {
        var n,
          i = this.segments.length;
        if ((t < 0 && (t = i + t + 1), t > i || t < 0))
          throw Error('Index out of range.');
        var r = null,
          o = null;
        if (
          (0 !== i &&
            (t >= 1
              ? (o = (r = this.segments[t - 1]).nextSegment)
              : ((r = null), (o = this.segments[0]))),
          Array.isArray(e))
        )
          for (var s = 0, a = e.length; s < a; s += 1) {
            var l = e[s];
            (n = this.prepareSegment(l, r, o)),
              this.segments.splice(t + s, 0, n),
              (r = n);
          }
        else (n = this.prepareSegment(e, r, o)), this.segments.splice(t, 0, n);
        return this;
      }),
      (i.prototype.removeSegment = function (t) {
        var e = this.fixIndex(t),
          n = this.segments.splice(e, 1)[0],
          i = n.previousSegment,
          r = n.nextSegment;
        return (
          i && (i.nextSegment = r),
          r && (r.previousSegment = i),
          n.isSubpathStart && r && this.updateSubpathStartSegment(r),
          n
        );
      }),
      (i.prototype.replaceSegment = function (t, e) {
        var n,
          i = this.fixIndex(t),
          r = this.segments[i],
          o = r.previousSegment,
          s = r.nextSegment,
          a = r.isSubpathStart;
        if (Array.isArray(e)) {
          this.segments.splice(t, 1);
          for (var l = 0, u = e.length; l < u; l += 1) {
            var c = e[l];
            (n = this.prepareSegment(c, o, s)),
              this.segments.splice(t + l, 0, n),
              (o = n),
              a && n.isSubpathStart && (a = !1);
          }
        } else
          (n = this.prepareSegment(e, o, s)),
            this.segments.splice(i, 1, n),
            a && n.isSubpathStart && (a = !1);
        a && s && this.updateSubpathStartSegment(s);
      }),
      (i.prototype.getSegment = function (t) {
        var e = this.fixIndex(t);
        return this.segments[e];
      }),
      (i.prototype.fixIndex = function (t) {
        var e = this.segments.length;
        if (0 === e) throw Error('Path has no segments.');
        for (var n = t; n < 0; ) n = e + n;
        if (n >= e || n < 0) throw Error('Index out of range.');
        return n;
      }),
      (i.prototype.segmentAt = function (t, e) {
        void 0 === e && (e = {});
        var n = this.segmentIndexAt(t, e);
        return n ? this.getSegment(n) : null;
      }),
      (i.prototype.segmentAtLength = function (t, e) {
        void 0 === e && (e = {});
        var n = this.segmentIndexAtLength(t, e);
        return n ? this.getSegment(n) : null;
      }),
      (i.prototype.segmentIndexAt = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        var n = ai(t, 0, 1),
          i = this.getOptions(e),
          r = this.length(i) * n;
        return this.segmentIndexAtLength(r, i);
      }),
      (i.prototype.segmentIndexAtLength = function (t, e) {
        void 0 === e && (e = {});
        var n = this.segments.length;
        if (0 === n) return null;
        var i = !0;
        t < 0 && ((i = !1), (t = -t));
        for (
          var r = this.getPrecision(e),
            o = this.getSubdivisions(e),
            s = 0,
            a = null,
            l = 0;
          l < n;
          l += 1
        ) {
          var u = i ? l : n - 1 - l,
            c = this.segments[u],
            h = o[u],
            p = c.length({ precision: r, subdivisions: h });
          if (c.isVisible) {
            if (t <= s + p) return u;
            a = u;
          }
          s += p;
        }
        return a;
      }),
      (i.prototype.getSegmentSubdivisions = function (t) {
        void 0 === t && (t = {});
        for (
          var e = this.getPrecision(t), n = [], i = 0, r = this.segments.length;
          i < r;
          i += 1
        ) {
          var o = this.segments[i].getSubdivisions({ precision: e });
          n.push(o);
        }
        return n;
      }),
      (i.prototype.updateSubpathStartSegment = function (t) {
        for (var e = t.previousSegment, n = t; n && !n.isSubpathStart; )
          (n.subpathStartSegment = null != e ? e.subpathStartSegment : null),
            (e = n),
            (n = n.nextSegment);
      }),
      (i.prototype.prepareSegment = function (t, e, n) {
        (t.previousSegment = e),
          (t.nextSegment = n),
          null != e && (e.nextSegment = t),
          null != n && (n.previousSegment = t);
        var i = t;
        return (
          t.isSubpathStart && ((t.subpathStartSegment = t), (i = n)),
          null != i && this.updateSubpathStartSegment(i),
          t
        );
      }),
      (i.prototype.closestPoint = function (t, e) {
        void 0 === e && (e = {});
        var n = this.closestPointT(t, e);
        return n ? this.pointAtT(n) : null;
      }),
      (i.prototype.closestPointLength = function (t, e) {
        void 0 === e && (e = {});
        var n = this.getOptions(e),
          i = this.closestPointT(t, n);
        return i ? this.lengthAtT(i, n) : 0;
      }),
      (i.prototype.closestPointNormalizedLength = function (t, e) {
        void 0 === e && (e = {});
        var n = this.getOptions(e),
          i = this.closestPointLength(t, n);
        if (0 === i) return 0;
        var r = this.length(n);
        return 0 === r ? 0 : i / r;
      }),
      (i.prototype.closestPointT = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        for (
          var n,
            i = this.getPrecision(e),
            r = this.getSubdivisions(e),
            o = 1 / 0,
            s = 0,
            a = this.segments.length;
          s < a;
          s += 1
        ) {
          var l = this.segments[s],
            u = r[s];
          if (l.isVisible) {
            var c = l.closestPointT(t, { precision: i, subdivisions: u }),
              h = as(l.pointAtT(c), t);
            h < o && ((n = { segmentIndex: s, value: c }), (o = h));
          }
        }
        return n || { segmentIndex: this.segments.length - 1, value: 1 };
      }),
      (i.prototype.closestPointTangent = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        for (
          var n,
            i = this.getPrecision(e),
            r = this.getSubdivisions(e),
            o = 1 / 0,
            s = 0,
            a = this.segments.length;
          s < a;
          s += 1
        ) {
          var l = this.segments[s],
            u = r[s];
          if (l.isDifferentiable()) {
            var c = l.closestPointT(t, { precision: i, subdivisions: u }),
              h = as(l.pointAtT(c), t);
            h < o && ((n = l.tangentAtT(c)), (o = h));
          }
        }
        return n || null;
      }),
      (i.prototype.containsPoint = function (t, e) {
        void 0 === e && (e = {});
        var n = this.toPolylines(e);
        if (!n) return !1;
        for (var i = 0, r = 0, o = n.length; r < o; r += 1)
          n[r].containsPoint(t) && (i += 1);
        return i % 2 == 1;
      }),
      (i.prototype.pointAt = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        if (t <= 0) return this.start.clone();
        if (t >= 1) return this.end.clone();
        var n = this.getOptions(e),
          i = this.length(n) * t;
        return this.pointAtLength(i, n);
      }),
      (i.prototype.pointAtLength = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        if (0 === t) return this.start.clone();
        var n = !0;
        t < 0 && ((n = !1), (t = -t));
        for (
          var i,
            r = this.getPrecision(e),
            o = this.getSubdivisions(e),
            s = 0,
            a = 0,
            l = this.segments.length;
          a < l;
          a += 1
        ) {
          var u = n ? a : l - 1 - a,
            c = this.segments[u],
            h = o[u],
            p = c.length({ precision: r, subdivisions: h });
          if (c.isVisible) {
            if (t <= s + p)
              return c.pointAtLength((n ? 1 : -1) * (t - s), {
                precision: r,
                subdivisions: h,
              });
            i = c;
          }
          s += p;
        }
        return i
          ? n
            ? i.end
            : i.start
          : this.segments[this.segments.length - 1].end.clone();
      }),
      (i.prototype.pointAtT = function (t) {
        var e = this.segments,
          n = e.length;
        if (0 === n) return null;
        var i = t.segmentIndex;
        if (i < 0) return e[0].pointAtT(0);
        if (i >= n) return e[n - 1].pointAtT(1);
        var r = ai(t.value, 0, 1);
        return e[i].pointAtT(r);
      }),
      (i.prototype.divideAt = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        var n = ai(t, 0, 1),
          i = this.getOptions(e),
          r = this.length(i) * n;
        return this.divideAtLength(r, i);
      }),
      (i.prototype.divideAtLength = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        var n = !0;
        t < 0 && ((n = !1), (t = -t));
        for (
          var r,
            o,
            s,
            a,
            l,
            u = this.getPrecision(e),
            c = this.getSubdivisions(e),
            h = 0,
            p = 0,
            d = this.segments.length;
          p < d;
          p += 1
        ) {
          var f = n ? p : d - 1 - p,
            g = this.getSegment(f),
            $ = { precision: u, subdivisions: c[f] },
            v = g.length($);
          if (g.isDifferentiable() && ((s = g), (a = f), t <= h + v)) {
            (o = f), (r = g.divideAtLength((n ? 1 : -1) * (t - h), $));
            break;
          }
          h += v;
        }
        if (!s) return null;
        r || ((o = a), (l = n ? 1 : 0), (r = s.divideAtT(l)));
        var y = this.clone(),
          m = o;
        y.replaceSegment(m, r);
        var _ = m,
          C = m + 1,
          b = m + 2;
        r[0].isDifferentiable() || (y.removeSegment(_), (C -= 1), (b -= 1));
        var x = y.getSegment(C).start;
        y.insertSegment(C, i.createSegment('M', x)),
          (b += 1),
          r[1].isDifferentiable() || (y.removeSegment(b - 1), (b -= 1));
        var w = b - _ - 1;
        for (p = b, d = y.segments.length; p < d; p += 1) {
          var P = this.getSegment(p - w);
          if (
            'Z' === (g = y.getSegment(p)).type &&
            !P.subpathStartSegment.end.equals(g.subpathStartSegment.end)
          ) {
            var A = i.createSegment('L', P.end);
            y.replaceSegment(p, A);
          }
        }
        return [new i(y.segments.slice(0, C)), new i(y.segments.slice(C))];
      }),
      (i.prototype.intersectsWithLine = function (t, e) {
        void 0 === e && (e = {});
        var n = this.toPolylines(e);
        if (null == n) return null;
        for (var i = null, r = 0, o = n.length; r < o; r += 1) {
          var s = n[r],
            a = t.intersect(s);
          a &&
            (null == i && (i = []),
            Array.isArray(a) ? i.push.apply(i, a) : i.push(a));
        }
        return i;
      }),
      (i.prototype.isDifferentiable = function () {
        for (var t = 0, e = this.segments.length; t < e; t += 1)
          if (this.segments[t].isDifferentiable()) return !0;
        return !1;
      }),
      (i.prototype.isValid = function () {
        var t = this.segments;
        return 0 === t.length || 'M' === t[0].type;
      }),
      (i.prototype.length = function (t) {
        if ((void 0 === t && (t = {}), 0 === this.segments.length)) return 0;
        for (
          var e = this.getSubdivisions(t),
            n = 0,
            i = 0,
            r = this.segments.length;
          i < r;
          i += 1
        ) {
          var o = this.segments[i],
            s = e[i];
          n += o.length({ subdivisions: s });
        }
        return n;
      }),
      (i.prototype.lengthAtT = function (t, e) {
        void 0 === e && (e = {});
        var n = this.segments.length;
        if (0 === n) return 0;
        var i = t.segmentIndex;
        if (i < 0) return 0;
        var r = ai(t.value, 0, 1);
        i >= n && ((i = n - 1), (r = 1));
        for (
          var o = this.getPrecision(e),
            s = this.getSubdivisions(e),
            a = 0,
            l = 0;
          l < i;
          l += 1
        ) {
          var u = this.segments[l],
            c = s[l];
          a += u.length({ precision: o, subdivisions: c });
        }
        var h = this.segments[i],
          p = s[i];
        return a + h.lengthAtT(r, { precision: o, subdivisions: p });
      }),
      (i.prototype.tangentAt = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        var n = ai(t, 0, 1),
          i = this.getOptions(e),
          r = this.length(i) * n;
        return this.tangentAtLength(r, i);
      }),
      (i.prototype.tangentAtLength = function (t, e) {
        if ((void 0 === e && (e = {}), 0 === this.segments.length)) return null;
        var n = !0;
        t < 0 && ((n = !1), (t = -t));
        for (
          var i,
            r = this.getPrecision(e),
            o = this.getSubdivisions(e),
            s = 0,
            a = 0,
            l = this.segments.length;
          a < l;
          a += 1
        ) {
          var u = n ? a : l - 1 - a,
            c = this.segments[u],
            h = o[u],
            p = c.length({ precision: r, subdivisions: h });
          if (c.isDifferentiable()) {
            if (t <= s + p)
              return c.tangentAtLength((n ? 1 : -1) * (t - s), {
                precision: r,
                subdivisions: h,
              });
            i = c;
          }
          s += p;
        }
        if (i) {
          var d = n ? 1 : 0;
          return i.tangentAtT(d);
        }
        return null;
      }),
      (i.prototype.tangentAtT = function (t) {
        var e = this.segments.length;
        if (0 === e) return null;
        var n = t.segmentIndex;
        if (n < 0) return this.segments[0].tangentAtT(0);
        if (n >= e) return this.segments[e - 1].tangentAtT(1);
        var i = ai(t.value, 0, 1);
        return this.segments[n].tangentAtT(i);
      }),
      (i.prototype.getPrecision = function (t) {
        return (
          void 0 === t && (t = {}),
          null == t.precision ? this.PRECISION : t.precision
        );
      }),
      (i.prototype.getSubdivisions = function (t) {
        if ((void 0 === t && (t = {}), null == t.segmentSubdivisions)) {
          var e = this.getPrecision(t);
          return this.getSegmentSubdivisions({ precision: e });
        }
        return t.segmentSubdivisions;
      }),
      (i.prototype.getOptions = function (t) {
        return (
          void 0 === t && (t = {}),
          {
            precision: this.getPrecision(t),
            segmentSubdivisions: this.getSubdivisions(t),
          }
        );
      }),
      (i.prototype.toPoints = function (t) {
        void 0 === t && (t = {});
        var e = this.segments,
          n = e.length;
        if (0 === n) return null;
        for (
          var i = this.getSubdivisions(t), r = [], o = [], s = 0;
          s < n;
          s += 1
        ) {
          var a = e[s];
          if (a.isVisible) {
            var l = i[s];
            l.length > 0
              ? l.forEach(function (t) {
                  return o.push(t.start);
                })
              : o.push(a.start);
          } else o.length > 0 && (o.push(e[s - 1].end), r.push(o), (o = []));
        }
        return o.length > 0 && (o.push(this.end), r.push(o)), r;
      }),
      (i.prototype.toPolylines = function (e) {
        void 0 === e && (e = {});
        var n = this.toPoints(e);
        return n
          ? n.map(function (e) {
              return new t.Polyline(e);
            })
          : null;
      }),
      (i.prototype.scale = function (t, e, n) {
        return (
          this.segments.forEach(function (i) {
            return i.scale(t, e, n);
          }),
          this
        );
      }),
      (i.prototype.rotate = function (t, e) {
        return (
          this.segments.forEach(function (n) {
            return n.rotate(t, e);
          }),
          this
        );
      }),
      (i.prototype.translate = function (t, e) {
        return (
          'number' == typeof t
            ? this.segments.forEach(function (n) {
                return n.translate(t, e);
              })
            : this.segments.forEach(function (e) {
                return e.translate(t);
              }),
          this
        );
      }),
      (i.prototype.clone = function () {
        var t = new i();
        return (
          this.segments.forEach(function (e) {
            return t.appendSegment(e.clone());
          }),
          t
        );
      }),
      (i.prototype.equals = function (t) {
        if (null == t) return !1;
        var e = this.segments,
          n = t.segments,
          i = e.length;
        if (n.length !== i) return !1;
        for (var r = 0; r < i; r += 1) {
          var o = e[r],
            s = n[r];
          if (o.type !== s.type || !o.equals(s)) return !1;
        }
        return !0;
      }),
      (i.prototype.toJSON = function () {
        return this.segments.map(function (t) {
          return t.toJSON();
        });
      }),
      (i.prototype.serialize = function () {
        if (!this.isValid()) throw Error('Invalid path segments.');
        return this.segments
          .map(function (t) {
            return t.serialize();
          })
          .join(' ');
      }),
      (i.prototype.toString = function () {
        return this.serialize();
      }),
      i
    );
  })(a$)),
    ((lC = t.Path || (t.Path = {})).toStringTag = 'X6.Geometry.' + lC.name),
    (lC.isPath = function (t) {
      if (null == t) return !1;
      if (t instanceof lC) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return !(
        (null != e && e !== lC.toStringTag) ||
        !Array.isArray(n.segments) ||
        'function' != typeof n.moveTo ||
        'function' != typeof n.lineTo ||
        'function' != typeof n.curveTo
      );
    }),
    (function (t) {
      function e(t) {
        for (var e, n, i, r = [], o = 1; o < arguments.length; o++)
          r[o - 1] = arguments[o];
        if ('M' === t) return (e = ab.create).call.apply(e, s([null], r, !1));
        if ('L' === t) return (n = ay.create).call.apply(n, s([null], r, !1));
        if ('C' === t) return (i = ax.create).call.apply(i, s([null], r, !1));
        if ('z' === t || 'Z' === t) return a_.create();
        throw Error('Invalid path segment type "' + t + '"');
      }
      (t.parse = function (n) {
        if (!n) return new t();
        var i = new t(),
          r = t
            .normalize(n)
            .match(
              /(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g
            );
        if (null != r)
          for (var o = 0, a = r.length; o < a; o += 1) {
            var l = r[o].match(
              /(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g
            );
            if (null != l) {
              var u = l[0],
                c = l.slice(1).map(function (t) {
                  return +t;
                }),
                h = e.call.apply(e, s([null, u], c, !1));
              i.appendSegment(h);
            }
          }
        return i;
      }),
        (t.createSegment = e);
    })(t.Path || (t.Path = {})),
    ((lb = t.Path || (t.Path = {})).normalize = function t(e) {
      return (function t(e) {
        var n = (function t(e) {
            var n = (function (t) {
              if (!t) return null;
              var e = '	\n\v\f\r  áá ââââââââââââ¯âã\u2028\u2029',
                n = RegExp(
                  '([a-z])[' +
                    e +
                    ',]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[' +
                    e +
                    ']*,?[' +
                    e +
                    ']*)+)',
                  'ig'
                ),
                i = RegExp(
                  '(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[' + e + ']*,?[' + e + ']*',
                  'ig'
                ),
                r = {
                  a: 7,
                  c: 6,
                  h: 1,
                  l: 2,
                  m: 2,
                  q: 4,
                  s: 4,
                  t: 2,
                  v: 1,
                  z: 0,
                },
                o = [];
              return (
                t.replace(n, function (t, e, n) {
                  var a = [],
                    l = e.toLowerCase();
                  n.replace(i, function (t, e) {
                    return e && a.push(+e), t;
                  }),
                    'm' === l &&
                      a.length > 2 &&
                      (o.push(s([e], a.splice(0, 2), !0)),
                      (l = 'l'),
                      (e = 'm' === e ? 'l' : 'L'));
                  for (
                    var u = r[l];
                    a.length >= u && (o.push(s([e], a.splice(0, u), !0)), u);

                  );
                  return t;
                }),
                o
              );
            })(e);
            if (!n || !n.length) return [['M', 0, 0]];
            for (
              var i = 0, r = 0, o = 0, a = 0, l = [], u = 0, c = n.length;
              u < c;
              u += 1
            ) {
              var h = [];
              l.push(h);
              var p = n[u],
                d = p[0];
              if (d !== d.toUpperCase())
                switch (((h[0] = d.toUpperCase()), h[0])) {
                  case 'A':
                    (h[1] = p[1]),
                      (h[2] = p[2]),
                      (h[3] = p[3]),
                      (h[4] = p[4]),
                      (h[5] = p[5]),
                      (h[6] = +p[6] + i),
                      (h[7] = +p[7] + r);
                    break;
                  case 'V':
                    h[1] = +p[1] + r;
                    break;
                  case 'H':
                    h[1] = +p[1] + i;
                    break;
                  case 'M':
                    (o = +p[1] + i), (a = +p[2] + r);
                    for (var f = 1, g = p.length; f < g; f += 1)
                      h[f] = +p[f] + (f % 2 ? i : r);
                    break;
                  default:
                    for (f = 1, g = p.length; f < g; f += 1)
                      h[f] = +p[f] + (f % 2 ? i : r);
                }
              else for (f = 0, g = p.length; f < g; f += 1) h[f] = p[f];
              switch (h[0]) {
                case 'Z':
                  (i = +o), (r = +a);
                  break;
                case 'H':
                  i = h[1];
                  break;
                case 'V':
                  r = h[1];
                  break;
                case 'M':
                  (o = h[h.length - 2]),
                    (a = h[h.length - 1]),
                    (i = h[h.length - 2]),
                    (r = h[h.length - 1]);
                  break;
                default:
                  (i = h[h.length - 2]), (r = h[h.length - 1]);
              }
            }
            return l;
          })(e),
          i = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null };
        function r(t, e, n) {
          var i, r;
          if (!t) return ['C', e.x, e.y, e.x, e.y, e.x, e.y];
          switch (
            (t[0] in { T: 1, Q: 1 } || ((e.qx = null), (e.qy = null)), t[0])
          ) {
            case 'M':
              (e.X = t[1]), (e.Y = t[2]);
              break;
            case 'A':
              return 0 === parseFloat(t[1]) || 0 === parseFloat(t[2])
                ? ['L', t[6], t[7]]
                : ['C'].concat(
                    function t(e, n, i, r, o, s, a, l, u, c) {
                      var h,
                        p,
                        d,
                        f,
                        g,
                        $ = (120 * Math.PI) / 180,
                        v = (Math.PI / 180) * (+o || 0),
                        y = [];
                      if (c) (p = c[0]), (d = c[1]), (f = c[2]), (g = c[3]);
                      else {
                        (e = (h = aw(e, n, -v)).x), (n = h.y);
                        var m = (e - (l = (h = aw(l, u, -v)).x)) / 2,
                          _ = (n - (u = h.y)) / 2,
                          C = (m * m) / (i * i) + (_ * _) / (r * r);
                        C > 1 && ((i *= C = Math.sqrt(C)), (r *= C));
                        var b = i * i,
                          x = r * r,
                          w =
                            (s === a ? -1 : 1) *
                            Math.sqrt(
                              Math.abs(
                                (b * x - b * _ * _ - x * m * m) /
                                  (b * _ * _ + x * m * m)
                              )
                            );
                        (f = (w * i * _) / r + (e + l) / 2),
                          (g = (-(w * r) * m) / i + (n + u) / 2),
                          (p = Math.asin((n - g) / r)),
                          (d = Math.asin((u - g) / r)),
                          (p = e < f ? Math.PI - p : p),
                          (d = l < f ? Math.PI - d : d),
                          p < 0 && (p = 2 * Math.PI + p),
                          d < 0 && (d = 2 * Math.PI + d),
                          a && p > d && (p -= 2 * Math.PI),
                          !a && d > p && (d -= 2 * Math.PI);
                      }
                      var P = d - p;
                      if (Math.abs(P) > $) {
                        var A = d,
                          E = l,
                          S = u;
                        y = t(
                          (l =
                            f +
                            i * Math.cos((d = p + $ * (a && d > p ? 1 : -1)))),
                          (u = g + r * Math.sin(d)),
                          i,
                          r,
                          o,
                          0,
                          a,
                          E,
                          S,
                          [d, A, f, g]
                        );
                      }
                      var k = Math.cos(p),
                        T = Math.sin(p),
                        M = Math.cos(d),
                        D = Math.sin(d),
                        N = Math.tan((P = d - p) / 4),
                        L = (4 / 3) * (i * N),
                        F = (4 / 3) * (r * N),
                        z = [e, n],
                        B = [e + L * T, n - F * k],
                        O = [l + L * D, u - F * M],
                        V = [l, u];
                      if (
                        ((B[0] = 2 * z[0] - B[0]), (B[1] = 2 * z[1] - B[1]), c)
                      )
                        return [B, O, V].concat(y);
                      for (
                        var R = [],
                          I = (y = [B, O, V].concat(y).join().split(','))
                            .length,
                          G = 0;
                        G < I;
                        G += 1
                      )
                        R[G] =
                          G % 2
                            ? aw(+y[G - 1], +y[G], v).y
                            : aw(+y[G], +y[G + 1], v).x;
                      return R;
                    }.apply(0, [e.x, e.y].concat(t.slice(1)))
                  );
            case 'S':
              return (
                'C' === n || 'S' === n
                  ? ((i = 2 * e.x - e.bx), (r = 2 * e.y - e.by))
                  : ((i = e.x), (r = e.y)),
                ['C', i, r].concat(t.slice(1))
              );
            case 'T':
              return (
                'Q' === n || 'T' === n
                  ? ((e.qx = 2 * e.x - e.qx), (e.qy = 2 * e.y - e.qy))
                  : ((e.qx = e.x), (e.qy = e.y)),
                ['C'].concat(a1(e.x, e.y, e.qx, e.qy, t[1], t[2]))
              );
            case 'Q':
              return (
                (e.qx = t[1]),
                (e.qy = t[2]),
                ['C'].concat(a1(e.x, e.y, t[1], t[2], t[3], t[4]))
              );
            case 'H':
              return ['L'].concat(t[1], e.y);
            case 'V':
              return ['L'].concat(e.x, t[1]);
          }
          return t;
        }
        function o(t, e) {
          if (t[e].length > 7) {
            t[e].shift();
            for (var i = t[e]; i.length; )
              (a[e] = 'A'),
                (e += 1),
                t.splice(e, 0, ['C'].concat(i.splice(0, 6)));
            t.splice(e, 1), (u = n.length);
          }
        }
        for (var a = [], l = '', u = n.length, c = 0; c < u; c += 1) {
          var h = '';
          n[c] && (h = n[c][0]),
            'C' !== h && ((a[c] = h), c > 0 && (l = a[c - 1])),
            (n[c] = r(n[c], i, l)),
            'A' !== a[c] && 'C' === h && (a[c] = 'C'),
            o(n, c);
          var p = n[c],
            d = p.length;
          (i.x = p[d - 2]),
            (i.y = p[d - 1]),
            (i.bx = parseFloat(p[d - 4]) || i.x),
            (i.by = parseFloat(p[d - 3]) || i.y);
        }
        return (n[0][0] && 'M' === n[0][0]) || n.unshift(['M', 0, 0]), n;
      })(e)
        .map(function (t) {
          return t.map(function (t) {
            return 'string' == typeof t ? t : ae(t, 2);
          });
        })
        .join(',')
        .split(',')
        .join(' ');
    }),
    (lb.isValid = function t(e) {
      return 'string' == typeof e && aP.test(e);
    }),
    (lb.drawArc = function t(e, n, i, r, o, s, a, l, u) {
      void 0 === o && (o = 0), void 0 === s && (s = 0), void 0 === a && (a = 0);
      var c = [],
        h = aS(e, n, i, r, o, s, a, l, u);
      if (null != h)
        for (var p = 0, d = h.length; p < d; p += 6)
          c.push('C', h[p], h[p + 1], h[p + 2], h[p + 3], h[p + 4], h[p + 5]);
      return c.join(' ');
    }),
    (lb.drawPoints = aE),
    (lb.arcToCurves = aS),
    (t.Vector = (function () {
      function e(t, n, i) {
        if (!t) throw TypeError('Invalid element to create vector');
        if (e.isVector(t)) r = t.node;
        else if ('string' == typeof t) {
          if ('svg' === t.toLowerCase()) r = sm();
          else if ('<' === t[0]) {
            var r,
              o = sm(t);
            r = document.importNode(o.firstChild, !0);
          } else r = document.createElementNS(sg.svg, t);
        } else r = t;
        (this.node = r), n && this.setAttributes(n), i && this.append(i);
      }
      return (
        Object.defineProperty(e.prototype, Symbol.toStringTag, {
          get: function () {
            return e.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'type', {
          get: function () {
            return this.node.nodeName;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'id', {
          get: function () {
            return this.node.id;
          },
          set: function (t) {
            this.node.id = t;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.transform = function (t, e) {
          return null == t ? l$(this.node) : (l$(this.node, t, e), this);
        }),
        (e.prototype.translate = function (t, e, n) {
          return (
            void 0 === e && (e = 0),
            void 0 === n && (n = {}),
            null == t ? l0(this.node) : (l0(this.node, t, e, n), this)
          );
        }),
        (e.prototype.rotate = function (t, e, n, i) {
          return (
            void 0 === i && (i = {}),
            null == t ? lv(this.node) : (lv(this.node, t, e, n, i), this)
          );
        }),
        (e.prototype.scale = function (t, e) {
          return null == t ? ly(this.node) : (ly(this.node, t, e), this);
        }),
        (e.prototype.getTransformToElement = function (t) {
          var n = e.toNode(t);
          return la(this.node, n);
        }),
        (e.prototype.removeAttribute = function (t) {
          return sL(this.node, t), this;
        }),
        (e.prototype.getAttribute = function (t) {
          return sN(this.node, t);
        }),
        (e.prototype.setAttribute = function (t, e) {
          return s5(this.node, t, e), this;
        }),
        (e.prototype.setAttributes = function (t) {
          return s6(this.node, t), this;
        }),
        (e.prototype.attr = function (t, e) {
          return null == t
            ? s7(this.node)
            : 'string' == typeof t && void 0 === e
            ? s7(this.node, t)
            : ('object' == typeof t ? s7(this.node, t) : s7(this.node, t, e),
              this);
        }),
        (e.prototype.svg = function () {
          return this.node instanceof SVGSVGElement
            ? this
            : e.create(this.node.ownerSVGElement);
        }),
        (e.prototype.defs = function () {
          var t = this.svg() || this,
            n = t.node.getElementsByTagName('defs')[0];
          return n ? e.create(n) : e.create('defs').appendTo(t);
        }),
        (e.prototype.text = function (t, e) {
          return void 0 === e && (e = {}), a3(this.node, t, e), this;
        }),
        (e.prototype.tagName = function () {
          return sC(this.node);
        }),
        (e.prototype.clone = function () {
          return e.create(this.node.cloneNode(!0));
        }),
        (e.prototype.remove = function () {
          return sA(this.node), this;
        }),
        (e.prototype.empty = function () {
          return sE(this.node), this;
        }),
        (e.prototype.append = function (t) {
          return sS(this.node, e.toNodes(t)), this;
        }),
        (e.prototype.appendTo = function (t) {
          return sT(this.node, e.isVector(t) ? t.node : t), this;
        }),
        (e.prototype.prepend = function (t) {
          return sk(this.node, e.toNodes(t)), this;
        }),
        (e.prototype.before = function (t) {
          return s4(this.node, e.toNodes(t)), this;
        }),
        (e.prototype.replace = function (t) {
          return (
            this.node.parentNode &&
              this.node.parentNode.replaceChild(e.toNode(t), this.node),
            e.create(t)
          );
        }),
        (e.prototype.first = function () {
          return this.node.firstChild ? e.create(this.node.firstChild) : null;
        }),
        (e.prototype.last = function () {
          return this.node.lastChild ? e.create(this.node.lastChild) : null;
        }),
        (e.prototype.get = function (t) {
          var n = this.node.childNodes[t];
          return n ? e.create(n) : null;
        }),
        (e.prototype.indexOf = function (t) {
          return Array.prototype.slice
            .call(this.node.childNodes)
            .indexOf(e.toNode(t));
        }),
        (e.prototype.find = function (t) {
          var n = [],
            i = sx(this.node, t);
          if (i)
            for (var r = 0, o = i.length; r < o; r += 1) n.push(e.create(i[r]));
          return n;
        }),
        (e.prototype.findOne = function (t) {
          var n = sw(this.node, t);
          return n ? e.create(n) : null;
        }),
        (e.prototype.findParentByClass = function (t, n) {
          var i = s1(this.node, t, n);
          return i ? e.create(i) : null;
        }),
        (e.prototype.matches = function (t) {
          var e = this.node;
          this.node.matches;
          var n =
            e.matches ||
            e.matchesSelector ||
            e.msMatchesSelector ||
            e.mozMatchesSelector ||
            e.webkitMatchesSelector ||
            e.oMatchesSelector ||
            null;
          return n && n.call(e, t);
        }),
        (e.prototype.contains = function (t) {
          return sP(this.node, e.isVector(t) ? t.node : t);
        }),
        (e.prototype.wrap = function (t) {
          var n = e.create(t),
            i = this.node.parentNode;
          return null != i && i.insertBefore(n.node, this.node), n.append(this);
        }),
        (e.prototype.parent = function (t) {
          var n = this;
          if (null == n.node.parentNode) return null;
          if (((n = e.create(n.node.parentNode)), null == t)) return n;
          do if ('string' == typeof t ? n.matches(t) : n instanceof t) break;
          while ((n = e.create(n.node.parentNode)));
          return n;
        }),
        (e.prototype.children = function () {
          for (
            var t = this.node.childNodes, n = [], i = 0;
            i < t.length;
            i += 1
          )
            1 === t[i].nodeType && n.push(e.create(t[i]));
          return n;
        }),
        (e.prototype.eachChild = function (t, e) {
          for (var n = this.children(), i = 0, r = n.length; i < r; i += 1)
            t.call(n[i], n[i], i, n), e && n[i].eachChild(t, e);
          return this;
        }),
        (e.prototype.index = function () {
          return sb(this.node);
        }),
        (e.prototype.hasClass = function (t) {
          return sa(this.node, t);
        }),
        (e.prototype.addClass = function (t) {
          return sl(this.node, t), this;
        }),
        (e.prototype.removeClass = function (t) {
          return su(this.node, t), this;
        }),
        (e.prototype.toggleClass = function (t, e) {
          return sc(this.node, t, e), this;
        }),
        (e.prototype.toLocalPoint = function (t, e) {
          return ll(this.node, t, e);
        }),
        (e.prototype.toGeometryShape = function () {
          return lu(this.node);
        }),
        (e.prototype.translateCenterToPoint = function (t) {
          var e = this.getBBox({ target: this.svg() }).getCenter();
          return this.translate(t.x - e.x, t.y - e.y), this;
        }),
        (e.prototype.translateAndAutoOrient = function (t, e, n) {
          return lm(this.node, t, e, n), this;
        }),
        (e.prototype.animate = function (t) {
          return lc(this.node, t);
        }),
        (e.prototype.animateTransform = function (t) {
          return lh(this.node, t);
        }),
        (e.prototype.animateAlongPath = function (t, e) {
          return lf(this.node, t, e);
        }),
        (e.prototype.normalizePath = function () {
          return (
            'path' === this.tagName() &&
              this.attr('d', t.Path.normalize(this.attr('d'))),
            this
          );
        }),
        (e.prototype.bbox = function (t, e) {
          return lo(this.node, t, e);
        }),
        (e.prototype.getBBox = function (t) {
          return (
            void 0 === t && (t = {}),
            ls(this.node, {
              recursive: t.recursive,
              target: t.target ? e.toNode(t.target) : null,
            })
          );
        }),
        (e.prototype.sample = function (t) {
          return (
            void 0 === t && (t = 1),
            this.node instanceof SVGPathElement ? aN(this.node, t) : []
          );
        }),
        (e.prototype.toPath = function () {
          return e.create(aR(this.node));
        }),
        (e.prototype.toPathData = function () {
          return aI(this.node);
        }),
        e
      );
    })()),
    (function (t) {
      function e(e) {
        if (null == e) return !1;
        if (e instanceof t) return !0;
        var n = e[Symbol.toStringTag],
          i = e;
        return (
          (null == n || n === t.toStringTag) &&
          i.node instanceof SVGElement &&
          'function' == typeof i.animate &&
          'function' == typeof i.sample &&
          'function' == typeof i.normalizePath &&
          'function' == typeof i.toPath
        );
      }
      function n(e, n, i) {
        return new t(e, n, i);
      }
      function i(t) {
        return e(t) ? t.node : t;
      }
      (t.toStringTag = 'X6.' + t.name),
        (t.isVector = e),
        (t.create = n),
        (t.createVectors = function (t) {
          if ('<' === t[0]) {
            for (
              var e = sm(t), i = [], r = 0, o = e.childNodes.length;
              r < o;
              r += 1
            ) {
              var s = e.childNodes[r];
              i.push(n(document.importNode(s, !0)));
            }
            return i;
          }
          return [n(t)];
        }),
        (t.toNode = i),
        (t.toNodes = function (t) {
          return Array.isArray(t)
            ? t.map(function (t) {
                return i(t);
              })
            : [i(t)];
        });
    })(t.Vector || (t.Vector = {}));
  var a4 = /em$/;
  function aT(t, e) {
    var n = parseFloat(t);
    return a4.test(t) ? n * e : n;
  }
  function a3(e, n, i) {
    void 0 === i && (i = {}), (n = sR(n));
    var r = i.eol,
      o = i.textPath,
      s = i.textVerticalAnchor,
      a = 'middle' === s || 'bottom' === s || 'top' === s,
      l = i.x;
    void 0 === l && (l = e.getAttribute('x') || 0);
    var u = i.includeAnnotationIndices,
      c = i.annotations;
    c && !Array.isArray(c) && (c = [c]);
    var h = i.lineHeight,
      p = 'auto' === h,
      d = p ? '1.5em' : h || '1em';
    sE(e),
      s7(e, {
        'xml:space': 'preserve',
        display: n || i.displayEmpty ? null : 'none',
      });
    var f,
      g,
      $ = s7(e, 'font-size'),
      v = parseFloat($);
    v || ((v = 16), (a || c) && !$ && s7(e, 'font-size', '' + v)),
      o
        ? ('string' == typeof o && (o = { d: o }),
          (f = (function (e, n) {
            var i = t.Vector.create(n),
              r = t.Vector.create('textPath'),
              o = e.d;
            if (o && void 0 === e['xlink:href']) {
              var s = t.Vector.create('path').attr('d', o).appendTo(i.defs());
              r.attr('xlink:href', '#' + s.id);
            }
            return 'object' == typeof e && r.attr(e), r.node;
          })(o, e)))
        : (f = document.createDocumentFragment());
    for (
      var y, m = 0, _ = n.split('\n'), C = [], b = _.length - 1, x = 0;
      x <= b;
      x += 1
    ) {
      g = d;
      var w = 'v-line',
        P = sy('tspan'),
        A = void 0,
        E = _[x];
      if (E) {
        if (c) {
          var S = (A = ak(
            P,
            sV(E, c, { offset: -m, includeAnnotationIndices: u }),
            {
              eol: x !== b && r,
              baseSize: v,
              lineHeight: p ? null : d,
              includeAnnotationIndices: u,
            }
          )).lineHeight;
          S && p && 0 !== x && (g = S), 0 === x && (y = 0.8 * A.maxFontSize);
        } else r && x !== b && (E += r), (P.textContent = E);
      } else {
        (P.textContent = '-'), (w += ' v-empty-line');
        var k = P.style;
        (k.fillOpacity = 0), (k.strokeOpacity = 0), c && (A = {});
      }
      A && C.push(A),
        x > 0 && P.setAttribute('dy', g),
        (x > 0 || o) && P.setAttribute('x', l),
        (P.className.baseVal = w),
        f.appendChild(P),
        (m += E.length + 1);
    }
    if (a) {
      if (c)
        g = (function (t, e, n, i) {
          if (!Array.isArray(e)) return 0;
          var r = e.length;
          if (!r) return 0;
          for (
            var o = e[0],
              s = aT(o.maxFontSize, n) || n,
              a = 0,
              l = aT(i, n),
              u = 1;
            u < r;
            u += 1
          )
            a += aT((o = e[u]).lineHeight, n) || l;
          var c,
            h = aT(o.maxFontSize, n) || n;
          switch (t) {
            case 'middle':
              c = s / 2 - 0.15 * h - a / 2;
              break;
            case 'bottom':
              c = -0.25 * h - a;
              break;
            default:
              c = 0.8 * s;
          }
          return c;
        })(s, C, v, d);
      else if ('top' === s) g = '0.8em';
      else {
        var T = void 0;
        switch (
          (b > 0
            ? ((T = parseFloat(d) || 1), (T *= b), a4.test(d) || (T /= v))
            : (T = 0),
          s)
        ) {
          case 'middle':
            g = 0.3 - T / 2 + 'em';
            break;
          case 'bottom':
            g = -T - 0.3 + 'em';
        }
      }
    } else 0 === s ? (g = '0em') : s ? (g = s) : ((g = 0), null == e.getAttribute('y') && e.setAttribute('y', '' + (y || '0.8em')));
    f.firstChild.setAttribute('dy', g), e.appendChild(f);
  }
  function aM(e, n, i, r) {
    void 0 === i && (i = {}), void 0 === r && (r = {});
    var o = n.width,
      a = n.height,
      l = r.svgDocument || sy('svg'),
      u = sy('text'),
      c = sy('tspan'),
      h = document.createTextNode('');
    s7(u, i),
      u.appendChild(c),
      (u.style.opacity = '0'),
      (u.style.display = 'block'),
      (c.style.display = 'block'),
      c.appendChild(h),
      l.appendChild(u);
    var p = null == l.parentNode;
    p && document.body.appendChild(l);
    for (
      var d,
        f,
        g,
        $ = r.eol || '\n',
        v = r.separator || ' ',
        y = r.hyphen ? RegExp(r.hyphen) : /[^\w\d]/,
        m = !1 !== r.breakWord,
        _ = [],
        C = {},
        b = [],
        x = (function (t, e, n, i) {
          var r = [],
            o = [];
          if (null != e) {
            var a = t.split(e);
            if ((r.push.apply(r, a), 'string' == typeof e))
              for (var l = 0, u = a.length - 1; l < u; l += 1) o.push(e);
            else {
              var c = t.match(RegExp(e, 'g'));
              for (l = 0, u = a.length - 1; l < u; l += 1)
                o.push(c ? c[l] : '');
            }
          } else {
            var h = '';
            for (l = 0, u = t.length; l < u; l += 1) {
              var p = t[l];
              ' ' === p
                ? (r.push(h), o.push(' '), (h = ''))
                : p.match(/[^\x00-\xff]/)
                ? (h.length && (r.push(h), o.push('')),
                  r.push(p),
                  o.push(''),
                  (h = ''))
                : (h += p);
            }
            h.length && r.push(h);
          }
          for (l = 0; l < r.length; l += 1)
            if ((h = r[l]).indexOf(n) >= 0 && h.length > 1) {
              for (var d = 0, f = (a = h.split(n)).length - 1; d < f; d += 1)
                a.splice(2 * d + 1, 0, n);
              var g = a.filter(function (t) {
                return '' !== t;
              });
              r.splice.apply(r, s([l, 1], g, !1)),
                (c = g.map(function () {
                  return '';
                })).pop(),
                o.splice.apply(o, s([l, 0], c, !1));
            }
          for (l = 0; l < r.length; l += 1) {
            var $ = (h = r[l]).search(i);
            $ > 0 &&
              $ < h.length - 1 &&
              (r.splice(l, 1, h.substring(0, $ + 1), h.substring($ + 1)),
              o.splice(l, 0, ''));
          }
          return { words: r, separators: o };
        })(e, r.separator, $, y),
        w = x.words,
        P = x.separators,
        A = 0,
        E = 0,
        S = w.length;
      A < S;
      A += 1
    ) {
      var k = w[A];
      if (k) {
        if (k !== $) {
          if (
            (null != b[E]
              ? ((g = P[A - 1] || ''), (h.data = '' + b[E] + g + k))
              : (h.data = k),
            c.getComputedTextLength() <= o)
          )
            (b[E] = h.data),
              (C[E] = P[A]),
              d && ((_[E] = !0), (E += 1), (d = 0));
          else {
            if (m) {
              if (!b[E] || d) {
                var T = !!d,
                  M = 1 === k.length;
                if (((d = k.length - 1), T || M)) {
                  if (M) {
                    if (!b[E]) {
                      b = [];
                      break;
                    }
                    w.splice(A, 2, k + w[A + 1]),
                      P.splice(A + 1, 1),
                      (_[E] = !0),
                      (E += 1),
                      (S -= 1),
                      (A -= 1);
                    continue;
                  }
                  (w[A] = k.substring(0, d)),
                    (w[A + 1] = k.substring(d) + w[A + 1]);
                } else
                  w.splice(A, 1, k.substring(0, d), k.substring(d)),
                    P.splice(A, 0, ''),
                    (S += 1),
                    E && !_[E - 1] && (E -= 1);
                A -= 1;
                continue;
              }
            } else if (!b[E]) {
              (b[E] = k), (_[E] = !0), (E += 1);
              continue;
            }
            (E += 1), (A -= 1);
          }
          if (null != a) {
            if (null == f) {
              var D = void 0;
              (f = (D =
                'auto' === i.lineHeight
                  ? { value: 1.5, unit: 'em' }
                  : oW(i.lineHeight, ['em']) || { value: 1, unit: 'em' })
                .value),
                'em' === D.unit &&
                  (t.Platform.IS_FIREFOX
                    ? (f *= c.getBBox().height)
                    : (f *= u.getBBox().height));
            }
            if (f * b.length > a) {
              var N = Math.floor(a / f) - 1,
                L = b[N],
                F = b[N + 1];
              if ((b.splice(N + 1), null == L)) break;
              var z = r.ellipsis;
              if (!z) break;
              'string' != typeof z && (z = 'â¦');
              var B = L;
              F && m && (B += g + F);
              var O = B.length,
                V = void 0,
                R = void 0;
              do {
                if (
                  ((R = B[O]),
                  (V = B.substring(0, O)),
                  R ? R.match(v) && (V += R) : (V += C[N]),
                  (V += z),
                  (h.data = V),
                  c.getComputedTextLength() <= o)
                ) {
                  b[N] = V;
                  break;
                }
                O -= 1;
              } while (O >= 0);
              break;
            }
          }
        } else (_[E] = !0), (b[(E += 1)] = '');
      }
    }
    return sA(p ? l : u), b.join($);
  }
  var aD = 0.551784;
  function a2(t, e, n) {
    void 0 === n && (n = NaN);
    var i = t.getAttribute(e);
    if (null == i) return n;
    var r = parseFloat(i);
    return Number.isNaN(r) ? n : r;
  }
  function aN(t, e) {
    void 0 === e && (e = 1);
    for (var n, i = t.getTotalLength(), r = [], o = 0; o < i; )
      (n = t.getPointAtLength(o)),
        r.push({ distance: o, x: n.x, y: n.y }),
        (o += e);
    return r;
  }
  function aL(t) {
    return ['M', a2(t, 'x1'), a2(t, 'y1'), 'L', a2(t, 'x2'), a2(t, 'y2')].join(
      ' '
    );
  }
  function a5(t) {
    var e = aF(t);
    return 0 === e.length ? null : a7(e) + ' Z';
  }
  function a6(t) {
    var e = aF(t);
    return 0 === e.length ? null : a7(e);
  }
  function a7(t) {
    return (
      'M ' +
      t
        .map(function (t) {
          return t.x + ' ' + t.y;
        })
        .join(' L')
    );
  }
  function aF(t) {
    var e = [],
      n = t.points;
    if (n)
      for (var i = 0, r = n.numberOfItems; i < r; i += 1) e.push(n.getItem(i));
    return e;
  }
  function az(t) {
    var e = a2(t, 'cx', 0),
      n = a2(t, 'cy', 0),
      i = a2(t, 'r'),
      r = i * aD;
    return [
      'M',
      e,
      n - i,
      'C',
      e + r,
      n - i,
      e + i,
      n - r,
      e + i,
      n,
      'C',
      e + i,
      n + r,
      e + r,
      n + i,
      e,
      n + i,
      'C',
      e - r,
      n + i,
      e - i,
      n + r,
      e - i,
      n,
      'C',
      e - i,
      n - r,
      e - r,
      n - i,
      e,
      n - i,
      'Z',
    ].join(' ');
  }
  function aB(t) {
    var e = a2(t, 'cx', 0),
      n = a2(t, 'cy', 0),
      i = a2(t, 'rx'),
      r = a2(t, 'ry') || i,
      o = i * aD,
      s = r * aD;
    return [
      'M',
      e,
      n - r,
      'C',
      e + o,
      n - r,
      e + i,
      n - s,
      e + i,
      n,
      'C',
      e + i,
      n + s,
      e + o,
      n + r,
      e,
      n + r,
      'C',
      e - o,
      n + r,
      e - i,
      n + s,
      e - i,
      n,
      'C',
      e - i,
      n - s,
      e - o,
      n - r,
      e,
      n - r,
      'Z',
    ].join(' ');
  }
  function aO(t) {
    return aV({
      x: a2(t, 'x', 0),
      y: a2(t, 'y', 0),
      width: a2(t, 'width', 0),
      height: a2(t, 'height', 0),
      rx: a2(t, 'rx', 0),
      ry: a2(t, 'ry', 0),
    });
  }
  function aV(t) {
    var e = t.x,
      n = t.y,
      i = t.width,
      r = t.height,
      o = Math.min(t.rx || t['top-rx'] || 0, i / 2),
      s = Math.min(t.rx || t['bottom-rx'] || 0, i / 2),
      a = Math.min(t.ry || t['top-ry'] || 0, r / 2),
      l = Math.min(t.ry || t['bottom-ry'] || 0, r / 2);
    return (
      o || s || a || l
        ? [
            'M',
            e,
            n + a,
            'v',
            r - a - l,
            'a',
            s,
            l,
            0,
            0,
            0,
            s,
            l,
            'h',
            i - 2 * s,
            'a',
            s,
            l,
            0,
            0,
            0,
            s,
            -l,
            'v',
            -(r - l - a),
            'a',
            o,
            a,
            0,
            0,
            0,
            -o,
            -a,
            'h',
            -(i - 2 * o),
            'a',
            o,
            a,
            0,
            0,
            0,
            -o,
            a,
            'Z',
          ]
        : ['M', e, n, 'H', e + i, 'V', n + r, 'H', e, 'V', n, 'Z']
    ).join(' ');
  }
  function aR(t) {
    var e = sy('path');
    s7(e, s7(t));
    var n = aI(t);
    return n && e.setAttribute('d', n), e;
  }
  function aI(t) {
    var e = t.tagName.toLowerCase();
    switch (e) {
      case 'path':
        return t.getAttribute('d');
      case 'line':
        return aL(t);
      case 'polygon':
        return a5(t);
      case 'polyline':
        return a6(t);
      case 'ellipse':
        return aB(t);
      case 'circle':
        return az(t);
      case 'rect':
        return aO(t);
    }
    throw Error('"' + e + '" cannot be converted to svg path element.');
  }
  function a8(t, e, n, i) {
    var r = t,
      o = e,
      s = n,
      a = i;
    if (a < s) {
      var l = s;
      (s = a), (a = l);
    }
    var u = a - s,
      c = u < Math.PI ? '0' : '1',
      h = Math.cos(s),
      p = Math.sin(s),
      d = Math.cos(a),
      f = Math.sin(a);
    return u >= 2 * Math.PI - 1e-6
      ? r
        ? 'M0,' +
          o +
          'A' +
          o +
          ',' +
          o +
          ' 0 1,1 0,' +
          -o +
          'A' +
          o +
          ',' +
          o +
          ' 0 1,1 0,' +
          o +
          'M0,' +
          r +
          'A' +
          r +
          ',' +
          r +
          ' 0 1,0 0,' +
          -r +
          'A' +
          r +
          ',' +
          r +
          ' 0 1,0 0,' +
          r +
          'Z'
        : 'M0,' +
          o +
          'A' +
          o +
          ',' +
          o +
          ' 0 1,1 0,' +
          -o +
          'A' +
          o +
          ',' +
          o +
          ' 0 1,1 0,' +
          o +
          'Z'
      : r
      ? 'M' +
        o * h +
        ',' +
        o * p +
        'A' +
        o +
        ',' +
        o +
        ' 0 ' +
        c +
        ',1 ' +
        o * d +
        ',' +
        o * f +
        'L' +
        r * d +
        ',' +
        r * f +
        'A' +
        r +
        ',' +
        r +
        ' 0 ' +
        c +
        ',0 ' +
        r * h +
        ',' +
        r * p +
        'Z'
      : 'M' +
        o * h +
        ',' +
        o * p +
        'A' +
        o +
        ',' +
        o +
        ' 0 ' +
        c +
        ',1 ' +
        o * d +
        ',' +
        o * f +
        'L0,0Z';
  }
  var aG = sy('svg'),
    aj = /(\w+)\(([^,)]+),?([^)]+)?\)/gi,
    aH = /[ ,]+/,
    aU = /^(\w+)\((.*)\)/;
  function aq(t, e) {
    var n = aG.createSVGPoint();
    return (n.x = t), (n.y = e), n;
  }
  function a9(t) {
    var e = aG.createSVGMatrix();
    if (null != t) {
      var n = t,
        i = e;
      for (var r in n) i[r] = n[r];
    }
    return e;
  }
  function aW(t) {
    return null != t
      ? (t instanceof DOMMatrix || (t = a9(t)),
        aG.createSVGTransformFromMatrix(t))
      : aG.createSVGTransform();
  }
  function aX(t) {
    var e = a9(),
      n = null != t && t.match(aj);
    if (!n) return e;
    for (var i = 0, r = n.length; i < r; i += 1) {
      var o = n[i].match(aU);
      if (o) {
        var s = void 0,
          a = void 0,
          l = void 0,
          u = void 0,
          c = void 0,
          h = a9(),
          p = o[2].split(aH);
        switch (o[1].toLowerCase()) {
          case 'scale':
            (s = parseFloat(p[0])),
              (a = void 0 === p[1] ? s : parseFloat(p[1])),
              (h = h.scaleNonUniform(s, a));
            break;
          case 'translate':
            (l = parseFloat(p[0])),
              (u = parseFloat(p[1])),
              (h = h.translate(l, u));
            break;
          case 'rotate':
            (c = parseFloat(p[0])),
              (l = parseFloat(p[1]) || 0),
              (u = parseFloat(p[2]) || 0),
              (h =
                0 !== l || 0 !== u
                  ? h.translate(l, u).rotate(c).translate(-l, -u)
                  : h.rotate(c));
            break;
          case 'skewx':
            (c = parseFloat(p[0])), (h = h.skewX(c));
            break;
          case 'skewy':
            (c = parseFloat(p[0])), (h = h.skewY(c));
            break;
          case 'matrix':
            (h.a = parseFloat(p[0])),
              (h.b = parseFloat(p[1])),
              (h.c = parseFloat(p[2])),
              (h.d = parseFloat(p[3])),
              (h.e = parseFloat(p[4])),
              (h.f = parseFloat(p[5]));
            break;
          default:
            continue;
        }
        e = e.multiply(h);
      }
    }
    return e;
  }
  function aY(t) {
    var e = t || {};
    return (
      'matrix(' +
      (null != e.a ? e.a : 1) +
      ',' +
      (null != e.b ? e.b : 0) +
      ',' +
      (null != e.c ? e.c : 0) +
      ',' +
      (null != e.d ? e.d : 1) +
      ',' +
      (null != e.e ? e.e : 0) +
      ',' +
      (null != e.f ? e.f : 0) +
      ')'
    );
  }
  function aJ(t) {
    if (t) {
      var e,
        n,
        i,
        r = aH;
      if (t.trim().indexOf('matrix') >= 0) {
        var o = aK(aX(t));
        (e = [o.translateX, o.translateY]),
          (n = [o.rotation]),
          (i = [o.scaleX, o.scaleY]);
        var s = [];
        (0 === e[0] && 0 === e[1]) || s.push('translate(' + e.join(',') + ')'),
          (1 === i[0] && 1 === i[1]) || s.push('scale(' + i.join(',') + ')'),
          0 !== n[0] && s.push('rotate(' + n[0] + ')'),
          (t = s.join(' '));
      } else {
        var a = t.match(/translate\((.*?)\)/);
        a && (e = a[1].split(r));
        var l = t.match(/rotate\((.*?)\)/);
        l && (n = l[1].split(r));
        var u = t.match(/scale\((.*?)\)/);
        u && (i = u[1].split(r));
      }
    }
    var c = i && i[0] ? parseFloat(i[0]) : 1;
    return {
      raw: t || '',
      translation: {
        tx: e && e[0] ? parseInt(e[0], 10) : 0,
        ty: e && e[1] ? parseInt(e[1], 10) : 0,
      },
      rotation: {
        angle: n && n[0] ? parseInt(n[0], 10) : 0,
        cx: n && n[1] ? parseInt(n[1], 10) : void 0,
        cy: n && n[2] ? parseInt(n[2], 10) : void 0,
      },
      scale: { sx: c, sy: i && i[1] ? parseFloat(i[1]) : c },
    };
  }
  function aZ(t, e) {
    return { x: e.x * t.a + e.y * t.c + 0, y: e.x * t.b + e.y * t.d + 0 };
  }
  function aK(t) {
    var e = aZ(t, { x: 0, y: 1 }),
      n = aZ(t, { x: 1, y: 0 }),
      i = (180 / Math.PI) * Math.atan2(e.y, e.x) - 90;
    return {
      skewX: i,
      skewY: (180 / Math.PI) * Math.atan2(n.y, n.x),
      translateX: t.e,
      translateY: t.f,
      scaleX: Math.sqrt(t.a * t.a + t.b * t.b),
      scaleY: Math.sqrt(t.c * t.c + t.d * t.d),
      rotation: i,
    };
  }
  function aQ(t) {
    var e, n, i, r;
    return (
      t
        ? ((e = null == t.a ? 1 : t.a),
          (r = null == t.d ? 1 : t.d),
          (n = t.b),
          (i = t.c))
        : (e = r = 1),
      {
        sx: n ? Math.sqrt(e * e + n * n) : e,
        sy: i ? Math.sqrt(i * i + r * r) : r,
      }
    );
  }
  function lt(e) {
    var n = { x: 0, y: 1 };
    return (
      e && (n = aZ(e, n)),
      { angle: t.Angle.normalize(t.Angle.toDeg(Math.atan2(n.y, n.x)) - 90) }
    );
  }
  function le(t) {
    return { tx: (t && t.e) || 0, ty: (t && t.f) || 0 };
  }
  function ln(e, n) {
    var i = aq(e.x, e.y).matrixTransform(n);
    return new t.Point(i.x, i.y);
  }
  function li(e, n) {
    return new t.Line(ln(e.start, n), ln(e.end, n));
  }
  function lr(e, n) {
    var i = aG.createSVGPoint();
    (i.x = e.x), (i.y = e.y);
    var r = i.matrixTransform(n);
    (i.x = e.x + e.width), (i.y = e.y);
    var o = i.matrixTransform(n);
    (i.x = e.x + e.width), (i.y = e.y + e.height);
    var s = i.matrixTransform(n);
    (i.x = e.x), (i.y = e.y + e.height);
    var a = i.matrixTransform(n),
      l = Math.min(r.x, o.x, s.x, a.x),
      u = Math.max(r.x, o.x, s.x, a.x),
      c = Math.min(r.y, o.y, s.y, a.y),
      h = Math.max(r.y, o.y, s.y, a.y);
    return new t.Rectangle(l, c, u - l, h - c);
  }
  function lo(e, n, i) {
    var r,
      o = e.ownerSVGElement;
    if (!o) return new t.Rectangle(0, 0, 0, 0);
    try {
      r = e.getBBox();
    } catch (s) {
      r = {
        x: e.clientLeft,
        y: e.clientTop,
        width: e.clientWidth,
        height: e.clientHeight,
      };
    }
    return n ? t.Rectangle.create(r) : lr(r, la(e, i || o));
  }
  function ls(e, n) {
    if ((void 0 === n && (n = {}), !e.ownerSVGElement || !sf(e))) {
      if (s3(e)) {
        var i,
          r = lg(e),
          o = r.left,
          s = r.top,
          a = r.width,
          l = r.height;
        return new t.Rectangle(o, s, a, l);
      }
      return new t.Rectangle(0, 0, 0, 0);
    }
    var u = n.target;
    if (!n.recursive) {
      try {
        i = e.getBBox();
      } catch (c) {
        i = {
          x: e.clientLeft,
          y: e.clientTop,
          width: e.clientWidth,
          height: e.clientHeight,
        };
      }
      return u ? lr(i, la(e, u)) : t.Rectangle.create(i);
    }
    var h = e.childNodes,
      p = h.length;
    if (0 === p) return ls(e, { target: u });
    u || (u = e);
    for (var d = 0; d < p; d += 1) {
      var f = h[d],
        g = void 0;
      (g =
        0 === f.childNodes.length
          ? ls(f, { target: u })
          : ls(f, { target: u, recursive: !0 })),
        (i = i ? i.union(g) : g);
    }
    return i;
  }
  function la(t, e) {
    if (sf(e) && sf(t)) {
      var n = e.getScreenCTM(),
        i = t.getScreenCTM();
      if (n && i) return n.inverse().multiply(i);
    }
    return a9();
  }
  function ll(t, e, n) {
    var i = t instanceof SVGSVGElement ? t : t.ownerSVGElement,
      r = i.createSVGPoint();
    (r.x = e), (r.y = n);
    try {
      var o = i.getScreenCTM(),
        s = r.matrixTransform(o.inverse()),
        a = la(t, i).inverse();
      return s.matrixTransform(a);
    } catch (l) {
      return r;
    }
  }
  function lu(e) {
    var n = function (t) {
      var n = e.getAttribute(t),
        i = n ? parseFloat(n) : 0;
      return Number.isNaN(i) ? 0 : i;
    };
    switch (e instanceof SVGElement && e.nodeName.toLowerCase()) {
      case 'rect':
        return new t.Rectangle(n('x'), n('y'), n('width'), n('height'));
      case 'circle':
        return new t.Ellipse(n('cx'), n('cy'), n('r'), n('r'));
      case 'ellipse':
        return new t.Ellipse(n('cx'), n('cy'), n('rx'), n('ry'));
      case 'polyline':
        var i = aF(e);
        return new t.Polyline(i);
      case 'polygon':
        return (i = aF(e)).length > 1 && i.push(i[0]), new t.Polyline(i);
      case 'path':
        var r = e.getAttribute('d');
        return t.Path.isValid(r) || (r = t.Path.normalize(r)), t.Path.parse(r);
      case 'line':
        return new t.Line(n('x1'), n('y1'), n('x2'), n('y2'));
    }
    return ls(e);
  }
  function lc(t, e) {
    return lp(t, e, 'animate');
  }
  function lh(t, e) {
    return lp(t, e, 'animateTransform');
  }
  function lp(t, e, n) {
    var i = sy(n);
    t.appendChild(i);
    try {
      return ld(i, e);
    } catch (r) {}
    return function () {};
  }
  function ld(t, e) {
    var n = e.start,
      i = e.complete,
      o = e.repeat;
    s7(t, r(e, ['start', 'complete', 'repeat'])),
      n && t.addEventListener('beginEvent', n),
      i && t.addEventListener('endEvent', i),
      o && t.addEventListener('repeatEvent', o);
    var s = t;
    return (
      setTimeout(function () {
        s.beginElement();
      }),
      function () {
        return s.endElement();
      }
    );
  }
  function lf(t, e, n) {
    var i = sd(n),
      r = sy('animateMotion'),
      o = sy('mpath');
    s7(o, { 'xlink:href': '#' + i }), r.appendChild(o), t.appendChild(r);
    try {
      return ld(r, e);
    } catch (s) {
      if ('fake' === document.documentElement.getAttribute('smiling')) {
        var a = r;
        a.animators = [];
        var l = window,
          u = a.getAttribute('id');
        u && (l.id2anim[u] = a);
        for (var c = l.getTargets(a), h = 0, p = c.length; h < p; h += 1) {
          var d = c[h],
            f = new l.Animator(a, d, h);
          l.animators.push(f), (a.animators[h] = f), f.register();
        }
      }
    }
    return function () {};
  }
  function lg(t) {
    var e = 0,
      n = 0,
      i = 0,
      r = 0;
    if (t) {
      for (var o = t; o; )
        (e += o.offsetLeft),
          (n += o.offsetTop),
          (o = o.offsetParent) &&
            ((e += parseInt(sZ(o, 'borderLeft'), 10)),
            (n += parseInt(sZ(o, 'borderTop'), 10)));
      (i = t.offsetWidth), (r = t.offsetHeight);
    }
    return { left: e, top: n, width: i, height: r };
  }
  function l$(t, e, n) {
    if ((void 0 === n && (n = {}), null == e)) return aX(s7(t, 'transform'));
    if (n.absolute) t.setAttribute('transform', aY(e));
    else {
      var i = t.transform,
        r = aW(e);
      i.baseVal.appendItem(r);
    }
  }
  function l0(t, e, n, i) {
    void 0 === n && (n = 0), void 0 === i && (i = {});
    var r = s7(t, 'transform'),
      o = aJ(r);
    if (null == e) return o.translation;
    r = (r = o.raw).replace(/translate\([^)]*\)/g, '').trim();
    var s =
      'translate(' +
      (i.absolute ? e : o.translation.tx + e) +
      ',' +
      (i.absolute ? n : o.translation.ty + n) +
      ')';
    t.setAttribute('transform', (s + ' ' + r).trim());
  }
  function lv(t, e, n, i, r) {
    void 0 === r && (r = {});
    var o = s7(t, 'transform'),
      s = aJ(o);
    if (null == e) return s.rotation;
    (o = (o = s.raw).replace(/rotate\([^)]*\)/g, '').trim()), (e %= 360);
    var a =
      'rotate(' +
      (r.absolute ? e : s.rotation.angle + e) +
      (null != n && null != i ? ',' + n + ',' + i : '') +
      ')';
    t.setAttribute('transform', (o + ' ' + a).trim());
  }
  function ly(t, e, n) {
    var i = s7(t, 'transform'),
      r = aJ(i);
    if (null == e) return r.scale;
    (n = null == n ? e : n),
      (i = (i = r.raw).replace(/scale\([^)]*\)/g, '').trim());
    var o = 'scale(' + e + ',' + n + ')';
    t.setAttribute('transform', (i + ' ' + o).trim());
  }
  function lm(e, n, i, r) {
    var o = t.Point.create(n),
      s = t.Point.create(i);
    r || (r = e instanceof SVGSVGElement ? e : e.ownerSVGElement);
    var a = ly(e);
    e.setAttribute('transform', '');
    var l = ls(e, { target: r }).scale(a.sx, a.sy),
      u = aW();
    u.setTranslate(-l.x - l.width / 2, -l.y - l.height / 2);
    var c = aW(),
      h = o.angleBetween(s, o.clone().translate(1, 0));
    h && c.setRotate(h, 0, 0);
    var p = aW(),
      d = o.clone().move(s, l.width / 2);
    p.setTranslate(2 * o.x - d.x, 2 * o.y - d.y);
    var f = la(e, r),
      g = aW();
    g.setMatrix(
      p.matrix.multiply(
        c.matrix.multiply(u.matrix.multiply(f.scale(a.sx, a.sy)))
      )
    ),
      e.setAttribute('transform', aY(g.matrix));
  }
  var l_,
    lC,
    lb,
    lx,
    lw = (function () {
      function e(e, n, i) {
        (this.animationFrameId = 0),
          (this.deltaX = 0),
          (this.deltaY = 0),
          (this.eventName = t.Platform.isEventSupported('wheel')
            ? 'wheel'
            : 'mousewheel'),
          (this.target = e),
          (this.onWheelCallback = n),
          (this.onWheelGuard = i),
          (this.onWheel = this.onWheel.bind(this)),
          (this.didWheel = this.didWheel.bind(this));
      }
      return (
        (e.prototype.enable = function () {
          t.Platform.SUPPORT_PASSIVE
            ? this.target.addEventListener(this.eventName, this.onWheel, {
                passive: !1,
              })
            : d(this.target).on('mousewheel', this.onWheel);
        }),
        (e.prototype.disable = function () {
          t.Platform.SUPPORT_PASSIVE
            ? this.target.removeEventListener(this.eventName, this.onWheel)
            : d(this.target).off('mousewheel');
        }),
        (e.prototype.onWheel = function (t) {
          var e,
            n = this;
          (null == this.onWheelGuard || this.onWheelGuard(t)) &&
            ((this.deltaX += t.deltaX),
            (this.deltaY += t.deltaY),
            t.preventDefault(),
            (0 === this.deltaX && 0 === this.deltaY) ||
              (t.stopPropagation(), (e = !0)),
            !0 === e &&
              0 === this.animationFrameId &&
              (this.animationFrameId = requestAnimationFrame(function () {
                n.didWheel(t);
              })));
        }),
        (e.prototype.didWheel = function (t) {
          (this.animationFrameId = 0),
            this.onWheelCallback(t, this.deltaX, this.deltaY),
            (this.deltaX = 0),
            (this.deltaY = 0);
        }),
        e
      );
    })(),
    l1 = t.Vector.isVector,
    lP = Object.freeze({
      __proto__: null,
      requestAnimationFrame: sU,
      cancelAnimationFrame: sq,
      CASE_SENSITIVE_ATTR: s2,
      getAttribute: sN,
      removeAttribute: sL,
      setAttribute: s5,
      setAttributes: s6,
      attr: s7,
      qualifyAttr: sF,
      kebablizeAttrs: sz,
      styleToObject: sB,
      mergeAttrs: sO,
      uniqueId: sp,
      ensureId: sd,
      isSVGGraphicsElement: sf,
      ns: sg,
      svgVersion: s$,
      createElement: s0,
      createElementNS: sv,
      createSvgElement: sy,
      createSvgDocument: sm,
      parseXML: s_,
      tagName: sC,
      index: sb,
      find: sx,
      findOne: sw,
      findParentByClass: s1,
      contains: sP,
      remove: sA,
      empty: sE,
      append: sS,
      prepend: sk,
      before: s4,
      appendTo: sT,
      isHTMLElement: s3,
      clickable: sM,
      isInputElement: sD,
      getClass: ss,
      hasClass: sa,
      addClass: sl,
      removeClass: su,
      toggleClass: sc,
      setPrefixedStyle: function (t, e, n) {
        var i = sJ(e);
        null != i && (t[i] = n), (t[e] = n);
      },
      getComputedStyle: sZ,
      hasScrollbars: function (t) {
        var e = sZ(t);
        return null != e && ('scroll' === e.overflow || 'auto' === e.overflow);
      },
      getVendorPrefixedName: sJ,
      clearSelection: at,
      text: a3,
      breakText: aM,
      KAPPA: aD,
      sample: aN,
      lineToPathData: aL,
      polygonToPathData: a5,
      polylineToPathData: a6,
      getPointsFromSvgElement: aF,
      circleToPathData: az,
      ellipseToPathData: aB,
      rectangleToPathData: aO,
      rectToPathData: aV,
      toPath: aR,
      toPathData: aI,
      createSlicePathData: a8,
      bbox: lo,
      getBBox: ls,
      getBBoxByElementAttr: function (e) {
        for (var n = e, i = n ? n.tagName.toLowerCase() : ''; 'g' === i; )
          i = (n = n.firstElementChild) ? n.tagName.toLowerCase() : '';
        var r,
          o,
          s = function (t) {
            var e = n.getAttribute(t),
              i = e ? parseFloat(e) : 0;
            return Number.isNaN(i) ? 0 : i;
          };
        switch (i) {
          case 'rect':
            o = new t.Rectangle(s('x'), s('y'), s('width'), s('height'));
            break;
          case 'circle':
            (r = s('r')),
              (o = new t.Rectangle(s('cx') - r, s('cy') - r, 2 * r, 2 * r));
        }
        return o;
      },
      getMatrixByElementAttr: function (t, e) {
        var n = a9();
        if (sf(e) && sf(t)) {
          for (var i = t, r = []; i && i !== e; ) {
            var o = aX(i.getAttribute('transform') || null);
            r.push(o), (i = i.parentNode);
          }
          r.reverse().forEach(function (t) {
            n = n.multiply(t);
          });
        }
        return n;
      },
      getTransformToElement: la,
      toLocalPoint: ll,
      toGeometryShape: lu,
      getIntersection: function (e, n, i) {
        var r = e instanceof SVGSVGElement ? e : e.ownerSVGElement,
          o = ls((i = i || r)),
          s = o.getCenter();
        if (!o.intersectsWithLineFromCenterToPoint(n)) return null;
        var a = null,
          l = e.tagName.toLowerCase();
        if ('rect' === l) {
          var u = new t.Rectangle(
              parseFloat(e.getAttribute('x') || '0'),
              parseFloat(e.getAttribute('y') || '0'),
              parseFloat(e.getAttribute('width') || '0'),
              parseFloat(e.getAttribute('height') || '0')
            ),
            c = la(e, i),
            h = aK(c),
            p = r.createSVGTransform();
          p.setRotate(-h.rotation, s.x, s.y);
          var d = lr(u, p.matrix.multiply(c));
          a = t.Rectangle.create(d).intersectsWithLineFromCenterToPoint(
            n,
            h.rotation
          );
        } else if (
          'path' === l ||
          'polygon' === l ||
          'polyline' === l ||
          'circle' === l ||
          'ellipse' === l
        ) {
          for (
            var f = aN('path' === l ? e : aR(e)),
              g = 1 / 0,
              $ = [],
              v = 0,
              y = f.length;
            v < y;
            v += 1
          ) {
            var m = f[v],
              _ = aq(m.x, m.y);
            _ = _.matrixTransform(la(e, i));
            var C = t.Point.create(_),
              b = C.distance(s),
              x = 1.1 * C.distance(n),
              w = b + x;
            w < g
              ? ((g = w), ($ = [{ sample: m, refDistance: x }]))
              : w < g + 1 && $.push({ sample: m, refDistance: x });
          }
          $.sort(function (t, e) {
            return t.refDistance - e.refDistance;
          }),
            $[0] && (a = t.Point.create($[0].sample));
        }
        return a;
      },
      animate: lc,
      animateTransform: lh,
      animateAlongPath: lf,
      getBoundingOffsetRect: lg,
      createSVGPoint: aq,
      createSVGMatrix: a9,
      createSVGTransform: aW,
      transformStringToMatrix: aX,
      matrixToTransformString: aY,
      parseTransformString: aJ,
      decomposeMatrix: aK,
      matrixToScale: aQ,
      matrixToRotation: lt,
      matrixToTranslation: le,
      transformPoint: ln,
      transformLine: li,
      transformPolyline: function (e, n) {
        var i = e instanceof t.Polyline ? e.points : e;
        return (
          Array.isArray(i) || (i = []),
          new t.Polyline(
            i.map(function (t) {
              return ln(t, n);
            })
          )
        );
      },
      transformRectangle: lr,
      transform: l$,
      translate: l0,
      rotate: lv,
      scale: ly,
      translateAndAutoOrient: lm,
      MouseWheelHandle: lw,
      isVector: l1,
      createVector: t.Vector.create,
      createVectors: t.Vector.createVectors,
    });
  function lA(t, e) {
    var n = this;
    void 0 === e && (e = 60);
    var i = null;
    return function () {
      for (var r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
      i && clearTimeout(i),
        (i = window.setTimeout(function () {
          t.apply(n, r);
        }, e));
    };
  }
  var lE,
    lS,
    lk,
    l4,
    lT,
    l3,
    lM,
    lD,
    l2,
    lN =
      'undefined' != typeof ResizeObserver
        ? function (t) {
            var e = null,
              n = [],
              i = lA(function () {
                n.forEach(function (e) {
                  e(t);
                });
              }),
              r = function () {
                e && (e.disconnect(), (n = []), (e = null));
              };
            return {
              element: t,
              bind: function (r) {
                var o;
                e || ((o = new ResizeObserver(i)).observe(t), i(), (e = o)),
                  -1 === n.indexOf(r) && n.push(r);
              },
              destroy: r,
              unbind: function (t) {
                var i = n.indexOf(t);
                -1 !== i && n.splice(i, 1), 0 === n.length && e && r();
              },
            };
          }
        : function (t) {
            var e = null,
              n = [],
              i = lA(function () {
                n.forEach(function (e) {
                  return e(t);
                });
              }),
              r = function () {
                e &&
                  e.parentNode &&
                  (e.contentDocument &&
                    e.contentDocument.defaultView.removeEventListener(
                      'resize',
                      i
                    ),
                  e.parentNode.removeChild(e),
                  (e = null),
                  (n = []));
              };
            return {
              element: t,
              bind: function (r) {
                var o;
                e ||
                  (e =
                    ('static' === getComputedStyle(t).position &&
                      (t.style.position = 'relative'),
                    ((o = document.createElement('object')).onload =
                      function () {
                        o.contentDocument.defaultView.addEventListener(
                          'resize',
                          i
                        ),
                          i();
                      }),
                    (o.style.display = 'block'),
                    (o.style.position = 'absolute'),
                    (o.style.top = '0'),
                    (o.style.left = '0'),
                    (o.style.height = '100%'),
                    (o.style.width = '100%'),
                    (o.style.overflow = 'hidden'),
                    (o.style.pointerEvents = 'none'),
                    (o.style.zIndex = '-1'),
                    (o.style.opacity = '0'),
                    o.setAttribute('tabindex', '-1'),
                    (o.type = 'text/html'),
                    t.appendChild(o),
                    (o.data = 'about:blank'),
                    o)),
                  -1 === n.indexOf(r) && n.push(r);
              },
              destroy: r,
              unbind: function (t) {
                var i = n.indexOf(t);
                -1 !== i && n.splice(i, 1), 0 === n.length && e && r();
              },
            };
          };
  (t.SizeSensor = void 0),
    (function (t) {
      var e = new WeakMap();
      function n(t) {
        var n = e.get(t);
        return n || ((n = lN(t)), e.set(t, n), n);
      }
      (t.bind = function (t, e) {
        var i = n(t);
        return (
          i.bind(e),
          function () {
            return i.unbind(e);
          }
        );
      }),
        (t.clear = function (t) {
          var i;
          (i = n(t)).destroy(), e.delete(i.element);
        });
    })(t.SizeSensor || (t.SizeSensor = {})),
    (t.Scheduler = void 0),
    (lE = t.Scheduler || (t.Scheduler = {})),
    (lS = []),
    (lk = []),
    (l4 = 0),
    (lT = function () {
      return performance.now();
    }),
    (l3 = function (t) {
      return t[0];
    }),
    (lM = function (t) {
      return 1 === lk.push(t) && lD();
    }),
    (lD = (function () {
      var t = function () {
        var t, e;
        return null === (e = (t = lk.splice(0, lk.length))[0]) || void 0 === e
          ? void 0
          : e.call(t);
      };
      if ('undefined' != typeof MessageChannel) {
        var e = new MessageChannel(),
          n = e.port1,
          i = e.port2;
        return (
          (n.onmessage = t),
          function () {
            return i.postMessage(null);
          }
        );
      }
      return function () {
        return setTimeout(t);
      };
    })()),
    (l2 = function () {
      l4 = lT() + 16.666666666666668;
      for (var t = l3(lS); t && !lE.shouldYield(); ) {
        var e = t.callback,
          n = t.data;
        t.callback = null;
        var i = e && e(n);
        i ? (t.callback = i) : lS.shift(), (t = l3(lS));
      }
      t && lM(l2);
    }),
    (lE.scheduleTask = function (t, e) {
      lS.push({ callback: t, data: e }), lM(l2);
    }),
    (lE.shouldYield = function () {
      var t, e;
      return (
        (null ===
          (e =
            null === (t = navigator) || void 0 === t ? void 0 : t.scheduling) ||
        void 0 === e
          ? void 0
          : e.isInputPending()) || lT() >= l4
      );
    });
  var lL,
    l5 = (function () {
      function e(t) {
        (this.options = i({}, t)),
          (this.data = this.options.data || {}),
          (this.register = this.register.bind(this)),
          (this.unregister = this.unregister.bind(this));
      }
      return (
        Object.defineProperty(e.prototype, 'names', {
          get: function () {
            return Object.keys(this.data);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.register = function (e, n, i) {
          var r = this;
          if ((void 0 === i && (i = !1), 'object' != typeof e)) {
            !this.exist(e) ||
              i ||
              t.Platform.isApplyingHMR() ||
              this.onDuplicated(e);
            var o = this.options.process,
              s = o ? oZ(o, this, e, n) : n;
            return (this.data[e] = s), s;
          }
          Object.keys(e).forEach(function (t) {
            r.register(t, e[t], n);
          });
        }),
        (e.prototype.unregister = function (t) {
          var e = t ? this.data[t] : null;
          return delete this.data[t], e;
        }),
        (e.prototype.get = function (t) {
          return t ? this.data[t] : null;
        }),
        (e.prototype.exist = function (t) {
          return !!t && null != this.data[t];
        }),
        (e.prototype.onDuplicated = function (t) {
          try {
            throw (
              (this.options.onConflict && oZ(this.options.onConflict, this, t),
              Error(
                na(this.options.type) +
                  " with name '" +
                  t +
                  "' already registered."
              ))
            );
          } catch (e) {
            throw e;
          }
        }),
        (e.prototype.onNotFound = function (t, e) {
          throw Error(this.getSpellingSuggestion(t, e));
        }),
        (e.prototype.getSpellingSuggestion = function (t, e) {
          var n = this.getSpellingSuggestionForName(t),
            i = e ? e + ' ' + rE(this.options.type) : this.options.type;
          return (
            na(i) +
            " with name '" +
            t +
            "' does not exist." +
            (n ? " Did you mean '" + n + "'?" : '')
          );
        }),
        (e.prototype.getSpellingSuggestionForName = function (t) {
          return oj(t, Object.keys(this.data), function (t) {
            return t;
          });
        }),
        e
      );
    })();
  (lL = l5 || (l5 = {})).create = function (t) {
    return new lL(t);
  };
  var l6,
    l7,
    lF = { position: un('x', 'width', 'origin') },
    lz = { position: un('y', 'height', 'origin') },
    lB = { position: un('x', 'width', 'corner') },
    lO = { position: un('y', 'height', 'corner') },
    lV = { set: ui('width', 'width') },
    lR = { set: ui('height', 'height') },
    lI = { set: ui('rx', 'width') },
    l8 = { set: ui('ry', 'height') },
    lG = {
      set:
        ((l6 = ui('r', 'width')),
        (l7 = ui('r', 'height')),
        function (t, e) {
          var n = e.refBBox;
          return oZ(n.height > n.width ? l6 : l7, this, t, e);
        }),
    },
    lj = {
      set: function (t, e) {
        var n = e.refBBox,
          i = parseFloat(t),
          r = oq(t);
        r && (i /= 100);
        var o,
          s = Math.sqrt(n.height * n.height + n.width * n.width);
        return (
          Number.isFinite(i) &&
            (o = r || (i >= 0 && i <= 1) ? i * s : Math.max(i + s, 0)),
          { r: o }
        );
      },
    },
    lH = { set: ui('cx', 'width') },
    lU = { set: ui('cy', 'height') },
    lq = { set: uo({ resetOffset: !0 }) },
    l9 = { set: uo({ resetOffset: !1 }) },
    lW = { set: us({ resetOffset: !0 }) },
    lX = { set: us({ resetOffset: !1 }) },
    lY = lG,
    lJ = lq,
    lZ = lW,
    lK = lF,
    lQ = lz,
    ut = lV,
    ue = lR;
  function un(e, n, i) {
    return function (r, o) {
      var s = o.refBBox;
      if (null == r) return null;
      var a,
        l = parseFloat(r),
        u = oq(r);
      if ((u && (l /= 100), Number.isFinite(l))) {
        var c = s[i];
        a = u || (l > 0 && l < 1) ? c[e] + s[n] * l : c[e] + l;
      }
      var h = new t.Point();
      return (h[e] = a || 0), h;
    };
  }
  function ui(t, e) {
    return function (n, i) {
      var r = i.refBBox,
        o = parseFloat(n),
        s = oq(n);
      s && (o /= 100);
      var a = {};
      if (Number.isFinite(o)) {
        var l = s || (o >= 0 && o <= 1) ? o * r[e] : Math.max(o + r[e], 0);
        a[t] = l;
      }
      return a;
    };
  }
  function ur(t, e) {
    var n = 'x6-shape',
      i = e && e.resetOffset;
    return function (e, r) {
      var o = r.view,
        s = r.elem,
        a = r.refBBox,
        l = o.$(s),
        u = l.data(n);
      if (!u || u.value !== e) {
        var c = t(e);
        (u = { value: e, shape: c, shapeBBox: c.bbox() }), l.data(n, u);
      }
      var h = u.shape.clone(),
        p = u.shapeBBox.clone(),
        d = p.getOrigin(),
        f = a.getOrigin();
      (p.x = f.x), (p.y = f.y);
      var g = a.getMaxScaleToFit(p, f),
        $ = 0 === p.width || 0 === a.width ? 1 : g.sx,
        v = 0 === p.height || 0 === a.height ? 1 : g.sy;
      return h.scale($, v, d), i && h.translate(-d.x, -d.y), h;
    };
  }
  function uo(e) {
    var n = ur(function (e) {
      return t.Path.parse(e);
    }, e);
    return function (t, e) {
      return { d: n(t, e).serialize() };
    };
  }
  function us(e) {
    var n = ur(function (e) {
      return new t.Polyline(e);
    }, e);
    return function (t, e) {
      return { points: n(t, e).serialize() };
    };
  }
  var ua = {
      qualify: eG,
      set: function (t, e) {
        return 'url(#' + e.view.graph.defineGradient(t) + ')';
      },
    },
    ul = {
      qualify: eG,
      set: function (t, e) {
        var n = e.view,
          r = n.cell,
          o = i({}, t);
        if (r.isEdge() && 'linearGradient' === o.type) {
          var s = n,
            a = s.sourcePoint,
            l = s.targetPoint;
          (o.id = 'gradient-' + o.type + '-' + r.id),
            (o.attrs = i(i({}, o.attrs), {
              x1: a.x,
              y1: a.y,
              x2: l.x,
              y2: l.y,
              gradientUnits: 'userSpaceOnUse',
            })),
            n.graph.defs.remove(o.id);
        }
        return 'url(#' + n.graph.defineGradient(o) + ')';
      },
    },
    uu = {
      qualify: function (t, e) {
        var n = e.attrs;
        return null == n.textWrap || !eG(n.textWrap);
      },
      set: function (t, e) {
        var n = e.view,
          r = e.elem,
          o = e.attrs,
          s = 'x6-text',
          a = n.$(r),
          l = a.data(s),
          u = function (t) {
            try {
              return JSON.parse(t);
            } catch (e) {
              return t;
            }
          },
          c = {
            x: o.x,
            eol: o.eol,
            annotations: u(o.annotations),
            textPath: u(o['text-path'] || o.textPath),
            textVerticalAnchor:
              o['text-vertical-anchor'] || o.textVerticalAnchor,
            displayEmpty: 'true' === (o['display-empty'] || o.displayEmpty),
            lineHeight: o['line-height'] || o.lineHeight,
          },
          h = o['font-size'] || o.fontSize,
          p = JSON.stringify([t, c]);
        if ((h && r.setAttribute('font-size', h), null == l || l !== p)) {
          var d = c.textPath;
          if (null != d && 'object' == typeof d) {
            var f = d.selector;
            if ('string' == typeof f) {
              var g = n.find(f)[0];
              g instanceof SVGPathElement &&
                (sd(g), (c.textPath = i({ 'xlink:href': '#' + g.id }, d)));
            }
          }
          a3(r, '' + t, c), a.data(s, p);
        }
      },
    },
    uc = {
      qualify: eG,
      set: function (t, e) {
        var n = e.view,
          i = e.elem,
          r = e.attrs,
          o = e.refBBox,
          s = t,
          a = s.width || 0;
        oq(a)
          ? (o.width *= parseFloat(a) / 100)
          : a <= 0
          ? (o.width += a)
          : (o.width = a);
        var l,
          u = s.height || 0;
        oq(u)
          ? (o.height *= parseFloat(u) / 100)
          : u <= 0
          ? (o.height += u)
          : (o.height = u);
        var c = s.text;
        null == c && (c = r.text),
          (l =
            null != c
              ? aM(
                  '' + c,
                  o,
                  {
                    'font-weight': r['font-weight'] || r.fontWeight,
                    'font-size': r['font-size'] || r.fontSize,
                    'font-family': r['font-family'] || r.fontFamily,
                    lineHeight: r.lineHeight,
                  },
                  {
                    svgDocument: n.graph.view.svg,
                    ellipsis: s.ellipsis,
                    hyphen: s.hyphen,
                    breakWord: s.breakWord,
                  }
                )
              : ''),
          oZ(uu.set, this, l, {
            view: n,
            elem: i,
            attrs: r,
            refBBox: o,
            cell: n.cell,
          });
      },
    },
    uh = function (t, e) {
      return void 0 !== e.attrs.text;
    },
    up = { qualify: uh },
    ud = { qualify: uh },
    uf = { qualify: uh },
    ug = { qualify: uh },
    u$ = { qualify: uh },
    u0 = { qualify: uh },
    uv = {
      qualify: function (t, e) {
        return e.elem instanceof SVGElement;
      },
      set: function (t, e) {
        var n = e.view,
          i = e.elem,
          r = 'x6-title',
          o = '' + t,
          s = n.$(i),
          a = s.data(r);
        if (null == a || a !== o) {
          s.data(r, o);
          var l = i.firstChild;
          if (l && 'TITLE' === l.tagName.toUpperCase()) l.textContent = o;
          else {
            var u = document.createElementNS(i.namespaceURI, 'title');
            (u.textContent = o), i.insertBefore(u, l);
          }
        }
      },
    },
    uy = { offset: u_('x', 'width', 'right') },
    um = { offset: u_('y', 'height', 'bottom') };
  function u_(e, n, i) {
    return function (r, o) {
      var s,
        a = o.refBBox,
        l = new t.Point();
      return (
        (s =
          'middle' === r
            ? a[n] / 2
            : r === i
            ? a[n]
            : 'number' == typeof r && Number.isFinite(r)
            ? r > -1 && r < 1
              ? -a[n] * r
              : -r
            : oq(r)
            ? (a[n] * parseFloat(r)) / 100
            : 0),
        (l[e] = -(a[e] + s)),
        l
      );
    };
  }
  var uC = {
      qualify: eG,
      set: function (t, e) {
        var n = e.view,
          i = e.elem;
        n.$(i).css(t);
      },
    },
    ub = {
      qualify: eG,
      set: function (t, e) {
        return 'url(#' + e.view.graph.defineFilter(t) + ')';
      },
    };
  function ux(e, n, i) {
    'object' == typeof n ? ((r = n.x), (o = n.y)) : ((r = n), (o = i));
    var r,
      o,
      s = t.Path.parse(e),
      a = s.bbox();
    if (a) {
      var l = -a.height / 2 - a.y,
        u = -a.width / 2 - a.x;
      'number' == typeof r && (u -= r),
        'number' == typeof o && (l -= o),
        s.translate(u, l);
    }
    return s.serialize();
  }
  function uw(e, n, r, o, s) {
    void 0 === o && (o = 3 / 4), void 0 === s && (s = {});
    var a = e.size || 10,
      l = e.width || a,
      u = e.height || a,
      c = new t.Path(),
      h = {};
    if (n)
      c
        .moveTo(l, 0)
        .lineTo(0, u / 2)
        .lineTo(l, u),
        (h.fill = 'none');
    else {
      if ((c.moveTo(0, u / 2), c.lineTo(l, 0), !r)) {
        var p = n2(o, 0, 1);
        c.lineTo(l * p, u / 2);
      }
      c.lineTo(l, u), c.close();
    }
    return i(i(i({}, h), s), {
      tagName: 'path',
      d: ux(c.serialize(), { x: null != e.offset ? e.offset : -l / 2 }),
    });
  }
  var u1,
    uP = function (t) {
      var e = t.r,
        n = r(t, ['r']),
        o = e || 5;
      return i(i({ cx: o }, n), { tagName: 'circle', r: o });
    },
    uA = Object.freeze({
      __proto__: null,
      block: function (t) {
        return uw(
          { size: t.size, width: t.width, height: t.height, offset: t.offset },
          !0 === t.open,
          !0,
          void 0,
          r(t, ['size', 'width', 'height', 'offset', 'open'])
        );
      },
      classic: function (t) {
        return uw(
          { size: t.size, width: t.width, height: t.height, offset: t.offset },
          !1,
          !1,
          t.factor,
          r(t, ['size', 'width', 'height', 'offset', 'factor'])
        );
      },
      diamond: function (e) {
        var n = e.size,
          o = e.width,
          s = e.height,
          a = e.offset,
          l = r(e, ['size', 'width', 'height', 'offset']),
          u = n || 10,
          c = o || u,
          h = s || u,
          p = new t.Path();
        return (
          p
            .moveTo(0, h / 2)
            .lineTo(c / 2, 0)
            .lineTo(c, h / 2)
            .lineTo(c / 2, h)
            .close(),
          i(i({}, l), {
            tagName: 'path',
            d: ux(p.serialize(), null == a ? -c / 2 : a),
          })
        );
      },
      path: function (t) {
        var e = t.d,
          n = t.offsetX,
          o = t.offsetY,
          s = r(t, ['d', 'offsetX', 'offsetY']);
        return i(i({}, s), { tagName: 'path', d: ux(e, n, o) });
      },
      cross: function (e) {
        var n = e.size,
          o = e.width,
          s = e.height,
          a = e.offset,
          l = r(e, ['size', 'width', 'height', 'offset']),
          u = n || 10,
          c = o || u,
          h = s || u,
          p = new t.Path();
        return (
          p.moveTo(0, 0).lineTo(c, h).moveTo(0, h).lineTo(c, 0),
          i(i({}, l), {
            tagName: 'path',
            fill: 'none',
            d: ux(p.serialize(), a || -c / 2),
          })
        );
      },
      async: function (e) {
        var n = e.width,
          o = e.height,
          s = e.offset,
          a = e.open,
          l = e.flip,
          u = r(e, ['width', 'height', 'offset', 'open', 'flip']),
          c = o || 6,
          h = n || 10,
          p = i(i({}, u), { tagName: 'path' });
        !0 === l && (c = -c);
        var d = new t.Path();
        return (
          d.moveTo(0, c).lineTo(h, 0),
          !0 === a ? (p.fill = 'none') : (d.lineTo(h, c), d.close()),
          (p.d = ux(d.serialize(), { x: s || -h / 2, y: c / 2 })),
          p
        );
      },
      circle: uP,
      circlePlus: function (e) {
        var n = e.r,
          o = r(e, ['r']),
          s = n || 5,
          a = new t.Path();
        return (
          a.moveTo(s, 0).lineTo(s, 2 * s),
          a.moveTo(0, s).lineTo(2 * s, s),
          {
            children: [
              i(i({}, uP({ r: s })), { fill: 'none' }),
              i(i({}, o), { tagName: 'path', d: ux(a.serialize(), -s) }),
            ],
          }
        );
      },
      ellipse: function (t) {
        var e = t.rx,
          n = t.ry,
          o = r(t, ['rx', 'ry']),
          s = e || 5;
        return i(i({ cx: s }, o), { tagName: 'ellipse', rx: s, ry: n || 5 });
      },
    });
  function uE(t) {
    return 'string' == typeof t || eG(t);
  }
  ((uF = u1 || (u1 = {})).presets = uA),
    (uF.registry = l5.create({ type: 'marker' })),
    uF.registry.register(uF.presets, !0),
    ((u1 || (u1 = {})).normalize = ux);
  var uS = {
      qualify: uE,
      set: function (t, e) {
        return uT('marker-start', t, e.view, e.attrs);
      },
    },
    uk = {
      qualify: uE,
      set: function (t, e) {
        return uT('marker-end', t, e.view, e.attrs, {
          transform: 'rotate(180)',
        });
      },
    },
    u4 = {
      qualify: uE,
      set: function (t, e) {
        return uT('marker-mid', t, e.view, e.attrs);
      },
    };
  function uT(t, e, n, o, s) {
    void 0 === s && (s = {});
    var a,
      l = 'string' == typeof e ? { name: e } : e,
      u = l.name,
      c = l.args,
      h = r(l, ['name', 'args']),
      p = h;
    if (u && 'string' == typeof u) {
      var d = u1.registry.get(u);
      if (!d) return u1.registry.onNotFound(u);
      p = d(i(i({}, h), c));
    }
    var f = i(
      i(
        i(
          {},
          (function (t, e) {
            var n = {},
              i = t.stroke;
            'string' == typeof i && ((n.stroke = i), (n.fill = i));
            var r = t.strokeOpacity;
            if (
              (null == r && (r = t['stroke-opacity']),
              null == r && (r = t.opacity),
              null != r && ((n['stroke-opacity'] = r), (n['fill-opacity'] = r)),
              'marker-mid' !== e)
            ) {
              var o = parseFloat(t.strokeWidth || t['stroke-width']);
              if (Number.isFinite(o) && o > 1) {
                var s = Math.ceil(o / 2);
                n.refX = 'marker-start' === e ? s : -s;
              }
            }
            return n;
          })(o, t)
        ),
        s
      ),
      p
    );
    return ((a = {})[t] = 'url(#' + n.graph.defineMarker(f) + ')'), a;
  }
  var u3 = function (t, e) {
      return e.view.cell.isEdge();
    },
    uM = {
      qualify: u3,
      set: function (t, e) {
        var n,
          i,
          r,
          o,
          s,
          a = e.view,
          l = t.reverse || !1,
          u = t.stubs || 0;
        if (Number.isFinite(u) && 0 !== u) {
          if (l)
            (d = void 0),
              (h = a.getConnectionLength() || 0),
              u < 0
                ? ((d = (h + u) / 2), (c = -u))
                : ((d = u), (c = h - 2 * u)),
              (s =
                null ===
                  (o =
                    null ===
                      (r =
                        null ===
                          (i =
                            null ===
                              (n =
                                null == (p = a.getConnection())
                                  ? void 0
                                  : p.divideAtLength(d)) || void 0 === n
                              ? void 0
                              : n[1]) || void 0 === i
                          ? void 0
                          : i.divideAtLength(c)) || void 0 === r
                      ? void 0
                      : r[0]) || void 0 === o
                  ? void 0
                  : o.serialize());
          else {
            var c,
              h,
              p,
              d = void 0;
            if (
              ((d = u < 0 ? ((h = a.getConnectionLength() || 0) + u) / 2 : u),
              (p = a.getConnection()))
            ) {
              var f = p.divideAtLength(d),
                g = p.divideAtLength(-d);
              f && g && (s = f[0].serialize() + ' ' + g[1].serialize());
            }
          }
        }
        return { d: s || a.getConnectionPathData() };
      },
    },
    uD = { qualify: u3, set: u7('getTangentAtLength', { rotate: !0 }) },
    u2 = { qualify: u3, set: u7('getTangentAtLength', { rotate: !1 }) },
    uN = { qualify: u3, set: u7('getTangentAtRatio', { rotate: !0 }) },
    uL = { qualify: u3, set: u7('getTangentAtRatio', { rotate: !1 }) },
    u5 = uD,
    u6 = uN;
  function u7(t, e) {
    var n = { x: 1, y: 0 };
    return function (i, r) {
      var o,
        s,
        a = r.view,
        l = a[t](Number(i));
      return (
        l
          ? ((s = e.rotate ? l.vector().vectorAngle(n) : 0), (o = l.start))
          : ((o = a.path.start), (s = 0)),
        0 === s
          ? { transform: 'translate(' + o.x + ',' + o.y + "')" }
          : {
              transform:
                'translate(' + o.x + ',' + o.y + "') rotate(" + s + ')',
            }
      );
    };
  }
  var uF,
    uz,
    uB,
    uO,
    uV,
    uR = Object.freeze({
      __proto__: null,
      ref: {},
      refX: lF,
      refY: lz,
      refDx: lB,
      refDy: lO,
      refWidth: lV,
      refHeight: lR,
      refRx: lI,
      refRy: l8,
      refRInscribed: lG,
      refRCircumscribed: lj,
      refCx: lH,
      refCy: lU,
      refDResetOffset: lq,
      refDKeepOffset: l9,
      refPointsResetOffset: lW,
      refPointsKeepOffset: lX,
      refR: lY,
      refD: lJ,
      refPoints: lZ,
      refX2: lK,
      refY2: lQ,
      refWidth2: ut,
      refHeight2: ue,
      fill: ua,
      stroke: ul,
      text: uu,
      textWrap: uc,
      lineHeight: up,
      textVerticalAnchor: ud,
      textPath: uf,
      annotations: ug,
      eol: u$,
      displayEmpty: u0,
      title: uv,
      xAlign: uy,
      yAlign: um,
      resetOffset: {
        offset: function (t, e) {
          var n = e.refBBox;
          return t ? { x: -n.x, y: -n.y } : { x: 0, y: 0 };
        },
      },
      style: uC,
      html: {
        set: function (t, e) {
          var n = e.view,
            i = e.elem;
          n.$(i).html('' + t);
        },
      },
      filter: ub,
      port: {
        set: function (t) {
          return null != t && 'object' == typeof t && t.id ? t.id : t;
        },
      },
      sourceMarker: uS,
      targetMarker: uk,
      vertexMarker: u4,
      connection: uM,
      atConnectionLengthKeepGradient: uD,
      atConnectionLengthIgnoreGradient: u2,
      atConnectionRatioKeepGradient: uN,
      atConnectionRatioIgnoreGradient: uL,
      atConnectionLength: u5,
      atConnectionRatio: u6,
    });
  ((uB || (uB = {})).isValidDefinition = function (t, e, n) {
    return !!(
      null != t &&
      ('string' == typeof t ||
        'function' != typeof t.qualify ||
        oZ(t.qualify, this, e, n))
    );
  }),
    ((uV = uB || (uB = {})).presets = i(
      i(
        {},
        {
          xlinkHref: 'xlink:href',
          xlinkShow: 'xlink:show',
          xlinkRole: 'xlink:role',
          xlinkType: 'xlink:type',
          xlinkArcrole: 'xlink:arcrole',
          xlinkTitle: 'xlink:title',
          xlinkActuate: 'xlink:actuate',
          xmlSpace: 'xml:space',
          xmlBase: 'xml:base',
          xmlLang: 'xml:lang',
          preserveAspectRatio: 'preserveAspectRatio',
          requiredExtension: 'requiredExtension',
          requiredFeatures: 'requiredFeatures',
          systemLanguage: 'systemLanguage',
          externalResourcesRequired: 'externalResourceRequired',
        }
      ),
      uR
    )),
    (uV.registry = l5.create({ type: 'attribute definition' })),
    uV.registry.register(uV.presets, !0);
  var uI = Object.freeze({
      __proto__: null,
      dot: {
        color: '#aaaaaa',
        thickness: 1,
        markup: 'rect',
        update: function (t, e) {
          var n = e.thickness * e.sx,
            i = e.thickness * e.sy;
          s7(t, { width: n, height: i, rx: n, ry: i, fill: e.color });
        },
      },
      fixedDot: {
        color: '#aaaaaa',
        thickness: 1,
        markup: 'rect',
        update: function (t, e) {
          var n = e.sx <= 1 ? e.thickness * e.sx : e.thickness;
          s7(t, { width: n, height: n, rx: n, ry: n, fill: e.color });
        },
      },
      mesh: {
        color: 'rgba(224,224,224,1)',
        thickness: 1,
        markup: 'path',
        update: function (t, e) {
          var n = e.width,
            i = e.height,
            r = e.thickness;
          s7(t, {
            d:
              n - r >= 0 && i - r >= 0
                ? ['M', n, 0, 'H0 M0 0 V0', i].join(' ')
                : 'M 0 0 0 0',
            stroke: e.color,
            'stroke-width': e.thickness,
          });
        },
      },
      doubleMesh: [
        {
          color: 'rgba(224,224,224,1)',
          thickness: 1,
          markup: 'path',
          update: function (t, e) {
            var n = e.width,
              i = e.height,
              r = e.thickness;
            s7(t, {
              d:
                n - r >= 0 && i - r >= 0
                  ? ['M', n, 0, 'H0 M0 0 V0', i].join(' ')
                  : 'M 0 0 0 0',
              stroke: e.color,
              'stroke-width': e.thickness,
            });
          },
        },
        {
          color: 'rgba(224,224,224,0.2)',
          thickness: 3,
          factor: 4,
          markup: 'path',
          update: function (t, e) {
            var n,
              i = e.factor || 1,
              r = e.width * i,
              o = e.height * i,
              s = e.thickness;
            (n =
              r - s >= 0 && o - s >= 0
                ? ['M', r, 0, 'H0 M0 0 V0', o].join(' ')
                : 'M 0 0 0 0'),
              (e.width = r),
              (e.height = o),
              s7(t, { d: n, stroke: e.color, 'stroke-width': e.thickness });
          },
        },
      ],
    }),
    u8 = (function () {
      function e() {
        (this.patterns = {}),
          (this.root = t.Vector.create(
            sm(),
            { width: '100%', height: '100%' },
            [sy('defs')]
          ).node);
      }
      return (
        (e.prototype.add = function (e, n) {
          var i = this.root.childNodes[0];
          i && i.appendChild(n),
            (this.patterns[e] = n),
            t.Vector.create('rect', {
              width: '100%',
              height: '100%',
              fill: 'url(#' + e + ')',
            }).appendTo(this.root);
        }),
        (e.prototype.get = function (t) {
          return this.patterns[t];
        }),
        (e.prototype.has = function (t) {
          return null != this.patterns[t];
        }),
        e
      );
    })();
  function uG(t, e) {
    return null != t ? t : e;
  }
  function uj(t, e) {
    return null != t && Number.isFinite(t) ? t : e;
  }
  ((uH = u8 || (u8 = {})).presets = uI),
    (uH.registry = l5.create({ type: 'grid' })),
    uH.registry.register(uH.presets, !0);
  var uH,
    uU,
    uq,
    u9 = Object.freeze({
      __proto__: null,
      outline: function (t) {
        void 0 === t && (t = {});
        var e = uG(t.color, 'blue'),
          n = uj(t.width, 1),
          i = uj(t.margin, 2);
        return (
          '\n    <filter>\n      <feFlood flood-color="' +
          e +
          '" flood-opacity="' +
          uj(t.opacity, 1) +
          '" result="colored"/>\n      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="' +
          (i + n) +
          '" />\n      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="' +
          i +
          '" />\n      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>\n      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>\n      <feMerge>\n        <feMergeNode in="outline"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n  '
        ).trim();
      },
      highlight: function (t) {
        void 0 === t && (t = {});
        var e = uG(t.color, 'red'),
          n = uj(t.blur, 0),
          i = uj(t.width, 1);
        return (
          '\n      <filter>\n        <feFlood flood-color="' +
          e +
          '" flood-opacity="' +
          uj(t.opacity, 1) +
          '" result="colored"/>\n        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="' +
          i +
          '"/>\n        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>\n        <feGaussianBlur result="blured" in="composed" stdDeviation="' +
          n +
          '"/>\n        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>\n      </filter>\n    '
        ).trim();
      },
      blur: function (t) {
        void 0 === t && (t = {});
        var e = uj(t.x, 2);
        return (
          '\n    <filter>\n      <feGaussianBlur stdDeviation="' +
          (null != t.y && Number.isFinite(t.y) ? [e, t.y] : e) +
          '"/>\n    </filter>\n  '
        ).trim();
      },
      dropShadow: function (t) {
        void 0 === t && (t = {});
        var e = uj(t.dx, 0),
          n = uj(t.dy, 0),
          i = uG(t.color, 'black'),
          r = uj(t.blur, 4),
          o = uj(t.opacity, 1);
        return 'SVGFEDropShadowElement' in window
          ? (
              '<filter>\n         <feDropShadow stdDeviation="' +
              r +
              '" dx="' +
              e +
              '" dy="' +
              n +
              '" flood-color="' +
              i +
              '" flood-opacity="' +
              o +
              '" />\n       </filter>'
            ).trim()
          : (
              '<filter>\n         <feGaussianBlur in="SourceAlpha" stdDeviation="' +
              r +
              '" />\n         <feOffset dx="' +
              e +
              '" dy="' +
              n +
              '" result="offsetblur" />\n         <feFlood flood-color="' +
              i +
              '" />\n         <feComposite in2="offsetblur" operator="in" />\n         <feComponentTransfer>\n           <feFuncA type="linear" slope="' +
              o +
              '" />\n         </feComponentTransfer>\n         <feMerge>\n           <feMergeNode/>\n           <feMergeNode in="SourceGraphic"/>\n         </feMerge>\n       </filter>'
            ).trim();
      },
      grayScale: function (t) {
        void 0 === t && (t = {});
        var e = uj(t.amount, 1),
          n = 0.7152 - 0.7152 * (1 - e);
        return (
          '\n    <filter>\n      <feColorMatrix type="matrix" values="' +
          (0.2126 + 0.7874 * (1 - e)) +
          ' ' +
          n +
          ' ' +
          (0.0722 - 0.0722 * (1 - e)) +
          ' 0 0 ' +
          (0.2126 - 0.2126 * (1 - e)) +
          ' ' +
          (0.7152 + 0.2848 * (1 - e)) +
          ' ' +
          (0.0722 - 0.0722 * (1 - e)) +
          ' 0 0 ' +
          (0.2126 - 0.2126 * (1 - e)) +
          ' ' +
          n +
          ' ' +
          (0.0722 + 0.9278 * (1 - e)) +
          ' 0 0 0 0 0 1 0"/>\n    </filter>\n  '
        ).trim();
      },
      sepia: function (t) {
        void 0 === t && (t = {});
        var e = uj(t.amount, 1);
        return (
          '\n      <filter>\n        <feColorMatrix type="matrix" values="' +
          (0.393 + 0.607 * (1 - e)) +
          ' ' +
          (0.769 - 0.769 * (1 - e)) +
          ' ' +
          (0.189 - 0.189 * (1 - e)) +
          ' 0 0 ' +
          (0.349 - 0.349 * (1 - e)) +
          ' ' +
          (0.686 + 0.314 * (1 - e)) +
          ' ' +
          (0.168 - 0.168 * (1 - e)) +
          ' 0 0 ' +
          (0.272 - 0.272 * (1 - e)) +
          ' ' +
          (0.534 - 0.534 * (1 - e)) +
          ' ' +
          (0.131 + 0.869 * (1 - e)) +
          ' 0 0 0 0 0 1 0"/>\n      </filter>\n    '
        ).trim();
      },
      saturate: function (t) {
        return (
          void 0 === t && (t = {}),
          (
            '\n      <filter>\n        <feColorMatrix type="saturate" values="' +
            (1 - uj(t.amount, 1)) +
            '"/>\n      </filter>\n    '
          ).trim()
        );
      },
      hueRotate: function (t) {
        return (
          void 0 === t && (t = {}),
          (
            '\n      <filter>\n        <feColorMatrix type="hueRotate" values="' +
            uj(t.angle, 0) +
            '"/>\n      </filter>\n    '
          ).trim()
        );
      },
      invert: function (t) {
        void 0 === t && (t = {});
        var e = uj(t.amount, 1),
          n = 1 - e;
        return (
          '\n      <filter>\n        <feComponentTransfer>\n          <feFuncR type="table" tableValues="' +
          e +
          ' ' +
          n +
          '"/>\n          <feFuncG type="table" tableValues="' +
          e +
          ' ' +
          n +
          '"/>\n          <feFuncB type="table" tableValues="' +
          e +
          ' ' +
          n +
          '"/>\n        </feComponentTransfer>\n      </filter>\n    '
        ).trim();
      },
      brightness: function (t) {
        void 0 === t && (t = {});
        var e = uj(t.amount, 1);
        return (
          '\n    <filter>\n      <feComponentTransfer>\n        <feFuncR type="linear" slope="' +
          e +
          '"/>\n        <feFuncG type="linear" slope="' +
          e +
          '"/>\n        <feFuncB type="linear" slope="' +
          e +
          '"/>\n      </feComponentTransfer>\n    </filter>\n  '
        ).trim();
      },
      contrast: function (t) {
        void 0 === t && (t = {});
        var e = uj(t.amount, 1),
          n = 0.5 - e / 2;
        return (
          '\n    <filter>\n     <feComponentTransfer>\n        <feFuncR type="linear" slope="' +
          e +
          '" intercept="' +
          n +
          '"/>\n        <feFuncG type="linear" slope="' +
          e +
          '" intercept="' +
          n +
          '"/>\n        <feFuncB type="linear" slope="' +
          e +
          '" intercept="' +
          n +
          '"/>\n      </feComponentTransfer>\n    </filter>\n  '
        ).trim();
      },
    });
  ((uq = uU || (uU = {})).presets = u9),
    (uq.registry = l5.create({ type: 'filter' })),
    uq.registry.register(uq.presets, !0);
  var uW,
    uX,
    uY = function (t) {
      var e = document.createElement('canvas'),
        n = t.width,
        i = t.height;
      (e.width = 2 * n), (e.height = i);
      var r = e.getContext('2d');
      return (
        r.drawImage(t, 0, 0, n, i),
        r.translate(2 * n, 0),
        r.scale(-1, 1),
        r.drawImage(t, 0, 0, n, i),
        e
      );
    },
    uJ = function (t) {
      var e = document.createElement('canvas'),
        n = t.width,
        i = t.height;
      (e.width = n), (e.height = 2 * i);
      var r = e.getContext('2d');
      return (
        r.drawImage(t, 0, 0, n, i),
        r.translate(0, 2 * i),
        r.scale(1, -1),
        r.drawImage(t, 0, 0, n, i),
        e
      );
    },
    uZ = function (t) {
      var e = document.createElement('canvas'),
        n = t.width,
        i = t.height;
      (e.width = 2 * n), (e.height = 2 * i);
      var r = e.getContext('2d');
      return (
        r.drawImage(t, 0, 0, n, i),
        r.setTransform(-1, 0, 0, -1, e.width, e.height),
        r.drawImage(t, 0, 0, n, i),
        r.setTransform(-1, 0, 0, 1, e.width, 0),
        r.drawImage(t, 0, 0, n, i),
        r.setTransform(1, 0, 0, -1, 0, e.height),
        r.drawImage(t, 0, 0, n, i),
        e
      );
    },
    uK = Object.freeze({
      __proto__: null,
      flipX: uY,
      flipY: uJ,
      flipXY: uZ,
      watermark: function (e, n) {
        var i = e.width,
          r = e.height,
          o = document.createElement('canvas');
        (o.width = 3 * i), (o.height = 3 * r);
        for (
          var s = o.getContext('2d'),
            a = null != n.angle ? -n.angle : -20,
            l = t.Angle.toRad(a),
            u = o.width / 4,
            c = o.height / 4,
            h = 0;
          h < 4;
          h += 1
        )
          for (var p = 0; p < 4; p += 1)
            (h + p) % 2 > 0 &&
              (s.setTransform(1, 0, 0, 1, (2 * h - 1) * u, (2 * p - 1) * c),
              s.rotate(l),
              s.drawImage(e, -i / 2, -r / 2, i, r));
        return o;
      },
    });
  ((uX = uW || (uW = {})).presets = i({}, uK)),
    (uX.presets['flip-x'] = uY),
    (uX.presets['flip-y'] = uJ),
    (uX.presets['flip-xy'] = uZ),
    (uX.registry = l5.create({ type: 'background pattern' })),
    uX.registry.register(uX.presets, !0);
  var uQ,
    ct,
    ce = {
      prefixCls: 'x6',
      autoInsertCSS: !0,
      useCSSSelector: !0,
      trackable: !1,
      trackInfo: {},
      track: function (t) {
        ce.trackable = t;
      },
    };
  (t.Util = void 0),
    ((uQ = t.Util || (t.Util = {})).snapToGrid = ar),
    (uQ.normalizeMarker = ux),
    (uQ.prefix = function (t) {
      return ce.prefixCls + '-' + t;
    }),
    ((t.Util || (t.Util = {})).makeTree = function (t, e, n, i) {
      var r = this;
      void 0 === i && (i = []);
      var o =
        'function' == typeof e.children
          ? e.children(t)
          : t[e.children || 'children'];
      return (
        n || ((n = e.createNode(t)), i.push(n)),
        Array.isArray(o) &&
          o.forEach(function (t) {
            var o = e.createNode(t),
              s = e.createEdge(n, o);
            i.push(o, s), r.makeTree(t, e, o, i);
          }),
        i
      );
    });
  var cn,
    ci,
    cr,
    co = t.Util.prefix('highlighted'),
    cs = {
      highlight: function (t, e, n) {
        sl(e, (n && n.className) || co);
      },
      unhighlight: function (t, e, n) {
        su(e, (n && n.className) || co);
      },
    },
    ca = t.Util.prefix('highlight-opacity'),
    cl = {
      highlight: function (t, e) {
        sl(e, ca);
      },
      unhighlight: function (t, e) {
        su(e, ca);
      },
    },
    cu = {
      padding: 3,
      rx: 0,
      ry: 0,
      attrs: { 'stroke-width': 3, stroke: '#FEB663' },
    },
    cc = {
      highlight: function (e, n, r) {
        var o = cn.getHighlighterId(n, r);
        if (!cn.hasCache(o)) {
          r = re({}, r, cu);
          var s,
            a,
            l = t.Vector.create(n);
          try {
            s = l.toPathData();
          } catch (u) {
            (a = l.bbox(!0)), (s = aV(i(i({}, r), a)));
          }
          var c = sy('path');
          if (
            (s7(
              c,
              i(
                {
                  d: s,
                  'pointer-events': 'none',
                  'vector-effect': 'non-scaling-stroke',
                  fill: 'none',
                },
                r.attrs ? sz(r.attrs) : null
              )
            ),
            e.isEdgeElement(n))
          )
            s7(c, 'd', e.getConnectionPathData());
          else {
            var h = l.getTransformToElement(e.container),
              p = r.padding;
            if (p) {
              null == a && (a = l.bbox(!0));
              var d = a.x + a.width / 2,
                f = a.y + a.height / 2,
                g = Math.max((a = lr(a, h)).width, 1),
                $ = Math.max(a.height, 1),
                v = (g + p) / g,
                y = ($ + p) / $,
                m = a9({ a: v, b: 0, c: 0, d: y, e: d - v * d, f: f - y * f });
              h = h.multiply(m);
            }
            l$(c, h);
          }
          sl(c, t.Util.prefix('highlight-stroke'));
          var _ = e.cell,
            C = function () {
              return cn.removeHighlighter(o);
            };
          _.on('removed', C),
            _.model && _.model.on('reseted', C),
            e.container.appendChild(c),
            cn.setCache(o, c);
        }
      },
      unhighlight: function (t, e, n) {
        cn.removeHighlighter(cn.getHighlighterId(e, n));
      },
    };
  ((ci = cn || (cn = {})).getHighlighterId = function (t, e) {
    return sd(t), t.id + JSON.stringify(e);
  }),
    (cr = {}),
    (ci.setCache = function (t, e) {
      cr[t] = e;
    }),
    (ci.hasCache = function (t) {
      return null != cr[t];
    }),
    (ci.removeHighlighter = function (t) {
      var e = cr[t];
      e && (sA(e), delete cr[t]);
    });
  var ch,
    cp = Object.freeze({
      __proto__: null,
      className: cs,
      opacity: cl,
      stroke: cc,
    });
  function cd(e, n) {
    return (
      void 0 === n && (n = {}), new t.Point(o9(n.x, e.width), o9(n.y, e.height))
    );
  }
  function cf(t, e, n) {
    return i({ angle: e, position: t.toJSON() }, n);
  }
  function cg(e, n, i, r) {
    var o = n.getCenter(),
      s = n.getTopCenter(),
      a = n.width / n.height,
      l = t.Ellipse.fromRect(n),
      u = e.length;
    return e.map(function (t, e) {
      var n = i + r(e, u),
        c = s.clone().rotate(-n, o).scale(a, 1, o),
        h = t.compensateRotate ? -l.tangentTheta(c) : 0;
      return (
        (t.dx || t.dy) && c.translate(t.dx || 0, t.dy || 0),
        t.dr && c.move(o, t.dr),
        cf(c.round(), h, t)
      );
    });
  }
  function c$(e, n, i, o) {
    var s = new t.Line(n, i),
      a = e.length;
    return e.map(function (t, e) {
      var n = t.strict,
        i = r(t, ['strict']),
        l = n || o.strict ? (e + 1) / (a + 1) : (e + 0.5) / a,
        u = s.pointAt(l);
      return (
        (i.dx || i.dy) && u.translate(i.dx || 0, i.dy || 0), cf(u.round(), 0, i)
      );
    });
  }
  ((ch || (ch = {})).check = function (t, e) {
    if ('function' != typeof e.highlight)
      throw Error(
        "Highlighter '" + t + "' is missing required `highlight()` method"
      );
    if ('function' != typeof e.unhighlight)
      throw Error(
        "Highlighter '" + t + "' is missing required `unhighlight()` method"
      );
  }),
    ((cv = ch || (ch = {})).presets = cp),
    (cv.registry = l5.create({ type: 'highlighter' })),
    cv.registry.register(cv.presets, !0);
  var c0,
    cv,
    cy,
    cm,
    c_ = Object.freeze({
      __proto__: null,
      absolute: function (t, e) {
        return t.map(function (t) {
          var n = t.x,
            i = t.y,
            r = t.angle;
          return cf(cd(e, { x: n, y: i }), r || 0);
        });
      },
      ellipse: function (t, e, n) {
        var i = n.start || 0,
          r = n.step || 20;
        return cg(t, e, i, function (t, e) {
          return (t + 0.5 - e / 2) * r;
        });
      },
      ellipseSpread: function (t, e, n) {
        var i = n.start || 0,
          r = n.step || 360 / t.length;
        return cg(t, e, i, function (t) {
          return t * r;
        });
      },
      line: function (t, e, n) {
        return c$(
          t,
          cd(e, n.start || e.getOrigin()),
          cd(e, n.end || e.getCorner()),
          n
        );
      },
      left: function (t, e, n) {
        return c$(t, e.getTopLeft(), e.getBottomLeft(), n);
      },
      right: function (t, e, n) {
        return c$(t, e.getTopRight(), e.getBottomRight(), n);
      },
      top: function (t, e, n) {
        return c$(t, e.getTopLeft(), e.getTopRight(), n);
      },
      bottom: function (t, e, n) {
        return c$(t, e.getBottomLeft(), e.getBottomRight(), n);
      },
    });
  ((cm = cy || (cy = {})).presets = c_),
    (cm.registry = l5.create({ type: 'port layout' })),
    cm.registry.register(cm.presets, !0);
  var cC = {
    position: { x: 0, y: 0 },
    angle: 0,
    attrs: { '.': { y: '0', 'text-anchor': 'start' } },
  };
  function cb(t, e) {
    var n,
      i = e || {},
      r = i.x,
      o = i.y;
    return re(
      {},
      { angle: i.angle, attrs: i.attrs, position: { x: r, y: o } },
      t,
      cC
    );
  }
  function cx(t, e, n, i) {
    var r,
      o,
      s,
      a,
      l = null != i.offset ? i.offset : 15,
      u = e.getCenter().theta(t),
      c = c1(e),
      h = 0;
    return (
      u < c[1] || u > c[2]
        ? ((r = '.3em'), (o = l), (s = 0), (a = 'start'))
        : u < c[0]
        ? ((r = '0'),
          (o = 0),
          (s = -l),
          n ? ((h = -90), (a = 'start')) : (a = 'middle'))
        : u < c[3]
        ? ((r = '.3em'), (o = -l), (s = 0), (a = 'end'))
        : ((r = '.6em'),
          (o = 0),
          (s = l),
          n ? ((h = 90), (a = 'start')) : (a = 'middle')),
      cb(
        {
          position: { x: Math.round(o), y: Math.round(s) },
          angle: h,
          attrs: { '.': { y: r, 'text-anchor': a } },
        },
        i
      )
    );
  }
  function cw(t, e, n, i) {
    var r,
      o,
      s,
      a,
      l = null != i.offset ? i.offset : 15,
      u = e.getCenter().theta(t),
      c = c1(e),
      h = 0;
    return (
      u < c[1] || u > c[2]
        ? ((r = '.3em'), (o = -l), (s = 0), (a = 'end'))
        : u < c[0]
        ? ((r = '.6em'),
          (o = 0),
          (s = l),
          n ? ((h = 90), (a = 'start')) : (a = 'middle'))
        : u < c[3]
        ? ((r = '.3em'), (o = l), (s = 0), (a = 'start'))
        : ((r = '0em'),
          (o = 0),
          (s = -l),
          n ? ((h = -90), (a = 'start')) : (a = 'middle')),
      cb(
        {
          position: { x: Math.round(o), y: Math.round(s) },
          angle: h,
          attrs: { '.': { y: r, 'text-anchor': a } },
        },
        i
      )
    );
  }
  function c1(t) {
    var e = t.getCenter(),
      n = e.theta(t.getTopLeft()),
      i = e.theta(t.getBottomLeft()),
      r = e.theta(t.getBottomRight());
    return [n, e.theta(t.getTopRight()), r, i];
  }
  function cP(e, n, i) {
    var r,
      o = null != i.offset ? i.offset : 20,
      s = new t.Point(0, 0),
      a = -e.theta(s),
      l = '.3em',
      u = a;
    return (
      (a + 90) % 180 == 0
        ? ((r = n ? 'end' : 'middle'), n || -270 !== a || (l = '0em'))
        : a > -270 && a < -90
        ? ((r = 'start'), (u = a - 180))
        : (r = 'end'),
      cb(
        {
          position: e.clone().move(s, o).diff(e).round().round().toJSON(),
          angle: n ? u : 0,
          attrs: { '.': { y: l, 'text-anchor': r } },
        },
        i
      )
    );
  }
  var cA,
    cE,
    cS = Object.freeze({
      __proto__: null,
      manual: function (t, e, n) {
        return cb({ position: e.getTopLeft() }, n);
      },
      left: function (t, e, n) {
        return cb(
          {
            position: { x: -15, y: 0 },
            attrs: { '.': { y: '.3em', 'text-anchor': 'end' } },
          },
          n
        );
      },
      right: function (t, e, n) {
        return cb(
          {
            position: { x: 15, y: 0 },
            attrs: { '.': { y: '.3em', 'text-anchor': 'start' } },
          },
          n
        );
      },
      top: function (t, e, n) {
        return cb(
          {
            position: { x: 0, y: -15 },
            attrs: { '.': { 'text-anchor': 'middle' } },
          },
          n
        );
      },
      bottom: function (t, e, n) {
        return cb(
          {
            position: { x: 0, y: 15 },
            attrs: { '.': { y: '.6em', 'text-anchor': 'middle' } },
          },
          n
        );
      },
      outside: function (t, e, n) {
        return cx(t, e, !1, n);
      },
      outsideOriented: function (t, e, n) {
        return cx(t, e, !0, n);
      },
      inside: function (t, e, n) {
        return cw(t, e, !1, n);
      },
      insideOriented: function (t, e, n) {
        return cw(t, e, !0, n);
      },
      radial: function (t, e, n) {
        return cP(t.diff(e.getCenter()), !1, n);
      },
      radialOriented: function (t, e, n) {
        return cP(t.diff(e.getCenter()), !0, n);
      },
    });
  ((cE = cA || (cA = {})).presets = cS),
    (cE.registry = l5.create({ type: 'port label layout' })),
    cE.registry.register(cE.presets, !0),
    (t.Color = (function () {
      function t(e, n, i, r) {
        return null == e
          ? this.set(255, 255, 255, 1)
          : 'number' == typeof e
          ? this.set(e, n, i, r)
          : 'string' == typeof e
          ? t.fromString(e) || this
          : Array.isArray(e)
          ? this.set(e)
          : void this.set(e.r, e.g, e.b, null == e.a ? 1 : e.a);
      }
      return (
        (t.prototype.blend = function (t, e, n) {
          this.set(
            t.r + (e.r - t.r) * n,
            t.g + (e.g - t.g) * n,
            t.b + (e.b - t.b) * n,
            t.a + (e.a - t.a) * n
          );
        }),
        (t.prototype.lighten = function (e) {
          var n = t.lighten(this.toArray(), e);
          (this.r = n[0]), (this.g = n[1]), (this.b = n[2]), (this.a = n[3]);
        }),
        (t.prototype.darken = function (t) {
          this.lighten(-t);
        }),
        (t.prototype.set = function (t, e, n, i) {
          var r = Array.isArray(t) ? t[0] : t,
            o = Array.isArray(t) ? t[1] : e,
            s = Array.isArray(t) ? t[2] : n,
            a = Array.isArray(t) ? t[3] : i;
          return (
            (this.r = Math.round(n2(r, 0, 255))),
            (this.g = Math.round(n2(o, 0, 255))),
            (this.b = Math.round(n2(s, 0, 255))),
            (this.a = null == a ? 1 : n2(a, 0, 1)),
            this
          );
        }),
        (t.prototype.toHex = function () {
          var t = this;
          return (
            '#' +
            ['r', 'g', 'b']
              .map(function (e) {
                var n = t[e].toString(16);
                return n.length < 2 ? '0' + n : n;
              })
              .join('')
          );
        }),
        (t.prototype.toRGBA = function () {
          return this.toArray();
        }),
        (t.prototype.toHSLA = function () {
          return t.rgba2hsla(this.r, this.g, this.b, this.a);
        }),
        (t.prototype.toCSS = function (t) {
          var e = this.r + ',' + this.g + ',' + this.b + ',';
          return t ? 'rgb(' + e + ')' : 'rgba(' + e + ',' + this.a + ')';
        }),
        (t.prototype.toGrey = function () {
          return t.makeGrey(Math.round((this.r + this.g + this.b) / 3), this.a);
        }),
        (t.prototype.toArray = function () {
          return [this.r, this.g, this.b, this.a];
        }),
        (t.prototype.toString = function () {
          return this.toCSS();
        }),
        t
      );
    })()),
    (function (t) {
      function e(e) {
        return new t(s(s([], l(e), !0), [1], !1));
      }
      function n(e) {
        var n = e.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);
        if (n) {
          var i = n[1].split(/\s*,\s*/).map(function (t) {
            return parseInt(t, 10);
          });
          return new t(i);
        }
        return null;
      }
      function i(t, e, n) {
        n < 0 && ++n, n > 1 && --n;
        var i = 6 * n;
        return i < 1
          ? t + (e - t) * i
          : 2 * n < 1
          ? e
          : 3 * n < 2
          ? t + (e - t) * (2 / 3 - n) * 6
          : t;
      }
      function r(e) {
        var n = e.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);
        if (n) {
          var i = n[2].split(/\s*,\s*/),
            r = (((parseFloat(i[0]) % 360) + 360) % 360) / 360,
            s = parseFloat(i[1]) / 100,
            a = parseFloat(i[2]) / 100,
            l = null == i[3] ? 1 : parseInt(i[3], 10);
          return new t(o(r, s, a, l));
        }
        return null;
      }
      function o(t, e, n, r) {
        var o = Array.isArray(t) ? t[0] : t,
          s = Array.isArray(t) ? t[1] : e,
          a = Array.isArray(t) ? t[2] : n,
          l = Array.isArray(t) ? t[3] : r,
          u = a <= 0.5 ? a * (s + 1) : a + s - a * s,
          c = 2 * a - u;
        return [
          256 * i(c, u, o + 1 / 3),
          256 * i(c, u, o),
          256 * i(c, u, o - 1 / 3),
          null == l ? 1 : l,
        ];
      }
      function a(e) {
        return new t(
          Math.round(256 * Math.random()),
          Math.round(256 * Math.random()),
          Math.round(256 * Math.random()),
          e ? void 0 : parseFloat(Math.random().toFixed(2))
        );
      }
      function l(t) {
        var e = 0 === t.indexOf('#') ? t : '#' + t,
          n = Number('0x' + e.substr(1));
        if ((4 !== e.length && 7 !== e.length) || Number.isNaN(n))
          throw Error('Invalid hex color.');
        var i = 4 === e.length ? 4 : 8,
          r = (1 << i) - 1,
          o = ['b', 'g', 'r'].map(function () {
            var t = n & r;
            return (n >>= i), 4 === i ? 17 * t : t;
          });
        return [o[2], o[1], o[0]];
      }
      function u(t, e, n) {
        var i = function (t) {
          return t.length < 2 ? '0' + t : t;
        };
        return '' + i(t.toString(16)) + i(e.toString(16)) + i(n.toString(16));
      }
      function c(t, e) {
        if ('string' == typeof t) {
          var n = '#' === t[0],
            i = parseInt(n ? t.substr(1) : t, 16),
            r = n2((i >> 16) + e, 0, 255),
            o = n2(((i >> 8) & 255) + e, 0, 255);
          return (
            (n ? '#' : '') +
            (n2((255 & i) + e, 0, 255) | (o << 8) | (r << 16)).toString(16)
          );
        }
        var s = l(c(u(t[0], t[1], t[2]), e));
        return [s[0], s[1], s[2], t[3]];
      }
      (t.fromArray = function (e) {
        return new t(e);
      }),
        (t.fromHex = e),
        (t.fromRGBA = n),
        (t.fromHSLA = r),
        (t.fromString = function (i) {
          if (i.startsWith('#')) return e(i);
          if (i.startsWith('rgb')) return n(i);
          var o = t.named[i];
          return o ? e(o) : r(i);
        }),
        (t.makeGrey = function (e, n) {
          return t.fromArray([e, e, e, n]);
        }),
        (t.rgba2hsla = function (t, e, n, i) {
          var r = Array.isArray(t) ? t[0] : t,
            o = Array.isArray(t) ? t[1] : e,
            s = Array.isArray(t) ? t[2] : n,
            a = Array.isArray(t) ? t[3] : i,
            l = Math.max(r, o, s),
            u = Math.min(r, o, s),
            c = (l + u) / 2,
            h = 0,
            p = 0;
          if (u !== l) {
            var d = l - u;
            switch (((p = c > 0.5 ? d / (2 - l - u) : d / (l + u)), l)) {
              case r:
                h = (o - s) / d + (o < s ? 6 : 0);
                break;
              case o:
                h = (s - r) / d + 2;
                break;
              case s:
                h = (r - o) / d + 4;
            }
            h /= 6;
          }
          return [h, p, c, null == a ? 1 : a];
        }),
        (t.hsla2rgba = o),
        (t.random = a),
        (t.randomHex = function () {
          for (var t = '#', e = 0; e < 6; e += 1)
            t += '0123456789ABCDEF'[Math.floor(16 * Math.random())];
          return t;
        }),
        (t.randomRGBA = function (t) {
          return a(t).toString();
        }),
        (t.invert = function (t, e) {
          if ('string' == typeof t) {
            var n = '#' === t[0],
              i = l(t),
              r = i[0],
              o = i[1],
              s = i[2];
            return e
              ? 0.299 * r + 0.587 * o + 0.114 * s > 186
                ? '#000000'
                : '#ffffff'
              : (n ? '#' : '') + u(255 - r, 255 - o, 255 - s);
          }
          var a = t[0],
            c = t[1],
            h = t[2],
            p = t[3];
          return e
            ? 0.299 * a + 0.587 * c + 0.114 * h > 186
              ? [0, 0, 0, p]
              : [255, 255, 255, p]
            : [255 - a, 255 - c, 255 - h, p];
        }),
        (t.lighten = function (t, e) {
          return c(t, e);
        }),
        (t.darken = function (t, e) {
          return c(t, -e);
        });
    })(t.Color || (t.Color = {})),
    ((t.Color || (t.Color = {})).named = {
      aliceblue: '#f0f8ff',
      antiquewhite: '#faebd7',
      aqua: '#00ffff',
      aquamarine: '#7fffd4',
      azure: '#f0ffff',
      beige: '#f5f5dc',
      bisque: '#ffe4c4',
      black: '#000000',
      blanchedalmond: '#ffebcd',
      blue: '#0000ff',
      blueviolet: '#8a2be2',
      brown: '#a52a2a',
      burlywood: '#deb887',
      burntsienna: '#ea7e5d',
      cadetblue: '#5f9ea0',
      chartreuse: '#7fff00',
      chocolate: '#d2691e',
      coral: '#ff7f50',
      cornflowerblue: '#6495ed',
      cornsilk: '#fff8dc',
      crimson: '#dc143c',
      cyan: '#00ffff',
      darkblue: '#00008b',
      darkcyan: '#008b8b',
      darkgoldenrod: '#b8860b',
      darkgray: '#a9a9a9',
      darkgreen: '#006400',
      darkgrey: '#a9a9a9',
      darkkhaki: '#bdb76b',
      darkmagenta: '#8b008b',
      darkolivegreen: '#556b2f',
      darkorange: '#ff8c00',
      darkorchid: '#9932cc',
      darkred: '#8b0000',
      darksalmon: '#e9967a',
      darkseagreen: '#8fbc8f',
      darkslateblue: '#483d8b',
      darkslategray: '#2f4f4f',
      darkslategrey: '#2f4f4f',
      darkturquoise: '#00ced1',
      darkviolet: '#9400d3',
      deeppink: '#ff1493',
      deepskyblue: '#00bfff',
      dimgray: '#696969',
      dimgrey: '#696969',
      dodgerblue: '#1e90ff',
      firebrick: '#b22222',
      floralwhite: '#fffaf0',
      forestgreen: '#228b22',
      fuchsia: '#ff00ff',
      gainsboro: '#dcdcdc',
      ghostwhite: '#f8f8ff',
      gold: '#ffd700',
      goldenrod: '#daa520',
      gray: '#808080',
      green: '#008000',
      greenyellow: '#adff2f',
      grey: '#808080',
      honeydew: '#f0fff0',
      hotpink: '#ff69b4',
      indianred: '#cd5c5c',
      indigo: '#4b0082',
      ivory: '#fffff0',
      khaki: '#f0e68c',
      lavender: '#e6e6fa',
      lavenderblush: '#fff0f5',
      lawngreen: '#7cfc00',
      lemonchiffon: '#fffacd',
      lightblue: '#add8e6',
      lightcoral: '#f08080',
      lightcyan: '#e0ffff',
      lightgoldenrodyellow: '#fafad2',
      lightgray: '#d3d3d3',
      lightgreen: '#90ee90',
      lightgrey: '#d3d3d3',
      lightpink: '#ffb6c1',
      lightsalmon: '#ffa07a',
      lightseagreen: '#20b2aa',
      lightskyblue: '#87cefa',
      lightslategray: '#778899',
      lightslategrey: '#778899',
      lightsteelblue: '#b0c4de',
      lightyellow: '#ffffe0',
      lime: '#00ff00',
      limegreen: '#32cd32',
      linen: '#faf0e6',
      magenta: '#ff00ff',
      maroon: '#800000',
      mediumaquamarine: '#66cdaa',
      mediumblue: '#0000cd',
      mediumorchid: '#ba55d3',
      mediumpurple: '#9370db',
      mediumseagreen: '#3cb371',
      mediumslateblue: '#7b68ee',
      mediumspringgreen: '#00fa9a',
      mediumturquoise: '#48d1cc',
      mediumvioletred: '#c71585',
      midnightblue: '#191970',
      mintcream: '#f5fffa',
      mistyrose: '#ffe4e1',
      moccasin: '#ffe4b5',
      navajowhite: '#ffdead',
      navy: '#000080',
      oldlace: '#fdf5e6',
      olive: '#808000',
      olivedrab: '#6b8e23',
      orange: '#ffa500',
      orangered: '#ff4500',
      orchid: '#da70d6',
      palegoldenrod: '#eee8aa',
      palegreen: '#98fb98',
      paleturquoise: '#afeeee',
      palevioletred: '#db7093',
      papayawhip: '#ffefd5',
      peachpuff: '#ffdab9',
      peru: '#cd853f',
      pink: '#ffc0cb',
      plum: '#dda0dd',
      powderblue: '#b0e0e6',
      purple: '#800080',
      rebeccapurple: '#663399',
      red: '#ff0000',
      rosybrown: '#bc8f8f',
      royalblue: '#4169e1',
      saddlebrown: '#8b4513',
      salmon: '#fa8072',
      sandybrown: '#f4a460',
      seagreen: '#2e8b57',
      seashell: '#fff5ee',
      sienna: '#a0522d',
      silver: '#c0c0c0',
      skyblue: '#87ceeb',
      slateblue: '#6a5acd',
      slategray: '#708090',
      slategrey: '#708090',
      snow: '#fffafa',
      springgreen: '#00ff7f',
      steelblue: '#4682b4',
      tan: '#d2b48c',
      teal: '#008080',
      thistle: '#d8bfd8',
      tomato: '#ff6347',
      turquoise: '#40e0d0',
      violet: '#ee82ee',
      wheat: '#f5deb3',
      white: '#ffffff',
      whitesmoke: '#f5f5f5',
      yellow: '#ffff00',
      yellowgreen: '#9acd32',
    });
  var ck,
    c4,
    cT = (function () {
      function t() {
        this.listeners = {};
      }
      return (
        (t.prototype.on = function (t, e, n) {
          return (
            null == e ||
              (this.listeners[t] || (this.listeners[t] = []),
              this.listeners[t].push(e, n)),
            this
          );
        }),
        (t.prototype.once = function (t, e, n) {
          var i = this,
            r = function () {
              for (var o = [], s = 0; s < arguments.length; s++)
                o[s] = arguments[s];
              return i.off(t, r), ck.call([e, n], o);
            };
          return this.on(t, r, this);
        }),
        (t.prototype.off = function (t, e, n) {
          if (!(t || e || n)) return (this.listeners = {}), this;
          var i = this.listeners;
          return (
            (t ? [t] : Object.keys(i)).forEach(function (t) {
              var r = i[t];
              if (r) {
                if (e || n)
                  for (var o = r.length - 2; o >= 0; o -= 2)
                    (e && r[o] !== e) ||
                      (n && r[o + 1] !== n) ||
                      r.splice(o, 2);
                else delete i[t];
              }
            }),
            this
          );
        }),
        (t.prototype.trigger = function (t) {
          for (var e = [], n = 1; n < arguments.length; n++)
            e[n - 1] = arguments[n];
          var i = !0;
          if ('*' !== t) {
            var r = this.listeners[t];
            null != r && (i = ck.call(s([], r, !0), e));
          }
          var o = this.listeners['*'];
          return null != o ? st([i, ck.call(s([], o, !0), s([t], e, !0))]) : i;
        }),
        (t.prototype.emit = function (t) {
          for (var e = [], n = 1; n < arguments.length; n++)
            e[n - 1] = arguments[n];
          return this.trigger.apply(this, s([t], e, !1));
        }),
        t
      );
    })();
  ((ck || (ck = {})).call = function (t, e) {
    for (var n = [], i = 0; i < t.length; i += 2) {
      var r = oJ(t[i], t[i + 1], Array.isArray(e) ? e : [e]);
      n.push(r);
    }
    return st(n);
  }),
    (t.Disposable = (function () {
      function t() {}
      return (
        Object.defineProperty(t.prototype, 'disposed', {
          get: function () {
            return !0 === this._disposed;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.dispose = function () {
          this._disposed = !0;
        }),
        t
      );
    })()),
    ((t.Disposable || (t.Disposable = {})).dispose = function () {
      return function (t, e, n) {
        var i = n.value,
          r = t.__proto__;
        n.value = function () {
          this.disposed || (i.call(this), r.dispose.call(this));
        };
      };
    });
  var c3,
    cM = (function () {
      function t(t) {
        this.callback = t;
      }
      return (
        Object.defineProperty(t.prototype, 'disposed', {
          get: function () {
            return !this.callback;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.dispose = function () {
          if (this.callback) {
            var t = this.callback;
            (this.callback = null), t();
          }
        }),
        t
      );
    })();
  (t.DisposableSet = (function () {
    function t() {
      (this.isDisposed = !1), (this.items = new Set());
    }
    return (
      Object.defineProperty(t.prototype, 'disposed', {
        get: function () {
          return this.isDisposed;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (t.prototype.dispose = function () {
        this.isDisposed ||
          ((this.isDisposed = !0),
          this.items.forEach(function (t) {
            t.dispose();
          }),
          this.items.clear());
      }),
      (t.prototype.contains = function (t) {
        return this.items.has(t);
      }),
      (t.prototype.add = function (t) {
        this.items.add(t);
      }),
      (t.prototype.remove = function (t) {
        this.items.delete(t);
      }),
      (t.prototype.clear = function () {
        this.items.clear();
      }),
      t
    );
  })()),
    ((c3 = t.DisposableSet || (t.DisposableSet = {})).from = function (t) {
      var e = new c3();
      return (
        t.forEach(function (t) {
          e.add(t);
        }),
        e
      );
    }),
    (t.Basecoat = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return n(e, t), e;
    })(cT)),
    ((t.Basecoat || (t.Basecoat = {})).dispose = t.Disposable.dispose),
    oS(t.Basecoat, t.Disposable);
  var cD,
    c2,
    cN,
    cL,
    c5,
    c6,
    c7,
    cF = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'disabled', {
          get: function () {
            return !0 === this._disabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.enable = function () {
          delete this._disabled;
        }),
        (e.prototype.disable = function () {
          this._disabled = !0;
        }),
        e
      );
    })(t.Basecoat),
    cz = (function (e) {
      function i() {
        var t = e.call(this) || this;
        return t.clear(), t;
      }
      return (
        n(i, e),
        (i.prototype.clear = function () {
          (this.map = new WeakMap()), (this.arr = []);
        }),
        (i.prototype.has = function (t) {
          return this.map.has(t);
        }),
        (i.prototype.get = function (t) {
          return this.map.get(t);
        }),
        (i.prototype.set = function (t, e) {
          this.map.set(t, e), this.arr.push(t);
        }),
        (i.prototype.delete = function (t) {
          var e = this.arr.indexOf(t);
          e >= 0 && this.arr.splice(e, 1);
          var n = this.map.get(t);
          return this.map.delete(t), n;
        }),
        (i.prototype.each = function (t) {
          var e = this;
          this.arr.forEach(function (n) {
            t(e.map.get(n), n);
          });
        }),
        (i.prototype.dispose = function () {
          this.clear();
        }),
        o([t.Disposable.dispose()], i.prototype, 'dispose', null),
        i
      );
    })(t.Disposable);
  function cB(t, e) {
    return 0 === e ? '0%' : Math.round((t / e) * 100) + '%';
  }
  function cO(e) {
    return function (n, i, r, o) {
      var s, a, l, u, c, h, p, d, f, g, $, v;
      return i.isEdgeElement(r)
        ? (function (t, e, n, i, r) {
            var o = n.getConnection();
            if (!o) return e;
            var s = o.closestPointLength(r);
            if (t) {
              var a = o.length();
              e.anchor = { name: 'ratio', args: { ratio: s / a } };
            } else e.anchor = { name: 'length', args: { length: s } };
            return e;
          })(e, n, i, 0, o)
        : ((s = e),
          (a = n),
          (l = i),
          (u = r),
          (c = o),
          (p = (h = l.cell).getAngle()),
          (d = l.getUnrotatedBBoxOfElement(u)),
          (f = h.getBBox().getCenter()),
          ($ = (g = t.Point.create(c).rotate(p, f)).x - d.x),
          (v = g.y - d.y),
          s && (($ = cB($, d.width)), (v = cB(v, d.height))),
          (a.anchor = { name: 'topLeft', args: { dx: $, dy: v, rotate: !0 } }),
          a);
    };
  }
  (t.PriorityQueue = (function () {
    function t(e) {
      void 0 === e && (e = {}),
        (this.comparator = e.comparator || t.defaultComparator),
        (this.index = {}),
        (this.data = e.data || []),
        this.heapify();
    }
    return (
      (t.prototype.isEmpty = function () {
        return 0 === this.data.length;
      }),
      (t.prototype.insert = function (t, e, n) {
        var i = { priority: t, value: e },
          r = this.data.length;
        return (
          n && ((i.id = n), (this.index[n] = r)),
          this.data.push(i),
          this.bubbleUp(r),
          this
        );
      }),
      (t.prototype.peek = function () {
        return this.data[0] ? this.data[0].value : null;
      }),
      (t.prototype.peekPriority = function () {
        return this.data[0] ? this.data[0].priority : null;
      }),
      (t.prototype.updatePriority = function (t, e) {
        var n = this.index[t];
        if (void 0 === n)
          throw Error("Node with id '" + t + "' was not found in the heap.");
        var i = this.data,
          r = i[n].priority,
          o = this.comparator(e, r);
        o < 0
          ? ((i[n].priority = e), this.bubbleUp(n))
          : o > 0 && ((i[n].priority = e), this.bubbleDown(n));
      }),
      (t.prototype.remove = function () {
        var t = this.data,
          e = t[0],
          n = t.pop();
        return (
          e.id && delete this.index[e.id],
          t.length > 0 &&
            ((t[0] = n), n.id && (this.index[n.id] = 0), this.bubbleDown(0)),
          e ? e.value : null
        );
      }),
      (t.prototype.heapify = function () {
        for (var t = 0; t < this.data.length; t += 1) this.bubbleUp(t);
      }),
      (t.prototype.bubbleUp = function (t) {
        for (
          var e, n, i = this.data, r = t;
          r > 0 &&
          ((n = (r - 1) >>> 1),
          0 > this.comparator(i[r].priority, i[n].priority));

        ) {
          (e = i[n]), (i[n] = i[r]);
          var o = i[r].id;
          null != o && (this.index[o] = n),
            (i[r] = e),
            null != (o = i[r].id) && (this.index[o] = r),
            (r = n);
        }
      }),
      (t.prototype.bubbleDown = function (t) {
        for (var e = this.data, n = e.length - 1, i = t; ; ) {
          var r = 1 + (i << 1),
            o = r + 1,
            s = i;
          if (
            (r <= n &&
              0 > this.comparator(e[r].priority, e[s].priority) &&
              (s = r),
            o <= n &&
              0 > this.comparator(e[o].priority, e[s].priority) &&
              (s = o),
            s === i)
          )
            break;
          var a = e[s];
          e[s] = e[i];
          var l = e[i].id;
          null != l && (this.index[l] = s),
            (e[i] = a),
            null != (l = e[i].id) && (this.index[l] = i),
            (i = s);
        }
      }),
      t
    );
  })()),
    ((t.PriorityQueue || (t.PriorityQueue = {})).defaultComparator = function (
      t,
      e
    ) {
      return t - e;
    }),
    (t.Dijkstra = void 0),
    ((t.Dijkstra || (t.Dijkstra = {})).run = function (e, n, i) {
      void 0 === i &&
        (i = function (t, e) {
          return 1;
        });
      var r = {},
        o = {},
        s = {},
        a = new t.PriorityQueue();
      for (
        r[n] = 0,
          Object.keys(e).forEach(function (t) {
            t !== n && (r[t] = 1 / 0), a.insert(r[t], t, t);
          });
        !a.isEmpty();

      ) {
        var l = a.remove();
        s[l] = !0;
        for (var u = e[l] || [], c = 0; c < u.length; c += 1) {
          var h = u[c];
          if (!s[h]) {
            var p = r[l] + i(l, h);
            p < r[h] && ((r[h] = p), (o[h] = l), a.updatePriority(h, p));
          }
        }
      }
      return o;
    }),
    (t.Timing = void 0),
    ((cD = t.Timing || (t.Timing = {})).linear = function (t) {
      return t;
    }),
    (cD.quad = function (t) {
      return t * t;
    }),
    (cD.cubic = function (t) {
      return t * t * t;
    }),
    (cD.inout = function (t) {
      if (t <= 0) return 0;
      if (t >= 1) return 1;
      var e = t * t,
        n = e * t;
      return 4 * (t < 0.5 ? n : 3 * (t - e) + n - 0.75);
    }),
    (cD.exponential = function (t) {
      return Math.pow(2, 10 * (t - 1));
    }),
    (cD.bounce = function (t) {
      for (var e = 0, n = 1; ; e += n, n /= 2)
        if (t >= (7 - 4 * e) / 11) {
          var i = (11 - 6 * e - 11 * t) / 4;
          return -i * i + n * n;
        }
    }),
    ((t.Timing || (t.Timing = {})).decorators = {
      reverse: function (t) {
        return function (e) {
          return 1 - t(1 - e);
        };
      },
      reflect: function (t) {
        return function (e) {
          return 0.5 * (e < 0.5 ? t(2 * e) : 2 - t(2 - 2 * e));
        };
      },
      clamp: function (t, e, n) {
        return (
          void 0 === e && (e = 0),
          void 0 === n && (n = 1),
          function (i) {
            var r = t(i);
            return r < e ? e : r > n ? n : r;
          }
        );
      },
      back: function (t) {
        return (
          void 0 === t && (t = 1.70158),
          function (e) {
            return e * e * ((t + 1) * e - t);
          }
        );
      },
      elastic: function (t) {
        return (
          void 0 === t && (t = 1.5),
          function (e) {
            return (
              Math.pow(2, 10 * (e - 1)) * Math.cos(((20 * Math.PI * t) / 3) * e)
            );
          }
        );
      },
    }),
    (function (t) {
      function e(t) {
        var e,
          n = t / 1;
        return n < 1 / 2.75
          ? 7.5625 * n * n
          : n < 2 / 2.75
          ? 7.5625 * (e = n - 1.5 / 2.75) * e + 0.75
          : n < 2.5 / 2.75
          ? 7.5625 * (e = n - 2.25 / 2.75) * e + 0.9375
          : 7.5625 * (e = n - 2.625 / 2.75) * e + 0.984375;
      }
      function n(t) {
        return 1 - e(1 - t);
      }
      (t.easeInSine = function (t) {
        return -1 * Math.cos(t * (Math.PI / 2)) + 1;
      }),
        (t.easeOutSine = function (t) {
          return Math.sin(t * (Math.PI / 2));
        }),
        (t.easeInOutSine = function (t) {
          return -0.5 * (Math.cos(Math.PI * t) - 1);
        }),
        (t.easeInQuad = function (t) {
          return t * t;
        }),
        (t.easeOutQuad = function (t) {
          return t * (2 - t);
        }),
        (t.easeInOutQuad = function (t) {
          return t < 0.5 ? 2 * t * t : (4 - 2 * t) * t - 1;
        }),
        (t.easeInCubic = function (t) {
          return t * t * t;
        }),
        (t.easeOutCubic = function (t) {
          var e = t - 1;
          return e * e * e + 1;
        }),
        (t.easeInOutCubic = function (t) {
          return t < 0.5
            ? 4 * t * t * t
            : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
        }),
        (t.easeInQuart = function (t) {
          return t * t * t * t;
        }),
        (t.easeOutQuart = function (t) {
          var e = t - 1;
          return 1 - e * e * e * e;
        }),
        (t.easeInOutQuart = function (t) {
          var e = t - 1;
          return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * e * e * e * e;
        }),
        (t.easeInQuint = function (t) {
          return t * t * t * t * t;
        }),
        (t.easeOutQuint = function (t) {
          var e = t - 1;
          return 1 + e * e * e * e * e;
        }),
        (t.easeInOutQuint = function (t) {
          var e = t - 1;
          return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * e * e * e * e * e;
        }),
        (t.easeInExpo = function (t) {
          return 0 === t ? 0 : Math.pow(2, 10 * (t - 1));
        }),
        (t.easeOutExpo = function (t) {
          return 1 === t ? 1 : 1 - Math.pow(2, -10 * t);
        }),
        (t.easeInOutExpo = function (t) {
          if (0 === t || 1 === t) return t;
          var e = 2 * t,
            n = e - 1;
          return e < 1
            ? 0.5 * Math.pow(2, 10 * n)
            : 0.5 * (2 - Math.pow(2, -10 * n));
        }),
        (t.easeInCirc = function (t) {
          return -1 * (Math.sqrt(1 - (t / 1) * t) - 1);
        }),
        (t.easeOutCirc = function (t) {
          var e = t - 1;
          return Math.sqrt(1 - e * e);
        }),
        (t.easeInOutCirc = function (t) {
          var e = 2 * t,
            n = e - 2;
          return e < 1
            ? -0.5 * (Math.sqrt(1 - e * e) - 1)
            : 0.5 * (Math.sqrt(1 - n * n) + 1);
        }),
        (t.easeInBack = function (t, e) {
          return void 0 === e && (e = 1.70158), t * t * ((e + 1) * t - e);
        }),
        (t.easeOutBack = function (t, e) {
          void 0 === e && (e = 1.70158);
          var n = t / 1 - 1;
          return n * n * ((e + 1) * n + e) + 1;
        }),
        (t.easeInOutBack = function (t, e) {
          void 0 === e && (e = 1.70158);
          var n = 2 * t,
            i = n - 2,
            r = 1.525 * e;
          return n < 1
            ? 0.5 * n * n * ((r + 1) * n - r)
            : 0.5 * (i * i * ((r + 1) * i + r) + 2);
        }),
        (t.easeInElastic = function (t, e) {
          if ((void 0 === e && (e = 0.7), 0 === t || 1 === t)) return t;
          var n = t / 1 - 1,
            i = 1 - e;
          return (
            -Math.pow(2, 10 * n) *
            Math.sin(
              ((n - (i / (2 * Math.PI)) * Math.asin(1)) * (2 * Math.PI)) / i
            )
          );
        }),
        (t.easeOutElastic = function (t, e) {
          void 0 === e && (e = 0.7);
          var n = 1 - e,
            i = 2 * t;
          return 0 === t || 1 === t
            ? t
            : Math.pow(2, -10 * i) *
                Math.sin(
                  ((i - (n / (2 * Math.PI)) * Math.asin(1)) * (2 * Math.PI)) / n
                ) +
                1;
        }),
        (t.easeInOutElastic = function (t, e) {
          void 0 === e && (e = 0.65);
          var n = 1 - e;
          if (0 === t || 1 === t) return t;
          var i = 2 * t,
            r = i - 1,
            o = (n / (2 * Math.PI)) * Math.asin(1);
          return i < 1
            ? -(
                Math.pow(2, 10 * r) *
                Math.sin(((r - o) * (2 * Math.PI)) / n) *
                0.5
              )
            : Math.pow(2, -10 * r) *
                Math.sin(((r - o) * (2 * Math.PI)) / n) *
                0.5 +
                1;
        }),
        (t.easeOutBounce = e),
        (t.easeInBounce = n),
        (t.easeInOutBounce = function (t) {
          return t < 0.5 ? 0.5 * n(2 * t) : 0.5 * e(2 * t - 1) + 0.5;
        });
    })(t.Timing || (t.Timing = {})),
    (t.Interp = void 0),
    ((c2 = t.Interp || (t.Interp = {})).number = function (t, e) {
      var n = e - t;
      return function (e) {
        return t + n * e;
      };
    }),
    (c2.object = function (t, e) {
      var n = Object.keys(t);
      return function (i) {
        for (var r = {}, o = n.length - 1; -1 !== o; o -= 1) {
          var s = n[o];
          r[s] = t[s] + (e[s] - t[s]) * i;
        }
        return r;
      };
    }),
    (c2.unit = function (t, e) {
      var n = /(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,
        i = n.exec(t),
        r = n.exec(e),
        o = r ? r[1] : '',
        s = i ? +i[1] : 0,
        a = r ? +r[1] : 0,
        l = o.indexOf('.'),
        u = l > 0 ? o[1].length - l - 1 : 0,
        c = a - s,
        h = i ? i[2] : '';
      return function (t) {
        return (s + c * t).toFixed(u) + h;
      };
    }),
    (c2.color = function (t, e) {
      var n = parseInt(t.slice(1), 16),
        i = parseInt(e.slice(1), 16),
        r = 255 & n,
        o = (255 & i) - r,
        s = 65280 & n,
        a = (65280 & i) - s,
        l = 16711680 & n,
        u = (16711680 & i) - l;
      return function (t) {
        return (
          '#' +
          (
            16777216 |
            ((r + o * t) & 255) |
            ((s + a * t) & 65280) |
            ((l + u * t) & 16711680)
          )
            .toString(16)
            .slice(1)
        );
      };
    }),
    (t.LocalStorage = void 0),
    (function (t) {
      var e = ce.prefixCls + '.storage';
      function n(t, e, n) {
        t &&
          rn(function () {
            t(e, n);
          });
      }
      function r(t, e) {
        localStorage.setItem(t, JSON.stringify(e));
      }
      function o(t) {
        var e = localStorage.getItem(t);
        return e ? JSON.parse(e) : null;
      }
      function s(t) {
        var e = o(l(t));
        return e ? (null == e.keys && (e.keys = []), e) : { keys: [] };
      }
      function a(t, n) {
        return e + '.' + t + '.docs.' + n;
      }
      function l(t) {
        return e + '.' + t + '.index';
      }
      (t.insert = function (t, e, o) {
        var u = e.id || ox('doc-'),
          c = s(t);
        c.keys.push(u),
          r(a(t, u), e),
          r(l(t), c),
          n(o, null, i(i({}, e), { id: u }));
      }),
        (t.find = function (t, e, i) {
          var r = s(t),
            l = [];
          if (null == e)
            r.keys.forEach(function (e) {
              var r = o(a(t, e));
              r
                ? l.push(r)
                : n(
                    i,
                    Error("No document found for an ID '" + e + "' from index.")
                  );
            }),
              n(i, null, l);
          else if (e.id) {
            var u = o(a(t, e.id));
            n(i, null, u ? [u] : []);
          } else n(i, null, []);
        }),
        (t.remove = function (t, e, i) {
          var o = s(t);
          if (null == e)
            o.keys.forEach(function (e) {
              localStorage.removeItem(a(t, e));
            }),
              localStorage.removeItem(l(t)),
              n(i, null);
          else if (e.id) {
            var u = o.keys.indexOf(e.id);
            u >= 0 && o.keys.splice(u, 1),
              localStorage.removeItem(a(t, e.id)),
              r(l(t), o),
              n(i, null);
          }
        });
    })(t.LocalStorage || (t.LocalStorage = {})),
    (t.View = (function (e) {
      function r() {
        var t = e.call(this) || this;
        return (t.cid = cL.uniqueId()), (r.views[t.cid] = t), t;
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'priority', {
          get: function () {
            return 2;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.confirmUpdate = function (t, e) {
          return 0;
        }),
        (r.prototype.$ = function (t) {
          return r.$(t);
        }),
        (r.prototype.empty = function (t) {
          return void 0 === t && (t = this.container), this.$(t).empty(), this;
        }),
        (r.prototype.unmount = function (t) {
          return void 0 === t && (t = this.container), this.$(t).remove(), this;
        }),
        (r.prototype.remove = function (t) {
          return (
            void 0 === t && (t = this.container),
            t === this.container &&
              (this.removeEventListeners(document),
              this.onRemove(),
              delete r.views[this.cid]),
            this.unmount(t),
            this
          );
        }),
        (r.prototype.onRemove = function () {}),
        (r.prototype.setClass = function (t, e) {
          void 0 === e && (e = this.container),
            (e.classList.value = Array.isArray(t) ? t.join(' ') : t);
        }),
        (r.prototype.addClass = function (t, e) {
          return (
            void 0 === e && (e = this.container),
            this.$(e).addClass(Array.isArray(t) ? t.join(' ') : t),
            this
          );
        }),
        (r.prototype.removeClass = function (t, e) {
          return (
            void 0 === e && (e = this.container),
            this.$(e).removeClass(Array.isArray(t) ? t.join(' ') : t),
            this
          );
        }),
        (r.prototype.setStyle = function (t, e) {
          return void 0 === e && (e = this.container), this.$(e).css(t), this;
        }),
        (r.prototype.setAttrs = function (t, e) {
          return (
            void 0 === e && (e = this.container),
            null != t &&
              null != e &&
              (e instanceof SVGElement ? s7(e, t) : this.$(e).attr(t)),
            this
          );
        }),
        (r.prototype.findAttr = function (t, e) {
          void 0 === e && (e = this.container);
          for (var n = e; n && 1 === n.nodeType; ) {
            var i = n.getAttribute(t);
            if (null != i) return i;
            if (n === this.container) break;
            n = n.parentNode;
          }
          return null;
        }),
        (r.prototype.find = function (t, e, n) {
          return (
            void 0 === e && (e = this.container),
            void 0 === n && (n = this.selectors),
            r.find(t, e, n).elems
          );
        }),
        (r.prototype.findOne = function (t, e, n) {
          void 0 === e && (e = this.container),
            void 0 === n && (n = this.selectors);
          var i = this.find(t, e, n);
          return i.length > 0 ? i[0] : null;
        }),
        (r.prototype.findByAttr = function (t, e) {
          void 0 === e && (e = this.container);
          for (var n = e; n && n.getAttribute; ) {
            var i = n.getAttribute(t);
            if ((null != i || n === this.container) && 'false' !== i) return n;
            n = n.parentNode;
          }
          return null;
        }),
        (r.prototype.getSelector = function (t, e) {
          var n;
          if (t === this.container)
            return 'string' == typeof e && (n = '> ' + e), n;
          if (t) {
            var i = sb(t) + 1;
            (n = t.tagName.toLowerCase() + ':nth-child(' + i + ')'),
              e && (n += ' > ' + e),
              (n = this.getSelector(t.parentNode, n));
          }
          return n;
        }),
        (r.prototype.prefixClassName = function (e) {
          return t.Util.prefix(e);
        }),
        (r.prototype.delegateEvents = function (t, e) {
          var n = this;
          if (null == t) return this;
          e || this.undelegateEvents();
          var i = /^(\S+)\s*(.*)$/;
          return (
            Object.keys(t).forEach(function (e) {
              var r = e.match(i);
              if (null != r) {
                var o = n.getEventHandler(t[e]);
                'function' == typeof o && n.delegateEvent(r[1], r[2], o);
              }
            }),
            this
          );
        }),
        (r.prototype.undelegateEvents = function () {
          return this.$(this.container).off(this.getEventNamespace()), this;
        }),
        (r.prototype.delegateDocumentEvents = function (t, e) {
          return this.addEventListeners(document, t, e), this;
        }),
        (r.prototype.undelegateDocumentEvents = function () {
          return this.removeEventListeners(document), this;
        }),
        (r.prototype.delegateEvent = function (t, e, n) {
          return (
            this.$(this.container).on(t + this.getEventNamespace(), e, n), this
          );
        }),
        (r.prototype.undelegateEvent = function (t, e, n) {
          var i = t + this.getEventNamespace();
          return (
            null == e
              ? this.$(this.container).off(i)
              : 'string' == typeof e
              ? this.$(this.container).off(i, e, n)
              : this.$(this.container).off(i, e),
            this
          );
        }),
        (r.prototype.addEventListeners = function (t, e, n) {
          var i = this;
          if (null == e) return this;
          var r = this.getEventNamespace(),
            o = this.$(t);
          return (
            Object.keys(e).forEach(function (t) {
              var s = i.getEventHandler(e[t]);
              'function' == typeof s && o.on(t + r, n, s);
            }),
            this
          );
        }),
        (r.prototype.removeEventListeners = function (t) {
          return null != t && this.$(t).off(this.getEventNamespace()), this;
        }),
        (r.prototype.getEventNamespace = function () {
          return '.' + ce.prefixCls + '-event-' + this.cid;
        }),
        (r.prototype.getEventHandler = function (t) {
          var e,
            n = this;
          if ('string' == typeof t) {
            var i = this[t];
            'function' == typeof i &&
              (e = function () {
                for (var t = [], e = 0; e < arguments.length; e++)
                  t[e] = arguments[e];
                return i.call.apply(i, s([n], t, !1));
              });
          } else
            e = function () {
              for (var e = [], i = 0; i < arguments.length; i++)
                e[i] = arguments[i];
              return t.call.apply(t, s([n], e, !1));
            };
          return e;
        }),
        (r.prototype.getEventTarget = function (t, e) {
          void 0 === e && (e = {});
          var n = t.target,
            i = t.type,
            r = t.clientX,
            o = t.clientY;
          return e.fromPoint || 'touchmove' === i || 'touchend' === i
            ? document.elementFromPoint(
                void 0 === r ? 0 : r,
                void 0 === o ? 0 : o
              )
            : n;
        }),
        (r.prototype.stopPropagation = function (t) {
          return this.setEventData(t, { propagationStopped: !0 }), this;
        }),
        (r.prototype.isPropagationStopped = function (t) {
          return !0 === this.getEventData(t).propagationStopped;
        }),
        (r.prototype.getEventData = function (t) {
          return this.eventData(t);
        }),
        (r.prototype.setEventData = function (t, e) {
          return this.eventData(t, e);
        }),
        (r.prototype.eventData = function (t, e) {
          if (null == t) throw TypeError('Event object required');
          var n = t.data,
            r = '__' + this.cid + '__';
          return null == e
            ? null == n
              ? {}
              : n[r] || {}
            : (null == n && (n = t.data = {}),
              null == n[r] ? (n[r] = i({}, e)) : (n[r] = i(i({}, n[r]), e)),
              n[r]);
        }),
        (r.prototype.normalizeEvent = function (t) {
          return r.normalizeEvent(t);
        }),
        r
      );
    })(t.Basecoat)),
    (function (t) {
      function e(t) {
        return d(t);
      }
      (t.$ = e),
        (t.createElement = function (t, e) {
          return e ? sy(t || 'g') : sv(t || 'div');
        }),
        (t.find = function (t, e, n) {
          if (!t || '.' === t) return { elems: [e] };
          if (n) {
            var i,
              r = n[t];
            if (r) return { elems: Array.isArray(r) ? r : [r] };
          }
          return ce.useCSSSelector
            ? {
                isCSSSelector: !0,
                elems: d((i = e))
                  .find(t)
                  .toArray(),
              }
            : { elems: [] };
        }),
        (t.normalizeEvent = function (t) {
          var e = t,
            n = t.originalEvent,
            i = n && n.changedTouches && n.changedTouches[0];
          if (i) {
            for (var r in t) void 0 === i[r] && (i[r] = t[r]);
            e = i;
          }
          var o = e.target;
          if (o) {
            var s = o.correspondingUseElement;
            s && (e.target = s);
          }
          return e;
        });
    })(t.View || (t.View = {})),
    ((cN = t.View || (t.View = {})).views = {}),
    (cN.getView = function (t) {
      return cN.views[t] || null;
    }),
    (c7 = 0),
    ((cL || (cL = {})).uniqueId = function () {
      var t = 'v' + c7;
      return (c7 += 1), t;
    });
  var cV,
    cR,
    cI = cO(!0),
    c8 = cO(!1),
    cG = Object.freeze({
      __proto__: null,
      noop: function (t) {
        return t;
      },
      pinRelative: cI,
      pinAbsolute: c8,
    });
  ((cR = cV || (cV = {})).presets = cG),
    (cR.registry = l5.create({ type: 'connection strategy' })),
    cR.registry.register(cR.presets, !0);
  var cj,
    cH,
    cU,
    cq = (function () {
      function t(t) {
        (this.view = t), this.clean();
      }
      return (
        (t.prototype.clean = function () {
          this.elemCache && this.elemCache.dispose(),
            (this.elemCache = new cz()),
            (this.pathCache = {});
        }),
        (t.prototype.get = function (t) {
          return (
            this.elemCache.has(t) || this.elemCache.set(t, {}),
            this.elemCache.get(t)
          );
        }),
        (t.prototype.getData = function (t) {
          var e = this.get(t);
          return e.data || (e.data = {}), e.data;
        }),
        (t.prototype.getMatrix = function (t) {
          var e = this.get(t);
          if (null == e.matrix) {
            var n = this.view.rotatableNode || this.view.container;
            e.matrix = la(t, n);
          }
          return a9(e.matrix);
        }),
        (t.prototype.getShape = function (t) {
          var e = this.get(t);
          return null == e.shape && (e.shape = lu(t)), e.shape.clone();
        }),
        (t.prototype.getBoundingRect = function (t) {
          var e = this.get(t);
          return (
            null == e.boundingRect && (e.boundingRect = ls(t)),
            e.boundingRect.clone()
          );
        }),
        t
      );
    })();
  (t.Markup = void 0),
    (function (e) {
      function n(t) {
        return null != t && 'string' == typeof t;
      }
      function i(t) {
        return ('' + t)
          .trim()
          .replace(/[\r|\n]/g, ' ')
          .replace(/>\s+</g, '><');
      }
      function r(t, e) {
        void 0 === e && (e = { ns: sg.svg });
        for (
          var n = document.createDocumentFragment(),
            i = {},
            r = {},
            o = [{ markup: Array.isArray(t) ? t : [t], parent: n, ns: e.ns }],
            s = function () {
              var t = o.pop(),
                e = t.ns || sg.svg,
                n = t.markup,
                s = t.parent;
              n.forEach(function (t) {
                var n = t.tagName;
                if (!n) throw TypeError('Invalid tagName');
                t.ns && (e = t.ns);
                var a = e === sg.svg,
                  l = e ? sv(n, e) : s0(n),
                  u = t.attrs;
                u && (a ? s7(l, sz(u)) : d(l).attr(u));
                var c = t.style;
                c && d(l).css(c);
                var h = t.className;
                null != h &&
                  l.setAttribute('class', Array.isArray(h) ? h.join(' ') : h),
                  t.textContent && (l.textContent = t.textContent);
                var p = t.selector;
                if (null != p) {
                  if (r[p]) throw TypeError('Selector must be unique');
                  r[p] = l;
                }
                if (t.groupSelector) {
                  var f = t.groupSelector;
                  Array.isArray(f) || (f = [f]),
                    f.forEach(function (t) {
                      i[t] || (i[t] = []), i[t].push(l);
                    });
                }
                s.appendChild(l);
                var g = t.children;
                Array.isArray(g) && o.push({ ns: e, markup: g, parent: l });
              });
            };
          o.length > 0;

        )
          s();
        return (
          Object.keys(i).forEach(function (t) {
            if (r[t]) throw Error('Ambiguous group selector');
            r[t] = i[t];
          }),
          { fragment: n, selectors: r, groups: i }
        );
      }
      function o(t) {
        return t instanceof SVGElement ? sy('g') : s0('div');
      }
      (e.isJSONMarkup = function (t) {
        return null != t && !n(t);
      }),
        (e.isStringMarkup = n),
        (e.clone = function (t) {
          return null == t || n(t) ? t : ib(t);
        }),
        (e.sanitize = i),
        (e.parseStringMarkup = function (t) {
          var e = document.createDocumentFragment();
          return (
            oG(i(t), { raw: !0 }).forEach(function (t) {
              e.appendChild(t);
            }),
            { fragment: e, selectors: {}, groups: {} }
          );
        }),
        (e.parseJSONMarkup = r),
        (e.renderMarkup = function (e) {
          if (n(e)) {
            var i = t.Vector.createVectors(e),
              s = i.length;
            if (1 === s) return { elem: i[0].node };
            if (s > 1) {
              var a = o(i[0].node);
              return (
                i.forEach(function (t) {
                  a.appendChild(t.node);
                }),
                { elem: a }
              );
            }
            return {};
          }
          var l = r(e),
            u = l.fragment,
            c = null;
          return (
            u.childNodes.length > 1
              ? (c = o(u.firstChild)).appendChild(u)
              : (c = u.firstChild),
            { elem: c, selectors: l.selectors }
          );
        }),
        (e.parseLabelStringMarkup = function (e) {
          for (
            var n = t.Vector.createVectors(e),
              i = document.createDocumentFragment(),
              r = 0,
              o = n.length;
            r < o;
            r += 1
          ) {
            var s = n[r].node;
            i.appendChild(s);
          }
          return { fragment: i, selectors: {} };
        });
    })(t.Markup || (t.Markup = {})),
    (function (t) {
      function e(t, n, i) {
        if (null != t) {
          var r = void 0,
            o = t.tagName.toLowerCase();
          if (t === n)
            return 'string' == typeof i ? '> ' + o + ' > ' + i : '> ' + o;
          var s = t.parentNode;
          return (
            (r =
              s && s.childNodes.length > 1
                ? o + ':nth-child(' + (sb(t) + 1) + ')'
                : o),
            i && (r += ' > ' + i),
            e(t.parentNode, n, r)
          );
        }
        return i;
      }
      (t.getSelector = e),
        (t.xml2json = function (n) {
          var i = s_(t.sanitize(n), { mimeType: 'image/svg+xml' }),
            r = Array.prototype.slice.call(i.childNodes),
            o = {},
            s = new WeakMap(),
            a = function (t, n, i) {
              var r = (function t(n, i, r) {
                if ('#text' === n.nodeName) return null;
                var o = null,
                  s = null,
                  a = null,
                  l = !1,
                  u = { tagName: n.tagName };
                if (n.attributes) {
                  a = {};
                  for (var c = 0, h = n.attributes.length; c < h; c += 1) {
                    var p = n.attributes[c],
                      d = p.nodeName,
                      f = p.nodeValue;
                    'selector' === d
                      ? (o = f)
                      : 'groupSelector' === d
                      ? (s = f)
                      : 'class' === d
                      ? (u.attrs = { class: f })
                      : (a[d] = f);
                  }
                }
                return (
                  null == o && ((l = !0), (o = e(n, i))),
                  n.namespaceURI && (u.ns = n.namespaceURI),
                  null == u.ns &&
                    ([
                      'body',
                      'div',
                      'section',
                      'main',
                      'nav',
                      'footer',
                      'span',
                      'p',
                      'h1',
                      'h2',
                      'h3',
                      'h4',
                      'h5',
                      'h6',
                      'ul',
                      'ol',
                      'dl',
                      'center',
                      'strong',
                      'pre',
                      'form',
                      'select',
                      'textarea',
                      'fieldset',
                      'marquee',
                      'bgsound',
                      'iframe',
                      'frameset',
                    ].includes(n.tagName)
                      ? (u.ns = sg.xhtml)
                      : r && (u.ns = r)),
                  o && (u.selector = o),
                  null != s && (u.groupSelector = s),
                  { markup: u, attrs: a, isCSSSelector: l }
                );
              })(t, n, i);
              if (null != r) {
                var l = r.markup,
                  u = r.attrs,
                  c = r.isCSSSelector;
                if (
                  (s.set(t, l),
                  l.selector &&
                    null != u &&
                    (Object.keys(u).length && (o[l.selector] = u),
                    c && delete l.selector),
                  t.childNodes && t.childNodes.length > 0)
                )
                  for (var h = 0, p = t.childNodes.length; h < p; h += 1) {
                    var d = a(t.childNodes[h], n, l.ns);
                    d &&
                      (null == l.children && (l.children = []),
                      l.children.push(d));
                  }
                return l;
              }
              var f = s.get(t.parentNode);
              f && t.textContent && (f.textContent = t.textContent);
            };
          return {
            markup: r
              .map(function (t) {
                return a(t, t);
              })
              .filter(function (t) {
                return null != t;
              }),
            attrs: o,
          };
        });
    })(t.Markup || (t.Markup = {})),
    ((cj = t.Markup || (t.Markup = {})).getPortContainerMarkup = function () {
      return 'g';
    }),
    (cj.getPortMarkup = function () {
      return {
        tagName: 'circle',
        selector: 'circle',
        attrs: { r: 10, fill: '#FFFFFF', stroke: '#000000' },
      };
    }),
    (cj.getPortLabelMarkup = function () {
      return { tagName: 'text', selector: 'text', attrs: { fill: '#000000' } };
    }),
    ((cH = t.Markup || (t.Markup = {})).getEdgeMarkup = function () {
      return cH.sanitize(
        '\n    <path class="connection" stroke="black" d="M 0 0 0 0"/>\n    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>\n    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>\n    <path class="connection-wrap" d="M 0 0 0 0"/>\n    <g class="labels"/>\n    <g class="vertices"/>\n    <g class="arrowheads"/>\n    <g class="tools"/>\n  '
      );
    }),
    (cH.getEdgeToolMarkup = function () {
      return cH.sanitize(
        '\n    <g class="edge-tool">\n      <g class="tool-remove" event="edge:remove">\n        <circle r="11" />\n        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />\n        <title>Remove edge.</title>\n      </g>\n      <g class="tool-options" event="edge:options">\n        <circle r="11" transform="translate(25)"/>\n        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>\n        <title>Edge options.</title>\n      </g>\n    </g>\n  '
      );
    }),
    (cH.getEdgeVertexMarkup = function () {
      return cH.sanitize(
        '\n    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">\n      <circle class="vertex" data-index="<%= index %>" r="10" />\n      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>\n      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">\n      <title>Remove vertex.</title>\n      </path>\n    </g>\n  '
      );
    }),
    (cH.getEdgeArrowheadMarkup = function () {
      return cH.sanitize(
        '\n    <g class="arrowhead-group arrowhead-group-<%= end %>">\n      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />\n    </g>\n  '
      );
    }),
    ((t.Markup || (t.Markup = {})).getForeignObjectMarkup = function (t) {
      return (
        void 0 === t && (t = !1),
        {
          tagName: 'foreignObject',
          selector: 'fo',
          children: [
            {
              ns: sg.xhtml,
              tagName: 'body',
              selector: 'foBody',
              attrs: { xmlns: sg.xhtml },
              style: {
                width: '100%',
                height: '100%',
                background: 'transparent',
              },
              children: t
                ? []
                : [
                    {
                      tagName: 'div',
                      selector: 'foContent',
                      style: { width: '100%', height: '100%' },
                    },
                  ],
            },
          ],
        }
      );
    });
  var c9,
    cW = (function () {
      function e(t) {
        this.view = t;
      }
      return (
        Object.defineProperty(e.prototype, 'cell', {
          get: function () {
            return this.view.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.getDefinition = function (t) {
          return this.cell.getAttrDefinition(t);
        }),
        (e.prototype.processAttrs = function (t, n) {
          var i,
            r,
            o,
            s,
            a,
            l = this,
            u = [];
          return (
            Object.keys(n).forEach(function (e) {
              var r = n[e],
                o = l.getDefinition(e),
                s = oZ(uB.isValidDefinition, l.view, o, r, {
                  elem: t,
                  attrs: n,
                  cell: l.cell,
                  view: l.view,
                });
              o && s
                ? 'string' == typeof o
                  ? (null == i && (i = {}), (i[o] = r))
                  : null !== r && u.push({ name: e, definition: o })
                : (null == i && (i = {}), (i[s2.includes(e) ? e : o7(e)] = r));
            }),
            u.forEach(function (i) {
              var l = i.name,
                u = i.definition,
                c = n[l];
              'function' == typeof u.set &&
                (!s3(t) && e.DELAY_ATTRS.includes(l)
                  ? (null == a && (a = {}), (a[l] = c))
                  : (null == r && (r = {}), (r[l] = c))),
                'function' == typeof u.offset &&
                  (null == o && (o = {}), (o[l] = c)),
                'function' == typeof u.position &&
                  (null == s && (s = {}), (s[l] = c));
            }),
            { raw: n, normal: i, set: r, offset: o, position: s, delay: a }
          );
        }),
        (e.prototype.mergeProcessedAttrs = function (t, e) {
          (t.set = i(i({}, t.set), e.set)),
            (t.position = i(i({}, t.position), e.position)),
            (t.offset = i(i({}, t.offset), e.offset));
          var n = t.normal && t.normal.transform;
          null != n && e.normal && (e.normal.transform = n),
            (t.normal = e.normal);
        }),
        (e.prototype.findAttrs = function (e, n, i, r) {
          var o = [],
            s = new cz();
          return (
            Object.keys(e).forEach(function (a) {
              var l = e[a];
              if (eG(l)) {
                var u = t.View.find(a, n, r),
                  c = u.isCSSSelector,
                  h = u.elems;
                i[a] = h;
                for (var p = 0, d = h.length; p < d; p += 1) {
                  var f = h[p],
                    g = r && r[a] === f,
                    $ = s.get(f);
                  if ($) {
                    $.array ||
                      (o.push(f),
                      ($.array = !0),
                      ($.attrs = [$.attrs]),
                      ($.priority = [$.priority]));
                    var v = $.attrs,
                      y = $.priority;
                    if (g) v.unshift(l), y.unshift(-1);
                    else {
                      var m = rY(y, c ? -1 : d);
                      v.splice(m, 0, l), y.splice(m, 0, d);
                    }
                  } else
                    s.set(f, {
                      elem: f,
                      attrs: l,
                      priority: g ? -1 : d,
                      array: !1,
                    });
                }
              }
            }),
            o.forEach(function (t) {
              var e = s.get(t),
                n = e.attrs;
              e.attrs = n.reduceRight(function (t, e) {
                return rk(t, e);
              }, {});
            }),
            s
          );
        }),
        (e.prototype.updateRelativeAttrs = function (e, n, r, o) {
          var s = this,
            a = n.raw || {},
            l = n.normal || {},
            u = n.set,
            c = n.position,
            h = n.offset,
            p = n.delay,
            d = function () {
              return {
                elem: e,
                cell: s.cell,
                view: s.view,
                attrs: a,
                refBBox: r.clone(),
              };
            };
          if (
            (null != u &&
              Object.keys(u).forEach(function (t) {
                var e = u[t],
                  n = s.getDefinition(t);
                if (null != n) {
                  var r = oZ(n.set, s.view, e, d());
                  'object' == typeof r
                    ? (l = i(i({}, l), r))
                    : null != r && (l[t] = r);
                }
              }),
            s3(e))
          )
            this.view.setAttrs(l, e);
          else {
            var f = l.transform,
              g = aX(f ? '' + f : null),
              $ = new t.Point(g.e, g.f);
            f && (delete l.transform, (g.e = 0), (g.f = 0));
            var v = 1,
              y = 1;
            if (c || h) {
              var m = this.view.getScaleOfElement(e, o.scalableNode);
              (v = m.sx), (y = m.sy);
            }
            var _ = !1;
            null != c &&
              Object.keys(c).forEach(function (e) {
                var n = c[e],
                  i = s.getDefinition(e);
                if (null != i) {
                  var r = oZ(i.position, s.view, n, d());
                  null != r &&
                    ((_ = !0), $.translate(t.Point.create(r).scale(v, y)));
                }
              }),
              this.view.setAttrs(l, e);
            var C = !1;
            if (null != h) {
              var b = this.view.getBoundingRectOfElement(e);
              if (b.width > 0 && b.height > 0) {
                var x = lr(b, g).scale(1 / v, 1 / y);
                Object.keys(h).forEach(function (n) {
                  var i = h[n],
                    r = s.getDefinition(n);
                  if (null != r) {
                    var o = oZ(r.offset, s.view, i, {
                      elem: e,
                      cell: s.cell,
                      view: s.view,
                      attrs: a,
                      refBBox: x,
                    });
                    null != o &&
                      ((C = !0), $.translate(t.Point.create(o).scale(v, y)));
                  }
                });
              }
            }
            (null != f || _ || C) &&
              ($.round(1),
              (g.e = $.x),
              (g.f = $.y),
              e.setAttribute('transform', aY(g)));
            var w = function () {
              null != p &&
                Object.keys(p).forEach(function (t) {
                  var n,
                    i = p[t],
                    r = s.getDefinition(t);
                  if (null != r) {
                    var o = oZ(r.set, s.view, i, d());
                    'object' == typeof o
                      ? s.view.setAttrs(o, e)
                      : null != o && s.view.setAttrs((((n = {})[t] = o), n), e);
                  }
                });
            };
            o.forceSync ? w() : t.Scheduler.scheduleTask(w);
          }
        }),
        (e.prototype.update = function (t, e, n) {
          var i = this,
            r = {},
            o = this.findAttrs(n.attrs || e, t, r, n.selectors),
            s = n.attrs ? this.findAttrs(e, t, r, n.selectors) : o,
            a = [];
          o.each(function (e) {
            var o = e.elem,
              l = e.attrs,
              u = i.processAttrs(o, l);
            if (
              null == u.set &&
              null == u.position &&
              null == u.offset &&
              null == u.delay
            )
              i.view.setAttrs(u.normal, o);
            else {
              var c = s.get(o),
                h = c ? c.attrs : null,
                p = h && null == l.ref ? h.ref : l.ref,
                d = void 0;
              if (p) {
                if (!(d = (r[p] || i.view.find(p, t, n.selectors))[0]))
                  throw Error('"' + p + '" reference does not exist.');
              } else d = null;
              var f = {
                  node: o,
                  refNode: d,
                  attributes: h,
                  processedAttributes: u,
                },
                g = a.findIndex(function (t) {
                  return t.refNode === o;
                });
              g > -1 ? a.splice(g, 0, f) : a.push(f);
            }
          });
          var l,
            u = new cz();
          a.forEach(function (e) {
            var r,
              o,
              s = e.node,
              c = e.refNode,
              h =
                null != c && null != n.rotatableNode && sP(n.rotatableNode, c);
            if ((c && (r = u.get(c)), !r)) {
              var p = h ? n.rotatableNode : t;
              (r = c ? ls(c, { target: p }) : n.rootBBox), c && u.set(c, r);
            }
            n.attrs && e.attributes
              ? ((o = i.processAttrs(s, e.attributes)),
                i.mergeProcessedAttrs(o, e.processedAttributes))
              : (o = e.processedAttributes);
            var d = r;
            h &&
              null != n.rotatableNode &&
              !n.rotatableNode.contains(s) &&
              (l || (l = aX(s7(n.rotatableNode, 'transform'))), (d = lr(r, l))),
              a.find(function (t) {
                return t.refNode === s;
              }) && (n.forceSync = !0),
              i.updateRelativeAttrs(s, o, d, n);
          });
        }),
        e
      );
    })();
  (c9 = cW || (cW = {})).DELAY_ATTRS = [
    'text',
    'textWrap',
    'sourceMarker',
    'targetMarker',
  ];
  var cX,
    cY,
    cJ = (function () {
      function t(t, e, n) {
        void 0 === n && (n = []), (this.view = t);
        var i = {},
          r = {},
          o = 0;
        Object.keys(e).forEach(function (t) {
          var n = e[t];
          Array.isArray(n) || (n = [n]),
            n.forEach(function (e) {
              var n = i[e];
              n || ((o += 1), (n = i[e] = 1 << o)), (r[t] |= n);
            });
        });
        var s = n;
        if (
          (Array.isArray(s) || (s = [s]),
          s.forEach(function (t) {
            i[t] || ((o += 1), (i[t] = 1 << o));
          }),
          o > 25)
        )
          throw Error('Maximum number of flags exceeded.');
        (this.flags = i), (this.attrs = r), (this.bootstrap = n);
      }
      return (
        Object.defineProperty(t.prototype, 'cell', {
          get: function () {
            return this.view.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.getFlag = function (t) {
          var e = this.flags;
          return null == e
            ? 0
            : Array.isArray(t)
            ? t.reduce(function (t, n) {
                return t | e[n];
              }, 0)
            : 0 | e[t];
        }),
        (t.prototype.hasAction = function (t, e) {
          return t & this.getFlag(e);
        }),
        (t.prototype.removeAction = function (t, e) {
          return t ^ (t & this.getFlag(e));
        }),
        (t.prototype.getBootstrapFlag = function () {
          return this.getFlag(this.bootstrap);
        }),
        (t.prototype.getChangedFlag = function () {
          var t = this,
            e = 0;
          return (
            this.attrs &&
              Object.keys(this.attrs).forEach(function (n) {
                t.cell.hasChanged(n) && (e |= t.attrs[n]);
              }),
            e
          );
        }),
        t
      );
    })();
  function cZ(t, e, n, i) {
    return oZ(
      cV.presets.pinRelative,
      this.graph,
      {},
      e,
      n,
      t,
      this.cell,
      i,
      {}
    ).anchor;
  }
  function cK(t, e) {
    return e
      ? t.cell.getBBox()
      : t.cell.isEdge()
      ? t.getConnection().bbox()
      : t.getUnrotatedBBoxOfElement(t.container);
  }
  (t.CellView = (function (e) {
    function o(t, n) {
      void 0 === n && (n = {});
      var i = e.call(this) || this;
      return (
        (i.cell = t),
        (i.options = i.ensureOptions(n)),
        (i.graph = i.options.graph),
        (i.attr = new cW(i)),
        (i.flag = new cJ(i, i.options.actions, i.options.bootstrap)),
        (i.cache = new cq(i)),
        i.setContainer(i.ensureContainer()),
        i.setup(),
        i.$(i.container).data('view', i),
        i.init(),
        i
      );
    }
    return (
      n(o, e),
      (o.getDefaults = function () {
        return this.defaults;
      }),
      (o.config = function (t) {
        this.defaults = this.getOptions(t);
      }),
      (o.getOptions = function (t) {
        var e = function (t, e) {
            return null != e
              ? oC(
                  s(
                    s([], Array.isArray(t) ? t : [t], !0),
                    Array.isArray(e) ? e : [e],
                    !0
                  )
                )
              : Array.isArray(t)
              ? s([], t, !0)
              : [t];
          },
          n = ib(this.getDefaults()),
          o = t.bootstrap,
          a = t.actions,
          l = t.events,
          u = t.documentEvents,
          c = r(t, ['bootstrap', 'actions', 'events', 'documentEvents']);
        return (
          o && (n.bootstrap = e(n.bootstrap, o)),
          a &&
            Object.keys(a).forEach(function (t) {
              var i = a[t],
                r = n.actions[t];
              i && r ? (n.actions[t] = e(r, i)) : i && (n.actions[t] = e(i));
            }),
          l && (n.events = i(i({}, n.events), l)),
          t.documentEvents &&
            (n.documentEvents = i(i({}, n.documentEvents), u)),
          rk(n, c)
        );
      }),
      Object.defineProperty(o.prototype, Symbol.toStringTag, {
        get: function () {
          return o.toStringTag;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (o.prototype.init = function () {}),
      (o.prototype.onRemove = function () {
        this.removeTools();
      }),
      Object.defineProperty(o.prototype, 'priority', {
        get: function () {
          return this.options.priority;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(o.prototype, 'rootSelector', {
        get: function () {
          return this.options.rootSelector;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (o.prototype.getConstructor = function () {
        return this.constructor;
      }),
      (o.prototype.ensureOptions = function (t) {
        return this.getConstructor().getOptions(t);
      }),
      (o.prototype.getContainerTagName = function () {
        return this.options.isSvgElement ? 'g' : 'div';
      }),
      (o.prototype.getContainerStyle = function () {}),
      (o.prototype.getContainerAttrs = function () {
        return { 'data-cell-id': this.cell.id, 'data-shape': this.cell.shape };
      }),
      (o.prototype.getContainerClassName = function () {
        return this.prefixClassName('cell');
      }),
      (o.prototype.ensureContainer = function () {
        return t.View.createElement(
          this.getContainerTagName(),
          this.options.isSvgElement
        );
      }),
      (o.prototype.setContainer = function (t) {
        if (this.container !== t) {
          this.undelegateEvents(),
            (this.container = t),
            null != this.options.events &&
              this.delegateEvents(this.options.events);
          var e = this.getContainerAttrs();
          null != e && this.setAttrs(e, t);
          var n = this.getContainerStyle();
          null != n && this.setStyle(n, t);
          var i = this.getContainerClassName();
          null != i && this.addClass(i, t);
        }
        return this;
      }),
      (o.prototype.isNodeView = function () {
        return !1;
      }),
      (o.prototype.isEdgeView = function () {
        return !1;
      }),
      (o.prototype.render = function () {
        return this;
      }),
      (o.prototype.confirmUpdate = function (t, e) {
        return 0;
      }),
      (o.prototype.getBootstrapFlag = function () {
        return this.flag.getBootstrapFlag();
      }),
      (o.prototype.getFlag = function (t) {
        return this.flag.getFlag(t);
      }),
      (o.prototype.hasAction = function (t, e) {
        return this.flag.hasAction(t, e);
      }),
      (o.prototype.removeAction = function (t, e) {
        return this.flag.removeAction(t, e);
      }),
      (o.prototype.handleAction = function (t, e, n, i) {
        if (this.hasAction(t, e)) {
          n();
          var r = [e];
          return (
            i && ('string' == typeof i ? r.push(i) : r.push.apply(r, i)),
            this.removeAction(t, r)
          );
        }
        return t;
      }),
      (o.prototype.setup = function () {
        var t = this;
        this.cell.on('changed', function (e) {
          var n = e.options;
          return t.onAttrsChange(n);
        });
      }),
      (o.prototype.onAttrsChange = function (t) {
        var e = this.flag.getChangedFlag();
        !t.updated &&
          e &&
          (t.dirty &&
            this.hasAction(e, 'update') &&
            (e |= this.getFlag('render')),
          t.toolId && (t.async = !1),
          null != this.graph &&
            this.graph.renderer.requestViewUpdate(this, e, this.priority, t));
      }),
      (o.prototype.parseJSONMarkup = function (e, n) {
        var i = t.Markup.parseJSONMarkup(e),
          r = i.selectors,
          o = this.rootSelector;
        if (n && o) {
          if (r[o]) throw Error('Invalid root selector');
          r[o] = n;
        }
        return i;
      }),
      (o.prototype.can = function (t) {
        var e = this.graph.options.interacting;
        if (
          ('function' == typeof e && (e = oZ(e, this.graph, this)),
          'object' == typeof e)
        ) {
          var n = e[t];
          return (
            'function' == typeof n && (n = oZ(n, this.graph, this)), !1 !== n
          );
        }
        return 'boolean' == typeof e && e;
      }),
      (o.prototype.cleanCache = function () {
        return this.cache.clean(), this;
      }),
      (o.prototype.getCache = function (t) {
        return this.cache.get(t);
      }),
      (o.prototype.getDataOfElement = function (t) {
        return this.cache.getData(t);
      }),
      (o.prototype.getMatrixOfElement = function (t) {
        return this.cache.getMatrix(t);
      }),
      (o.prototype.getShapeOfElement = function (t) {
        return this.cache.getShape(t);
      }),
      (o.prototype.getScaleOfElement = function (t, e) {
        var n, i;
        if (e && e.contains(t)) {
          var r = ly(e);
          (n = 1 / r.sx), (i = 1 / r.sy);
        } else (n = 1), (i = 1);
        return { sx: n, sy: i };
      }),
      (o.prototype.getBoundingRectOfElement = function (t) {
        return this.cache.getBoundingRect(t);
      }),
      (o.prototype.getBBoxOfElement = function (t) {
        var e = this.getBoundingRectOfElement(t),
          n = this.getMatrixOfElement(t),
          i = this.getRootRotatedMatrix();
        return lr(e, this.getRootTranslatedMatrix().multiply(i).multiply(n));
      }),
      (o.prototype.getUnrotatedBBoxOfElement = function (t) {
        var e = this.getBoundingRectOfElement(t),
          n = this.getMatrixOfElement(t);
        return lr(e, this.getRootTranslatedMatrix().multiply(n));
      }),
      (o.prototype.getBBox = function (t) {
        var e;
        if ((void 0 === t && (t = {}), t.useCellGeometry)) {
          var n = this.cell,
            i = n.isNode() ? n.getAngle() : 0;
          e = n.getBBox().bbox(i);
        } else e = this.getBBoxOfElement(this.container);
        return this.graph.localToGraph(e);
      }),
      (o.prototype.getRootTranslatedMatrix = function () {
        var t = this.cell,
          e = t.isNode() ? t.getPosition() : { x: 0, y: 0 };
        return a9().translate(e.x, e.y);
      }),
      (o.prototype.getRootRotatedMatrix = function () {
        var t = a9(),
          e = this.cell,
          n = e.isNode() ? e.getAngle() : 0;
        if (n) {
          var i = e.getBBox(),
            r = i.width / 2,
            o = i.height / 2;
          t = t.translate(r, o).rotate(n).translate(-r, -o);
        }
        return t;
      }),
      (o.prototype.findMagnet = function (t) {
        return (
          void 0 === t && (t = this.container), this.findByAttr('magnet', t)
        );
      }),
      (o.prototype.updateAttrs = function (e, n, i) {
        void 0 === i && (i = {}),
          null == i.rootBBox && (i.rootBBox = new t.Rectangle()),
          null == i.selectors && (i.selectors = this.selectors),
          this.attr.update(e, n, i);
      }),
      (o.prototype.isEdgeElement = function (t) {
        return this.cell.isEdge() && (null == t || t === this.container);
      }),
      (o.prototype.prepareHighlight = function (t, e) {
        void 0 === e && (e = {});
        var n = (t && this.$(t)[0]) || this.container;
        return (e.partial = n === this.container), n;
      }),
      (o.prototype.highlight = function (t, e) {
        void 0 === e && (e = {});
        var n = this.prepareHighlight(t, e);
        return (
          this.notify('cell:highlight', {
            magnet: n,
            options: e,
            view: this,
            cell: this.cell,
          }),
          this.isEdgeView()
            ? this.notify('edge:highlight', {
                magnet: n,
                options: e,
                view: this,
                edge: this.cell,
                cell: this.cell,
              })
            : this.isNodeView() &&
              this.notify('node:highlight', {
                magnet: n,
                options: e,
                view: this,
                node: this.cell,
                cell: this.cell,
              }),
          this
        );
      }),
      (o.prototype.unhighlight = function (t, e) {
        void 0 === e && (e = {});
        var n = this.prepareHighlight(t, e);
        return (
          this.notify('cell:unhighlight', {
            magnet: n,
            options: e,
            view: this,
            cell: this.cell,
          }),
          this.isNodeView()
            ? this.notify('node:unhighlight', {
                magnet: n,
                options: e,
                view: this,
                node: this.cell,
                cell: this.cell,
              })
            : this.isEdgeView() &&
              this.notify('edge:unhighlight', {
                magnet: n,
                options: e,
                view: this,
                edge: this.cell,
                cell: this.cell,
              }),
          this
        );
      }),
      (o.prototype.notifyUnhighlight = function (t, e) {}),
      (o.prototype.getEdgeTerminal = function (t, e, n, i, r) {
        var o = this.cell,
          s = this.findAttr('port', t),
          a = t.getAttribute('data-selector'),
          l = { cell: o.id };
        return (
          null != a && (l.magnet = a),
          null != s
            ? ((l.port = s),
              o.isNode() &&
                (o.hasPort(s) ||
                  null != a ||
                  (l.selector = this.getSelector(t))))
            : null == a &&
              this.container !== t &&
              (l.selector = this.getSelector(t)),
          this.customizeEdgeTerminal(l, t, e, n, i, r)
        );
      }),
      (o.prototype.customizeEdgeTerminal = function (e, n, i, r, o, s) {
        var a = o.getStrategy() || this.graph.options.connecting.strategy;
        if (a) {
          var l = 'string' == typeof a ? a : a.name,
            u = 'string' == typeof a ? {} : a.args || {},
            c = cV.registry;
          if (l) {
            var h = c.get(l);
            if (null == h) return c.onNotFound(l);
            var p = oZ(h, this.graph, e, this, n, new t.Point(i, r), o, s, u);
            if (p) return p;
          }
        }
        return e;
      }),
      (o.prototype.getMagnetFromEdgeTerminal = function (t) {
        var e,
          n = this.cell,
          i = this.container,
          r = t.port,
          o = t.magnet;
        return (
          null != r && n.isNode() && n.hasPort(r)
            ? (e = this.findPortElem(r, o) || i)
            : (o || (o = t.selector),
              o || null == r || (o = '[port="' + r + '"]'),
              (e = this.findOne(o, i, this.selectors))),
          e
        );
      }),
      (o.prototype.animate = function (e, n) {
        var i = 'string' == typeof e ? this.findOne(e) : e;
        if (null == i) throw Error('Invalid animation element.');
        var r = i.parentNode,
          o = t.Vector.create(i);
        r || o.appendTo(this.graph.view.stage);
        var s = n.complete;
        return (
          (n.complete = function (t) {
            r || sA(i), s && s(t);
          }),
          o.animate(n)
        );
      }),
      (o.prototype.animateTransform = function (e, n) {
        var i = 'string' == typeof e ? this.findOne(e) : e;
        if (null == i) throw Error('Invalid animation element.');
        var r = i.parentNode,
          o = t.Vector.create(i);
        r || o.appendTo(this.graph.view.stage);
        var s = n.complete;
        return (
          (n.complete = function (t) {
            r || sA(i), s && s(t);
          }),
          o.animateTransform(n)
        );
      }),
      (o.prototype.hasTools = function (t) {
        var e = this.tools;
        return null != e && (null == t || e.name === t);
      }),
      (o.prototype.addTools = function (e) {
        if (!this.can('toolsAddable')) return this;
        if ((this.removeTools(), e)) {
          var n = t.ToolsView.isToolsView(e) ? e : new t.ToolsView(e);
          (this.tools = n),
            this.graph.on('tools:hide', this.hideTools, this),
            this.graph.on('tools:show', this.showTools, this),
            this.graph.on('tools:remove', this.removeTools, this),
            n.config({ view: this }),
            n.mount();
        }
        return this;
      }),
      (o.prototype.updateTools = function (t) {
        return (
          void 0 === t && (t = {}), this.tools && this.tools.update(t), this
        );
      }),
      (o.prototype.removeTools = function () {
        return (
          this.tools &&
            (this.tools.remove(),
            this.graph.off('tools:hide', this.hideTools, this),
            this.graph.off('tools:show', this.showTools, this),
            this.graph.off('tools:remove', this.removeTools, this),
            (this.tools = null)),
          this
        );
      }),
      (o.prototype.hideTools = function () {
        return this.tools && this.tools.hide(), this;
      }),
      (o.prototype.showTools = function () {
        return this.tools && this.tools.show(), this;
      }),
      (o.prototype.renderTools = function () {
        var t = this.cell.getTools();
        return this.addTools(t), this;
      }),
      (o.prototype.notify = function (t, e) {
        return this.trigger(t, e), this.graph.trigger(t, e), this;
      }),
      (o.prototype.getEventArgs = function (t, e, n) {
        var i = this.cell;
        return null == e || null == n
          ? { e: t, view: this, cell: i }
          : { e: t, x: e, y: n, view: this, cell: i };
      }),
      (o.prototype.onClick = function (t, e, n) {
        this.notify('cell:click', this.getEventArgs(t, e, n));
      }),
      (o.prototype.onDblClick = function (t, e, n) {
        this.notify('cell:dblclick', this.getEventArgs(t, e, n));
      }),
      (o.prototype.onContextMenu = function (t, e, n) {
        this.notify('cell:contextmenu', this.getEventArgs(t, e, n));
      }),
      (o.prototype.onMouseDown = function (t, e, n) {
        this.cell.model &&
          ((this.cachedModelForMouseEvent = this.cell.model),
          this.cachedModelForMouseEvent.startBatch('mouse')),
          this.notify('cell:mousedown', this.getEventArgs(t, e, n));
      }),
      (o.prototype.onMouseUp = function (t, e, n) {
        this.notify('cell:mouseup', this.getEventArgs(t, e, n)),
          this.cachedModelForMouseEvent &&
            (this.cachedModelForMouseEvent.stopBatch('mouse', {
              cell: this.cell,
            }),
            (this.cachedModelForMouseEvent = null));
      }),
      (o.prototype.onMouseMove = function (t, e, n) {
        this.notify('cell:mousemove', this.getEventArgs(t, e, n));
      }),
      (o.prototype.onMouseOver = function (t) {
        this.notify('cell:mouseover', this.getEventArgs(t));
      }),
      (o.prototype.onMouseOut = function (t) {
        this.notify('cell:mouseout', this.getEventArgs(t));
      }),
      (o.prototype.onMouseEnter = function (t) {
        this.notify('cell:mouseenter', this.getEventArgs(t));
      }),
      (o.prototype.onMouseLeave = function (t) {
        this.notify('cell:mouseleave', this.getEventArgs(t));
      }),
      (o.prototype.onMouseWheel = function (t, e, n, r) {
        this.notify(
          'cell:mousewheel',
          i({ delta: r }, this.getEventArgs(t, e, n))
        );
      }),
      (o.prototype.onCustomEvent = function (t, e, n, r) {
        this.notify(
          'cell:customevent',
          i({ name: e }, this.getEventArgs(t, n, r))
        ),
          this.notify(e, i({}, this.getEventArgs(t, n, r)));
      }),
      (o.prototype.onMagnetMouseDown = function (t, e, n, i) {}),
      (o.prototype.onMagnetDblClick = function (t, e, n, i) {}),
      (o.prototype.onMagnetContextMenu = function (t, e, n, i) {}),
      (o.prototype.onLabelMouseDown = function (t, e, n) {}),
      (o.prototype.checkMouseleave = function (t) {
        var e = this.graph;
        e.renderer.isAsync() && e.renderer.dumpView(this);
        var n = this.getEventTarget(t, { fromPoint: !0 }),
          i = e.renderer.findViewByElem(n);
        i !== this && (this.onMouseLeave(t), i && i.onMouseEnter(t));
      }),
      (o.defaults = {
        isSvgElement: !0,
        rootSelector: 'root',
        priority: 0,
        bootstrap: [],
        actions: {},
      }),
      o
    );
  })(t.View)),
    ((cX = t.CellView || (t.CellView = {})).Flag = cJ),
    (cX.Attr = cW),
    ((cQ = t.CellView || (t.CellView = {})).toStringTag = 'X6.' + cQ.name),
    (cQ.isCellView = function (t) {
      if (null == t) return !1;
      if (t instanceof cQ) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === cQ.toStringTag) &&
        'function' == typeof n.isNodeView &&
        'function' == typeof n.isEdgeView &&
        'function' == typeof n.confirmUpdate
      );
    }),
    ((ht = t.CellView || (t.CellView = {})).priority = function (t) {
      return function (e) {
        e.config({ priority: t });
      };
    }),
    (ht.bootstrap = function (t) {
      return function (e) {
        e.config({ bootstrap: t });
      };
    }),
    ((t.CellView || (t.CellView = {})).registry = l5.create({ type: 'view' })),
    (t.ToolsView = (function (e) {
      function r(t) {
        void 0 === t && (t = {});
        var n = e.call(this) || this;
        return (
          (n.svgContainer = n.createContainer(!0, t)),
          (n.htmlContainer = n.createContainer(!1, t)),
          n.config(t),
          n
        );
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'name', {
          get: function () {
            return this.options.name;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'graph', {
          get: function () {
            return this.cellView.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'cell', {
          get: function () {
            return this.cellView.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, Symbol.toStringTag, {
          get: function () {
            return r.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.createContainer = function (e, n) {
          var i = e
            ? t.View.createElement('g', !0)
            : t.View.createElement('div', !1);
          return (
            sl(i, this.prefixClassName('cell-tools')),
            n.className && sl(i, n.className),
            i
          );
        }),
        (r.prototype.config = function (e) {
          if (
            ((this.options = i(i({}, this.options), e)),
            !t.CellView.isCellView(e.view) || e.view === this.cellView)
          )
            return this;
          (this.cellView = e.view),
            this.cell.isEdge()
              ? (sl(this.svgContainer, this.prefixClassName('edge-tools')),
                sl(this.htmlContainer, this.prefixClassName('edge-tools')))
              : this.cell.isNode() &&
                (sl(this.svgContainer, this.prefixClassName('node-tools')),
                sl(this.htmlContainer, this.prefixClassName('node-tools'))),
            this.svgContainer.setAttribute('data-cell-id', this.cell.id),
            this.htmlContainer.setAttribute('data-cell-id', this.cell.id),
            this.name &&
              (this.svgContainer.setAttribute('data-tools-name', this.name),
              this.htmlContainer.setAttribute('data-tools-name', this.name));
          var n = this.options.items;
          if (!Array.isArray(n)) return this;
          this.tools = [];
          var o = [];
          n.forEach(function (t) {
            r.ToolItem.isToolItem(t)
              ? 'vertices' === t.name
                ? o.unshift(t)
                : o.push(t)
              : 'vertices' === ('object' == typeof t ? t.name : t)
              ? o.unshift(t)
              : o.push(t);
          });
          for (var s = 0; s < o.length; s += 1) {
            var a = o[s],
              l = void 0;
            if (r.ToolItem.isToolItem(a)) l = a;
            else {
              var u,
                c = 'object' == typeof a ? a.name : a,
                h = ('object' == typeof a && a.args) || {};
              if (c) {
                if (this.cell.isNode()) {
                  if (!(u = hm.registry.get(c)))
                    return hm.registry.onNotFound(c);
                  l = new u(h);
                } else if (this.cell.isEdge()) {
                  if (!(u = h_.registry.get(c)))
                    return h_.registry.onNotFound(c);
                  l = new u(h);
                }
              }
            }
            l &&
              (l.config(this.cellView, this),
              l.render(),
              (!1 !== l.options.isSVGElement
                ? this.svgContainer
                : this.htmlContainer
              ).appendChild(l.container),
              this.tools.push(l));
          }
          return this;
        }),
        (r.prototype.update = function (t) {
          void 0 === t && (t = {});
          var e = this.tools;
          return (
            e &&
              e.forEach(function (e) {
                t.toolId !== e.cid && e.isVisible() && e.update();
              }),
            this
          );
        }),
        (r.prototype.focus = function (t) {
          var e = this.tools;
          return (
            e &&
              e.forEach(function (e) {
                t === e ? e.show() : e.hide();
              }),
            this
          );
        }),
        (r.prototype.blur = function (t) {
          var e = this.tools;
          return (
            e &&
              e.forEach(function (e) {
                e === t || e.isVisible() || (e.show(), e.update());
              }),
            this
          );
        }),
        (r.prototype.hide = function () {
          return this.focus(null);
        }),
        (r.prototype.show = function () {
          return this.blur(null);
        }),
        (r.prototype.remove = function () {
          var t = this.tools;
          return (
            t &&
              (t.forEach(function (t) {
                return t.remove();
              }),
              (this.tools = null)),
            sA(this.svgContainer),
            sA(this.htmlContainer),
            e.prototype.remove.call(this)
          );
        }),
        (r.prototype.mount = function () {
          var t = this.tools,
            e = this.cellView;
          if (e && t) {
            var n = t.some(function (t) {
                return !1 !== t.options.isSVGElement;
              }),
              i = t.some(function (t) {
                return !1 === t.options.isSVGElement;
              });
            n &&
              (this.options.local
                ? e.container
                : e.graph.view.decorator
              ).appendChild(this.svgContainer),
              i && this.graph.container.appendChild(this.htmlContainer);
          }
          return this;
        }),
        r
      );
    })(t.View)),
    ((cY = t.ToolsView || (t.ToolsView = {})).toStringTag = 'X6.' + cY.name),
    (cY.isToolsView = function (t) {
      if (null == t) return !1;
      if (t instanceof cY) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === cY.toStringTag) &&
        null != n.graph &&
        null != n.cell &&
        'function' == typeof n.config &&
        'function' == typeof n.update &&
        'function' == typeof n.focus &&
        'function' == typeof n.blur &&
        'function' == typeof n.show &&
        'function' == typeof n.hide
      );
    }),
    (hn = t.ToolsView || (t.ToolsView = {})),
    (hi = (function (e) {
      function i(n) {
        void 0 === n && (n = {});
        var i = e.call(this) || this;
        return (
          (i.visible = !0),
          (i.options = i.getOptions(n)),
          (i.container = t.View.createElement(
            i.options.tagName || 'g',
            !1 !== i.options.isSVGElement
          )),
          sl(i.container, i.prefixClassName('cell-tool')),
          'string' == typeof i.options.className &&
            sl(i.container, i.options.className),
          i.init(),
          i
        );
      }
      return (
        n(i, e),
        (i.getDefaults = function () {
          return this.defaults;
        }),
        (i.config = function (t) {
          this.defaults = this.getOptions(t);
        }),
        (i.getOptions = function (t) {
          return rk(ib(this.getDefaults()), t);
        }),
        Object.defineProperty(i.prototype, 'graph', {
          get: function () {
            return this.cellView.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'cell', {
          get: function () {
            return this.cellView.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'name', {
          get: function () {
            return this.options.name;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, Symbol.toStringTag, {
          get: function () {
            return i.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.init = function () {}),
        (i.prototype.getOptions = function (t) {
          return this.constructor.getOptions(t);
        }),
        (i.prototype.delegateEvents = function () {
          return (
            this.options.events &&
              e.prototype.delegateEvents.call(this, this.options.events),
            this
          );
        }),
        (i.prototype.config = function (t, e) {
          return (
            (this.cellView = t),
            (this.parent = e),
            this.stamp(this.container),
            this.cell.isEdge()
              ? sl(this.container, this.prefixClassName('edge-tool'))
              : this.cell.isNode() &&
                sl(this.container, this.prefixClassName('node-tool')),
            this.name &&
              this.container.setAttribute('data-tool-name', this.name),
            this.delegateEvents(),
            this
          );
        }),
        (i.prototype.render = function () {
          this.empty();
          var e = this.options.markup;
          if (e) {
            var n = t.Markup.isStringMarkup(e)
              ? t.Markup.parseStringMarkup(e)
              : t.Markup.parseJSONMarkup(e);
            this.container.appendChild(n.fragment),
              (this.childNodes = n.selectors);
          }
          return this.onRender(), this;
        }),
        (i.prototype.onRender = function () {}),
        (i.prototype.update = function () {
          return this;
        }),
        (i.prototype.stamp = function (t) {
          t && t.setAttribute('data-cell-id', this.cellView.cell.id);
        }),
        (i.prototype.show = function () {
          return (this.container.style.display = ''), (this.visible = !0), this;
        }),
        (i.prototype.hide = function () {
          return (
            (this.container.style.display = 'none'), (this.visible = !1), this
          );
        }),
        (i.prototype.isVisible = function () {
          return !!this.visible;
        }),
        (i.prototype.focus = function () {
          var t = this.options.focusOpacity;
          return (
            null != t &&
              Number.isFinite(t) &&
              (this.container.style.opacity = '' + t),
            this.parent.focus(this),
            this
          );
        }),
        (i.prototype.blur = function () {
          return (
            (this.container.style.opacity = ''), this.parent.blur(this), this
          );
        }),
        (i.prototype.guard = function (t) {
          return (
            null == this.graph ||
            null == this.cellView ||
            this.graph.view.guard(t, this.cellView)
          );
        }),
        (i.defaults = { isSVGElement: !0, tagName: 'g' }),
        i
      );
    })(t.View)),
    (hn.ToolItem = hi),
    (hr = hi = hn.ToolItem || (hn.ToolItem = {})),
    (ho = 0),
    (hr.define = function (t) {
      var e,
        n = o3((e = t.name) ? oF(e) : 'CustomTool' + (ho += 1), this);
      return n.config(t), n;
    }),
    ((hs = hi = hn.ToolItem || (hn.ToolItem = {})).toStringTag =
      'X6.' + hs.name),
    (hs.isToolItem = function (t) {
      if (null == t) return !1;
      if (t instanceof hs) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === hs.toStringTag) &&
        null != n.graph &&
        null != n.cell &&
        'function' == typeof n.config &&
        'function' == typeof n.update &&
        'function' == typeof n.focus &&
        'function' == typeof n.blur &&
        'function' == typeof n.show &&
        'function' == typeof n.hide &&
        'function' == typeof n.isVisible
      );
    });
  var cQ,
    ht,
    he,
    hn,
    hi,
    hr,
    ho,
    hs,
    ha,
    hl = (function (e) {
      function i() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(i, e),
        (i.prototype.onRender = function () {
          sl(this.container, this.prefixClassName('cell-tool-button')),
            this.update();
        }),
        (i.prototype.update = function () {
          return this.updatePosition(), this;
        }),
        (i.prototype.updatePosition = function () {
          var t = this.cellView.cell.isEdge()
            ? this.getEdgeMatrix()
            : this.getNodeMatrix();
          l$(this.container, t, { absolute: !0 });
        }),
        (i.prototype.getNodeMatrix = function () {
          var t = this.cellView,
            e = this.options,
            n = e.x,
            i = void 0 === n ? 0 : n,
            r = e.y,
            o = void 0 === r ? 0 : r,
            s = e.offset,
            a = e.useCellGeometry,
            l = e.rotate,
            u = cK(t, a),
            c = t.cell.getAngle();
          l || (u = u.bbox(c));
          var h = 0,
            p = 0;
          'number' == typeof s
            ? ((h = s), (p = s))
            : 'object' == typeof s && ((h = s.x), (p = s.y)),
            (i = o9(i, u.width)),
            (o = o9(o, u.height));
          var d = a9().translate(u.x + u.width / 2, u.y + u.height / 2);
          return (
            l && (d = d.rotate(c)),
            (d = d.translate(i + h - u.width / 2, o + p - u.height / 2))
          );
        }),
        (i.prototype.getEdgeMatrix = function () {
          var e,
            n,
            i,
            r = this.cellView,
            o = this.options,
            s = o.offset,
            a = void 0 === s ? 0 : s,
            l = o.distance,
            u = void 0 === l ? 0 : l,
            c = o.rotate,
            h = o9(u, 1);
          (e =
            h >= 0 && h <= 1 ? r.getTangentAtRatio(h) : r.getTangentAtLength(h))
            ? ((n = e.start),
              (i = e.vector().vectorAngle(new t.Point(1, 0)) || 0))
            : ((n = r.getConnection().start), (i = 0));
          var p = a9().translate(n.x, n.y).rotate(i);
          return (
            (p =
              'object' == typeof a
                ? p.translate(a.x || 0, a.y || 0)
                : p.translate(0, a)),
            c || (p = p.rotate(-i)),
            p
          );
        }),
        (i.prototype.onMouseDown = function (t) {
          if (!this.guard(t)) {
            t.stopPropagation(), t.preventDefault();
            var e = this.options.onClick;
            'function' == typeof e &&
              oZ(e, this.cellView, {
                e: t,
                view: this.cellView,
                cell: this.cellView.cell,
                btn: this,
              });
          }
        }),
        i
      );
    })(t.ToolsView.ToolItem);
  !(function (t) {
    t.config({
      name: 'button',
      events: { mousedown: 'onMouseDown', touchstart: 'onMouseDown' },
    });
  })(hl || (hl = {})),
    ((ha = hl || (hl = {})).Remove = ha.define({
      name: 'button-remove',
      markup: [
        {
          tagName: 'circle',
          selector: 'button',
          attrs: { r: 7, fill: '#FF1D00', cursor: 'pointer' },
        },
        {
          tagName: 'path',
          selector: 'icon',
          attrs: {
            d: 'M -3 -3 3 3 M -3 3 3 -3',
            fill: 'none',
            stroke: '#FFFFFF',
            'stroke-width': 2,
            'pointer-events': 'none',
          },
        },
      ],
      distance: 60,
      offset: 0,
      onClick: function (t) {
        var e = t.view,
          n = t.btn;
        n.parent.remove(), e.cell.remove({ ui: !0, toolId: n.cid });
      },
    }));
  var hu = (function (t) {
    function e() {
      return (null !== t && t.apply(this, arguments)) || this;
    }
    return (
      n(e, t),
      (e.prototype.onRender = function () {
        if (
          (sl(this.container, this.prefixClassName('cell-tool-boundary')),
          this.options.attrs)
        ) {
          var t = this.options.attrs,
            e = t.class,
            n = r(t, ['class']);
          s7(this.container, sz(n)), e && sl(this.container, e);
        }
        this.update();
      }),
      (e.prototype.update = function () {
        var t = this.cellView,
          e = this.options,
          n = e.useCellGeometry,
          i = e.rotate,
          r = oX(e.padding),
          o = cK(t, n).moveAndExpand({
            x: -r.left,
            y: -r.top,
            width: r.left + r.right,
            height: r.top + r.bottom,
          }),
          s = t.cell;
        if (s.isNode()) {
          var a = s.getAngle();
          if (a) {
            if (i) {
              var l = s.getBBox().getCenter();
              lv(this.container, a, l.x, l.y, { absolute: !0 });
            } else o = o.bbox(a);
          }
        }
        return s7(this.container, o.toJSON()), this;
      }),
      e
    );
  })(t.ToolsView.ToolItem);
  !(function (t) {
    t.config({
      name: 'boundary',
      tagName: 'rect',
      padding: 10,
      attrs: {
        fill: 'none',
        stroke: '#333',
        'stroke-width': 0.5,
        'stroke-dasharray': '5, 5',
        'pointer-events': 'none',
      },
    });
  })(hu || (hu = {}));
  var hc,
    hh,
    hp = (function (e) {
      function i() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (t.handles = []), t;
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'vertices', {
          get: function () {
            return this.cellView.cell.getVertices();
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.onRender = function () {
          return (
            this.addClass(this.prefixClassName('edge-tool-vertices')),
            this.options.addable && this.updatePath(),
            this.resetHandles(),
            this.renderHandles(),
            this
          );
        }),
        (i.prototype.update = function () {
          return (
            this.vertices.length === this.handles.length
              ? this.updateHandles()
              : (this.resetHandles(), this.renderHandles()),
            this.options.addable && this.updatePath(),
            this
          );
        }),
        (i.prototype.resetHandles = function () {
          var t = this,
            e = this.handles;
          (this.handles = []),
            e &&
              e.forEach(function (e) {
                t.stopHandleListening(e), e.remove();
              });
        }),
        (i.prototype.renderHandles = function () {
          for (
            var t = this, e = this.vertices, n = 0, i = e.length;
            n < i;
            n += 1
          ) {
            var r = e[n],
              o = this.options.createHandle,
              s = this.options.processHandle,
              a = o({
                index: n,
                graph: this.graph,
                guard: function (e) {
                  return t.guard(e);
                },
                attrs: this.options.attrs || {},
              });
            s && s(a),
              this.graph.hook.onToolItemCreated({
                name: 'vertices',
                cell: this.cell,
                view: this.cellView,
                tool: a,
              }),
              a.updatePosition(r.x, r.y),
              this.stamp(a.container),
              this.container.appendChild(a.container),
              this.handles.push(a),
              this.startHandleListening(a);
          }
        }),
        (i.prototype.updateHandles = function () {
          for (var t = this.vertices, e = 0, n = t.length; e < n; e += 1) {
            var i = t[e],
              r = this.handles[e];
            r && r.updatePosition(i.x, i.y);
          }
        }),
        (i.prototype.updatePath = function () {
          var t = this.childNodes.connection;
          t && t.setAttribute('d', this.cellView.getConnectionPathData());
        }),
        (i.prototype.startHandleListening = function (t) {
          var e = this.cellView;
          e.can('vertexMovable') &&
            (t.on('change', this.onHandleChange, this),
            t.on('changing', this.onHandleChanging, this),
            t.on('changed', this.onHandleChanged, this)),
            e.can('vertexDeletable') &&
              t.on('remove', this.onHandleRemove, this);
        }),
        (i.prototype.stopHandleListening = function (t) {
          var e = this.cellView;
          e.can('vertexMovable') &&
            (t.off('change', this.onHandleChange, this),
            t.off('changing', this.onHandleChanging, this),
            t.off('changed', this.onHandleChanged, this)),
            e.can('vertexDeletable') &&
              t.off('remove', this.onHandleRemove, this);
        }),
        (i.prototype.getNeighborPoints = function (e) {
          var n = this.cellView,
            i = this.vertices,
            r = e > 0 ? i[e - 1] : n.sourceAnchor,
            o = e < i.length - 1 ? i[e + 1] : n.targetAnchor;
          return { prev: t.Point.create(r), next: t.Point.create(o) };
        }),
        (i.prototype.getMouseEventArgs = function (t) {
          var e = this.normalizeEvent(t),
            n = this.graph.snapToGrid(e.clientX, e.clientY);
          return { e: e, x: n.x, y: n.y };
        }),
        (i.prototype.onHandleChange = function (t) {
          var e = t.e;
          this.focus();
          var n = this.cellView;
          if (
            (n.cell.startBatch('move-vertex', { ui: !0, toolId: this.cid }),
            !this.options.stopPropagation)
          ) {
            var i = this.getMouseEventArgs(e),
              r = i.e,
              o = i.x,
              s = i.y;
            n.notifyMouseDown(r, o, s);
          }
        }),
        (i.prototype.onHandleChanging = function (t) {
          var e = t.handle,
            n = t.e,
            i = this.cellView,
            r = e.options.index,
            o = this.getMouseEventArgs(n),
            s = o.e,
            a = o.x,
            l = o.y,
            u = { x: a, y: l };
          this.snapVertex(u, r),
            i.cell.setVertexAt(r, u, { ui: !0, toolId: this.cid }),
            e.updatePosition(u.x, u.y),
            this.options.stopPropagation || i.notifyMouseMove(s, a, l);
        }),
        (i.prototype.onHandleChanged = function (t) {
          var e = t.e,
            n = this.options,
            i = this.cellView;
          if ((n.addable && this.updatePath(), n.removeRedundancies)) {
            i.removeRedundantLinearVertices({ ui: !0, toolId: this.cid }) &&
              this.render(),
              this.blur(),
              i.cell.stopBatch('move-vertex', { ui: !0, toolId: this.cid }),
              this.eventData(e).vertexAdded &&
                i.cell.stopBatch('add-vertex', { ui: !0, toolId: this.cid });
            var r = this.getMouseEventArgs(e),
              o = r.e,
              s = r.x,
              a = r.y;
            this.options.stopPropagation || i.notifyMouseUp(o, s, a),
              i.checkMouseleave(o),
              n.onChanged && n.onChanged({ edge: i.cell, edgeView: i });
          }
        }),
        (i.prototype.snapVertex = function (t, e) {
          var n = this.options.snapRadius || 0;
          if (n > 0) {
            var i = this.getNeighborPoints(e),
              r = i.prev,
              o = i.next;
            Math.abs(t.x - r.x) < n
              ? (t.x = r.x)
              : Math.abs(t.x - o.x) < n && (t.x = o.x),
              Math.abs(t.y - r.y) < n
                ? (t.y = i.prev.y)
                : Math.abs(t.y - o.y) < n && (t.y = o.y);
          }
        }),
        (i.prototype.onHandleRemove = function (t) {
          var e = t.handle,
            n = t.e;
          if (this.options.removable) {
            var i = e.options.index,
              r = this.cellView;
            r.cell.removeVertexAt(i, { ui: !0 }),
              this.options.addable && this.updatePath(),
              r.checkMouseleave(this.normalizeEvent(n));
          }
        }),
        (i.prototype.onPathMouseDown = function (t) {
          var e = this.cellView;
          if (
            !this.guard(t) &&
            this.options.addable &&
            e.can('vertexAddable')
          ) {
            t.stopPropagation(), t.preventDefault();
            var n = this.normalizeEvent(t),
              i = this.graph.snapToGrid(n.clientX, n.clientY).toJSON();
            e.cell.startBatch('add-vertex', { ui: !0, toolId: this.cid });
            var r = e.getVertexIndex(i.x, i.y);
            this.snapVertex(i, r),
              e.cell.insertVertex(i, r, { ui: !0, toolId: this.cid }),
              this.render();
            var o = this.handles[r];
            this.eventData(n, { vertexAdded: !0 }), o.onMouseDown(n);
          }
        }),
        (i.prototype.onRemove = function () {
          this.resetHandles();
        }),
        i
      );
    })(t.ToolsView.ToolItem);
  (hc = hp || (hp = {})),
    (hh = (function (e) {
      function r(t) {
        var n = e.call(this) || this;
        return (
          (n.options = t),
          n.render(),
          n.delegateEvents({
            mousedown: 'onMouseDown',
            touchstart: 'onMouseDown',
            dblclick: 'onDoubleClick',
          }),
          n
        );
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'graph', {
          get: function () {
            return this.options.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.render = function () {
          this.container = t.View.createElement('circle', !0);
          var e = this.options.attrs;
          if ('function' == typeof e) {
            var n = hc.getDefaults();
            this.setAttrs(i(i({}, n.attrs), e(this)));
          } else this.setAttrs(e);
          this.addClass(this.prefixClassName('edge-tool-vertex'));
        }),
        (r.prototype.updatePosition = function (t, e) {
          this.setAttrs({ cx: t, cy: e });
        }),
        (r.prototype.onMouseDown = function (t) {
          this.options.guard(t) ||
            (t.stopPropagation(),
            t.preventDefault(),
            this.graph.view.undelegateEvents(),
            this.delegateDocumentEvents(
              {
                mousemove: 'onMouseMove',
                touchmove: 'onMouseMove',
                mouseup: 'onMouseUp',
                touchend: 'onMouseUp',
                touchcancel: 'onMouseUp',
              },
              t.data
            ),
            this.emit('change', { e: t, handle: this }));
        }),
        (r.prototype.onMouseMove = function (t) {
          this.emit('changing', { e: t, handle: this });
        }),
        (r.prototype.onMouseUp = function (t) {
          this.emit('changed', { e: t, handle: this }),
            this.undelegateDocumentEvents(),
            this.graph.view.delegateEvents();
        }),
        (r.prototype.onDoubleClick = function (t) {
          this.emit('remove', { e: t, handle: this });
        }),
        r
      );
    })(t.View)),
    (hc.Handle = hh),
    (function (e) {
      var n,
        i = t.Util.prefix('edge-tool-vertex-path');
      e.config({
        name: 'vertices',
        snapRadius: 20,
        addable: !0,
        removable: !0,
        removeRedundancies: !0,
        stopPropagation: !0,
        attrs: {
          r: 6,
          fill: '#333',
          stroke: '#fff',
          cursor: 'move',
          'stroke-width': 2,
        },
        createHandle: function (t) {
          return new e.Handle(t);
        },
        markup: [
          {
            tagName: 'path',
            selector: 'connection',
            className: i,
            attrs: {
              fill: 'none',
              stroke: 'transparent',
              'stroke-width': 10,
              cursor: 'pointer',
            },
          },
        ],
        events:
          (((n = {})['mousedown .' + i] = 'onPathMouseDown'),
          (n['touchstart .' + i] = 'onPathMouseDown'),
          n),
      });
    })(hp || (hp = {}));
  var hd,
    hf,
    hg = (function (e) {
      function i() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (t.handles = []), t;
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'vertices', {
          get: function () {
            return this.cellView.cell.getVertices();
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.update = function () {
          return this.render(), this;
        }),
        (i.prototype.onRender = function () {
          sl(this.container, this.prefixClassName('edge-tool-segments')),
            this.resetHandles();
          var t = this.cellView,
            e = s([], this.vertices, !0);
          !0 === this.options.addRoutePoint &&
            0 === e.length &&
            e.push.apply(e, t.routePoints),
            e.unshift(t.sourcePoint),
            e.push(t.targetPoint);
          for (var n = 0, i = e.length; n < i - 1; n += 1) {
            var r = e[n],
              o = e[n + 1],
              a = this.renderHandle(r, o, n);
            this.stamp(a.container), this.handles.push(a);
          }
          return this;
        }),
        (i.prototype.renderHandle = function (t, e, n) {
          var i = this,
            r = this.options.createHandle({
              index: n,
              graph: this.graph,
              guard: function (t) {
                return i.guard(t);
              },
              attrs: this.options.attrs || {},
            });
          return (
            this.options.processHandle && this.options.processHandle(r),
            this.graph.hook.onToolItemCreated({
              name: 'segments',
              cell: this.cell,
              view: this.cellView,
              tool: r,
            }),
            this.updateHandle(r, t, e),
            this.container.appendChild(r.container),
            this.startHandleListening(r),
            r
          );
        }),
        (i.prototype.startHandleListening = function (t) {
          t.on('change', this.onHandleChange, this),
            t.on('changing', this.onHandleChanging, this),
            t.on('changed', this.onHandleChanged, this);
        }),
        (i.prototype.stopHandleListening = function (t) {
          t.off('change', this.onHandleChange, this),
            t.off('changing', this.onHandleChanging, this),
            t.off('changed', this.onHandleChanged, this);
        }),
        (i.prototype.resetHandles = function () {
          var t = this,
            e = this.handles;
          (this.handles = []),
            e &&
              e.forEach(function (e) {
                t.stopHandleListening(e), e.remove();
              });
        }),
        (i.prototype.shiftHandleIndexes = function (t) {
          for (var e = this.handles, n = 0, i = e.length; n < i; n += 1)
            e[n].options.index += t;
        }),
        (i.prototype.resetAnchor = function (t, e) {
          var n = this.cellView.cell,
            i = { ui: !0, toolId: this.cid };
          e ? n.prop([t, 'anchor'], e, i) : n.removeProp([t, 'anchor'], i);
        }),
        (i.prototype.snapHandle = function (t, e, n) {
          var i = t.options.axis,
            r = t.options.index,
            o = this.cellView.cell.getVertices(),
            s = o[r - 2] || n.sourceAnchor,
            a = o[r + 1] || n.targetAnchor,
            l = this.options.snapRadius;
          return (
            Math.abs(e[i] - s[i]) < l
              ? (e[i] = s[i])
              : Math.abs(e[i] - a[i]) < l && (e[i] = a[i]),
            e
          );
        }),
        (i.prototype.onHandleChanging = function (e) {
          var n = e.handle,
            i = e.e,
            r = this.graph,
            o = this.options,
            s = this.cellView,
            a = o.anchor,
            l = n.options.axis,
            u = n.options.index - 1,
            c = this.getEventData(i),
            h = this.normalizeEvent(i),
            p = r.snapToGrid(h.clientX, h.clientY),
            d = this.snapHandle(n, p.clone(), c),
            f = ib(this.vertices),
            g = f[u],
            $ = f[u + 1],
            v = s.sourceView,
            y = s.sourceBBox,
            m = !1,
            _ = !1;
          if (
            (g
              ? 0 === u
                ? y.containsPoint(g)
                  ? (f.shift(), this.shiftHandleIndexes(-1), (m = !0))
                  : ((g[l] = d[l]), (_ = !0))
                : (g[l] = d[l])
              : (((g = s.sourceAnchor.toJSON())[l] = d[l]),
                y.containsPoint(g)
                  ? (m = !0)
                  : (f.unshift(g), this.shiftHandleIndexes(1), (_ = !0))),
            'function' == typeof a && v)
          ) {
            if (m) {
              var C = c.sourceAnchor.clone();
              C[l] = d[l];
              var b = oZ(
                a,
                s,
                C,
                v,
                s.sourceMagnet || v.container,
                'source',
                s,
                this
              );
              this.resetAnchor('source', b);
            }
            _ && this.resetAnchor('source', c.sourceAnchorDef);
          }
          var x = s.targetView,
            w = s.targetBBox,
            P = !1,
            A = !1;
          if (
            ($
              ? u === f.length - 2
                ? w.containsPoint($)
                  ? (f.pop(), (P = !0))
                  : (($[l] = d[l]), (A = !0))
                : ($[l] = d[l])
              : ((($ = s.targetAnchor.toJSON())[l] = d[l]),
                w.containsPoint($) ? (P = !0) : (f.push($), (A = !0))),
            'function' == typeof a && x)
          ) {
            if (P) {
              var E = c.targetAnchor.clone();
              E[l] = d[l];
              var S = oZ(
                a,
                s,
                E,
                x,
                s.targetMagnet || x.container,
                'target',
                s,
                this
              );
              this.resetAnchor('target', S);
            }
            A && this.resetAnchor('target', c.targetAnchorDef);
          }
          t.Point.equalPoints(f, this.vertices) ||
            this.cellView.cell.setVertices(f, { ui: !0, toolId: this.cid }),
            this.updateHandle(n, g, $, 0),
            o.stopPropagation || s.notifyMouseMove(h, p.x, p.y);
        }),
        (i.prototype.onHandleChange = function (t) {
          var e = t.handle,
            n = t.e,
            i = this.options,
            r = this.handles,
            o = this.cellView,
            s = e.options.index;
          if (Array.isArray(r)) {
            for (var a = 0, l = r.length; a < l; a += 1) a !== s && r[a].hide();
            if (
              (this.focus(),
              this.setEventData(n, {
                sourceAnchor: o.sourceAnchor.clone(),
                targetAnchor: o.targetAnchor.clone(),
                sourceAnchorDef: ib(this.cell.prop(['source', 'anchor'])),
                targetAnchorDef: ib(this.cell.prop(['target', 'anchor'])),
              }),
              this.cell.startBatch('move-segment', {
                ui: !0,
                toolId: this.cid,
              }),
              !i.stopPropagation)
            ) {
              var u = this.normalizeEvent(n),
                c = this.graph.snapToGrid(u.clientX, u.clientY);
              o.notifyMouseDown(u, c.x, c.y);
            }
          }
        }),
        (i.prototype.onHandleChanged = function (t) {
          var e = t.e,
            n = this.options,
            i = this.cellView;
          n.removeRedundancies &&
            i.removeRedundantLinearVertices({ ui: !0, toolId: this.cid });
          var r = this.normalizeEvent(e),
            o = this.graph.snapToGrid(r.clientX, r.clientY);
          this.render(),
            this.blur(),
            this.cell.stopBatch('move-segment', { ui: !0, toolId: this.cid }),
            n.stopPropagation || i.notifyMouseUp(r, o.x, o.y),
            i.checkMouseleave(r),
            n.onChanged && n.onChanged({ edge: i.cell, edgeView: i });
        }),
        (i.prototype.updateHandle = function (e, n, i, r) {
          void 0 === r && (r = 0);
          var o = this.options.precision || 0,
            s = Math.abs(n.x - i.x) < o,
            a = Math.abs(n.y - i.y) < o;
          if (s || a) {
            var l = new t.Line(n, i);
            if (l.length() < this.options.threshold) e.hide();
            else {
              var u = l.getCenter(),
                c = s ? 'x' : 'y';
              u[c] += r || 0;
              var h = l.vector().vectorAngle(new t.Point(1, 0));
              e.updatePosition(u.x, u.y, h, this.cellView),
                e.show(),
                (e.options.axis = c);
            }
          } else e.hide();
        }),
        (i.prototype.onRemove = function () {
          this.resetHandles();
        }),
        i
      );
    })(t.ToolsView.ToolItem);
  (hd = hg || (hg = {})),
    (hf = (function (e) {
      function r(t) {
        var n = e.call(this) || this;
        return (
          (n.options = t),
          n.render(),
          n.delegateEvents({
            mousedown: 'onMouseDown',
            touchstart: 'onMouseDown',
          }),
          n
        );
      }
      return (
        n(r, e),
        (r.prototype.render = function () {
          this.container = t.View.createElement('rect', !0);
          var e = this.options.attrs;
          if ('function' == typeof e) {
            var n = hd.getDefaults();
            this.setAttrs(i(i({}, n.attrs), e(this)));
          } else this.setAttrs(e);
          this.addClass(this.prefixClassName('edge-tool-segment'));
        }),
        (r.prototype.updatePosition = function (e, n, i, r) {
          var o = r.getClosestPoint(new t.Point(e, n)) || new t.Point(e, n),
            s = a9().translate(o.x, o.y);
          if (o.equals({ x: e, y: n })) s = s.rotate(i);
          else {
            var a = new t.Line(e, n, o.x, o.y)
              .vector()
              .vectorAngle(new t.Point(1, 0));
            0 !== a && (a += 90), (s = s.rotate(a));
          }
          this.setAttrs({
            transform: aY(s),
            cursor: i % 180 == 0 ? 'row-resize' : 'col-resize',
          });
        }),
        (r.prototype.onMouseDown = function (t) {
          this.options.guard(t) ||
            (this.trigger('change', { e: t, handle: this }),
            t.stopPropagation(),
            t.preventDefault(),
            this.options.graph.view.undelegateEvents(),
            this.delegateDocumentEvents(
              {
                mousemove: 'onMouseMove',
                touchmove: 'onMouseMove',
                mouseup: 'onMouseUp',
                touchend: 'onMouseUp',
                touchcancel: 'onMouseUp',
              },
              t.data
            ));
        }),
        (r.prototype.onMouseMove = function (t) {
          this.emit('changing', { e: t, handle: this });
        }),
        (r.prototype.onMouseUp = function (t) {
          this.emit('changed', { e: t, handle: this }),
            this.undelegateDocumentEvents(),
            this.options.graph.view.delegateEvents();
        }),
        (r.prototype.show = function () {
          this.container.style.display = '';
        }),
        (r.prototype.hide = function () {
          this.container.style.display = 'none';
        }),
        r
      );
    })(t.View)),
    (hd.Handle = hf),
    (function (t) {
      t.config({
        name: 'segments',
        precision: 0.5,
        threshold: 40,
        snapRadius: 10,
        stopPropagation: !0,
        removeRedundancies: !0,
        attrs: {
          width: 20,
          height: 8,
          x: -10,
          y: -4,
          rx: 4,
          ry: 4,
          fill: '#333',
          stroke: '#fff',
          'stroke-width': 2,
        },
        createHandle: function (e) {
          return new t.Handle(e);
        },
        anchor: cZ,
        addRoutePoint: !1,
      });
    })(hg || (hg = {}));
  var h$ = (function (e) {
    function i() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      n(i, e),
      Object.defineProperty(i.prototype, 'type', {
        get: function () {
          return this.options.type;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (i.prototype.onRender = function () {
        sl(
          this.container,
          this.prefixClassName('edge-tool-' + this.type + '-anchor')
        ),
          this.toggleArea(!1),
          this.update();
      }),
      (i.prototype.update = function () {
        var t = this.type;
        return (
          this.cellView.getTerminalView(t)
            ? (this.updateAnchor(),
              this.updateArea(),
              (this.container.style.display = ''))
            : (this.container.style.display = 'none'),
          this
        );
      }),
      (i.prototype.updateAnchor = function () {
        var t = this.childNodes;
        if (t) {
          var e = t.anchor;
          if (e) {
            var n = this.type,
              i = this.cellView,
              r = this.options,
              o = i.getTerminalAnchor(n),
              s = i.cell.prop([n, 'anchor']);
            e.setAttribute('transform', 'translate(' + o.x + ', ' + o.y + ')');
            var a = s ? r.customAnchorAttrs : r.defaultAnchorAttrs;
            a &&
              Object.keys(a).forEach(function (t) {
                e.setAttribute(t, a[t]);
              });
          }
        }
      }),
      (i.prototype.updateArea = function () {
        var t = this.childNodes;
        if (t) {
          var e = t.area;
          if (e) {
            var n = this.type,
              i = this.cellView,
              r = i.getTerminalView(n);
            if (r) {
              var o = r.cell,
                s = i.getTerminalMagnet(n),
                a = this.options.areaPadding || 0;
              Number.isFinite(a) || (a = 0);
              var l = void 0,
                u = void 0,
                c = void 0;
              r.isEdgeElement(s)
                ? ((u = 0), (c = (l = r.getBBox()).getCenter()))
                : ((l = r.getUnrotatedBBoxOfElement(s)),
                  (u = o.getAngle()),
                  (c = l.getCenter()),
                  u && c.rotate(-u, o.getBBox().getCenter())),
                l.inflate(a),
                s7(e, {
                  x: -l.width / 2,
                  y: -l.height / 2,
                  width: l.width,
                  height: l.height,
                  transform:
                    'translate(' + c.x + ', ' + c.y + ') rotate(' + u + ')',
                });
            }
          }
        }
      }),
      (i.prototype.toggleArea = function (t) {
        if (this.childNodes) {
          var e = this.childNodes.area;
          e && (e.style.display = t ? '' : 'none');
        }
      }),
      (i.prototype.onMouseDown = function (t) {
        this.guard(t) ||
          (t.stopPropagation(),
          t.preventDefault(),
          this.graph.view.undelegateEvents(),
          this.options.documentEvents &&
            this.delegateDocumentEvents(this.options.documentEvents),
          this.focus(),
          this.toggleArea(this.options.restrictArea),
          this.cell.startBatch('move-anchor', { ui: !0, toolId: this.cid }));
      }),
      (i.prototype.resetAnchor = function (t) {
        var e = this.type,
          n = this.cell;
        t
          ? n.prop([e, 'anchor'], t, { rewrite: !0, ui: !0, toolId: this.cid })
          : n.removeProp([e, 'anchor'], { ui: !0, toolId: this.cid });
      }),
      (i.prototype.onMouseMove = function (e) {
        var n = this.type,
          i = this.cellView,
          r = i.getTerminalView(n);
        if (null != r) {
          var o,
            s = this.normalizeEvent(e),
            a = r.cell,
            l = i.getTerminalMagnet(n),
            u = this.graph.clientToLocal(s.clientX, s.clientY),
            c = this.options.snap;
          if ('function' == typeof c) {
            var h = oZ(c, i, u, r, l, n, i, this);
            u = t.Point.create(h);
          }
          if (this.options.restrictArea) {
            if (r.isEdgeElement(l)) {
              var p = r.getClosestPoint(u);
              p && (u = p);
            } else {
              var d = r.getUnrotatedBBoxOfElement(l),
                f = a.getAngle(),
                g = a.getBBox().getCenter(),
                $ = u.clone().rotate(f, g);
              d.containsPoint($) ||
                (u = d.getNearestPointToPoint($).rotate(-f, g));
            }
          }
          var v = this.options.anchor;
          'function' == typeof v && (o = oZ(v, i, u, r, l, n, i, this)),
            this.resetAnchor(o),
            this.update();
        }
      }),
      (i.prototype.onMouseUp = function (t) {
        this.graph.view.delegateEvents(),
          this.undelegateDocumentEvents(),
          this.blur(),
          this.toggleArea(!1);
        var e = this.cellView;
        this.options.removeRedundancies &&
          e.removeRedundantLinearVertices({ ui: !0, toolId: this.cid }),
          this.cell.stopBatch('move-anchor', { ui: !0, toolId: this.cid });
      }),
      (i.prototype.onDblClick = function () {
        var t = this.options.resetAnchor;
        t && this.resetAnchor(!0 === t ? void 0 : t), this.update();
      }),
      i
    );
  })(t.ToolsView.ToolItem);
  !(function (t) {
    t.config({
      tagName: 'g',
      markup: [
        { tagName: 'circle', selector: 'anchor', attrs: { cursor: 'pointer' } },
        {
          tagName: 'rect',
          selector: 'area',
          attrs: {
            'pointer-events': 'none',
            fill: 'none',
            stroke: '#33334F',
            'stroke-dasharray': '2,4',
            rx: 5,
            ry: 5,
          },
        },
      ],
      events: {
        mousedown: 'onMouseDown',
        touchstart: 'onMouseDown',
        dblclick: 'onDblClick',
      },
      documentEvents: {
        mousemove: 'onMouseMove',
        touchmove: 'onMouseMove',
        mouseup: 'onMouseUp',
        touchend: 'onMouseUp',
        touchcancel: 'onMouseUp',
      },
      customAnchorAttrs: {
        'stroke-width': 4,
        stroke: '#33334F',
        fill: '#FFFFFF',
        r: 5,
      },
      defaultAnchorAttrs: {
        'stroke-width': 2,
        stroke: '#FFFFFF',
        fill: '#33334F',
        r: 6,
      },
      areaPadding: 6,
      snapRadius: 10,
      resetAnchor: !0,
      restrictArea: !0,
      removeRedundancies: !0,
      anchor: cZ,
      snap: function (t, e, n, i, r, o) {
        var s = o.options.snapRadius || 0,
          a = 'source' === i,
          l =
            this.cell.getVertexAt(a ? 0 : -1) ||
            this.getTerminalAnchor(a ? 'target' : 'source');
        return (
          l &&
            (Math.abs(l.x - t.x) < s && (t.x = l.x),
            Math.abs(l.y - t.y) < s && (t.y = l.y)),
          t
        );
      },
    });
  })(h$ || (h$ = {}));
  var h0 = h$.define({ name: 'source-anchor', type: 'source' }),
    hv = h$.define({ name: 'target-anchor', type: 'target' }),
    hy = (function (e) {
      function i() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'type', {
          get: function () {
            return this.options.type;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'ratio', {
          get: function () {
            return this.options.ratio;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.init = function () {
          if (this.options.attrs) {
            var t = this.options.attrs,
              e = t.class,
              n = r(t, ['class']);
            this.setAttrs(n, this.container), e && sl(this.container, e);
          }
        }),
        (i.prototype.onRender = function () {
          sl(
            this.container,
            this.prefixClassName('edge-tool-' + this.type + '-arrowhead')
          ),
            this.update();
        }),
        (i.prototype.update = function () {
          var e = this.ratio,
            n = this.cellView,
            i = n.getTangentAtRatio(e),
            r = i ? i.start : n.getPointAtRatio(e),
            o = (i && i.vector().vectorAngle(new t.Point(1, 0))) || 0;
          if (!r) return this;
          var s = a9().translate(r.x, r.y).rotate(o);
          return l$(this.container, s, { absolute: !0 }), this;
        }),
        (i.prototype.onMouseDown = function (t) {
          if (!this.guard(t)) {
            t.stopPropagation(), t.preventDefault();
            var e = this.cellView;
            if (e.can('arrowheadMovable')) {
              e.cell.startBatch('move-arrowhead', { ui: !0, toolId: this.cid });
              var n = this.graph.snapToGrid(t.clientX, t.clientY),
                i = e.prepareArrowheadDragging(this.type, {
                  x: n.x,
                  y: n.y,
                  options: { toolId: this.cid },
                });
              this.cellView.setEventData(t, i),
                this.delegateDocumentEvents(
                  this.options.documentEvents,
                  t.data
                ),
                e.graph.view.undelegateEvents(),
                (this.container.style.pointerEvents = 'none');
            }
            this.focus();
          }
        }),
        (i.prototype.onMouseMove = function (t) {
          var e = this.normalizeEvent(t),
            n = this.graph.snapToGrid(e.clientX, e.clientY);
          this.cellView.onMouseMove(e, n.x, n.y), this.update();
        }),
        (i.prototype.onMouseUp = function (t) {
          this.undelegateDocumentEvents();
          var e = this.normalizeEvent(t),
            n = this.cellView,
            i = this.graph.snapToGrid(e.clientX, e.clientY);
          n.onMouseUp(e, i.x, i.y),
            this.graph.view.delegateEvents(),
            this.blur(),
            (this.container.style.pointerEvents = ''),
            n.cell.stopBatch('move-arrowhead', { ui: !0, toolId: this.cid });
        }),
        i
      );
    })(t.ToolsView.ToolItem);
  !(function (t) {
    t.config({
      tagName: 'path',
      isSVGElement: !0,
      events: { mousedown: 'onMouseDown', touchstart: 'onMouseDown' },
      documentEvents: {
        mousemove: 'onMouseMove',
        touchmove: 'onMouseMove',
        mouseup: 'onMouseUp',
        touchend: 'onMouseUp',
        touchcancel: 'onMouseUp',
      },
    });
  })(hy || (hy = {}));
  var hm,
    h_,
    hC,
    hb,
    hx,
    hw = hy.define({
      name: 'source-arrowhead',
      type: 'source',
      ratio: 0,
      attrs: {
        d: 'M 10 -8 -10 0 10 8 Z',
        fill: '#333',
        stroke: '#fff',
        'stroke-width': 2,
        cursor: 'move',
      },
    }),
    h1 = hy.define({
      name: 'target-arrowhead',
      type: 'target',
      ratio: 1,
      attrs: {
        d: 'M -10 -8 10 0 -10 8 Z',
        fill: '#333',
        stroke: '#fff',
        'stroke-width': 2,
        cursor: 'move',
      },
    }),
    hP = (function (e) {
      function i() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (t.labelIndex = -1), (t.distance = 0.5), t;
      }
      return (
        n(i, e),
        (i.prototype.render = function () {
          return (
            this.createElement(),
            this.updateEditor(),
            this.autoFocus(),
            this.delegateDocumentEvents(this.options.documentEvents),
            this
          );
        }),
        (i.prototype.createElement = function () {
          var e = this.cell,
            n = [
              this.prefixClassName(
                (e.isEdge() ? 'edge' : 'node') + '-tool-editor'
              ),
              this.prefixClassName('cell-tool-editor'),
            ];
          (this.editor = t.ToolsView.createElement('div', !1)),
            this.addClass(n, this.editor),
            (this.editor.contentEditable = 'true'),
            this.container.appendChild(this.editor);
        }),
        (i.prototype.updateEditor = function () {
          var e = this.graph,
            n = this.cell,
            i = this.editor,
            r = i.style,
            o = new t.Point(),
            s = 20;
          if (n.isNode()) (o = n.getBBox().center), (s = n.size().width - 4);
          else if (n.isEdge()) {
            var a = this.options.event,
              l = a.target,
              u = l.parentElement;
            if (u && sa(u, this.prefixClassName('edge-label'))) {
              var c = u.getAttribute('data-index') || '0';
              this.labelIndex = parseInt(c, 10);
              var h = aJ(u.getAttribute('transform')).translation;
              (o = new t.Point(h.tx, h.ty)), (s = ls(l).width);
            } else {
              if (!this.options.labelAddable) return this;
              o = e.clientToLocal(t.Point.create(a.clientX, a.clientY));
              var p = this.cellView.path.closestPointLength(o);
              this.distance = p;
            }
          }
          (o = e.localToGraph(o)),
            (r.left = o.x + 'px'),
            (r.top = o.y + 'px'),
            (r.minWidth = s + 'px');
          var d = e.scale();
          r.transform =
            'scale(' + d.sx + ', ' + d.sy + ') translate(-50%, -50%)';
          var f = this.options.attrs;
          (r.fontSize = f.fontSize + 'px'),
            (r.fontFamily = f.fontFamily),
            (r.color = f.color),
            (r.backgroundColor = f.backgroundColor);
          var g,
            $ = this.options.getText;
          return (
            'function' == typeof $ &&
              (g = oZ($, this.cellView, {
                cell: this.cell,
                index: this.labelIndex,
              })),
            (i.innerText = g || ''),
            this
          );
        }),
        (i.prototype.onDocumentMouseDown = function (t) {
          if (t.target !== this.editor) {
            var e = this.cell,
              n = this.editor.innerText.replace(/\n$/, '') || '',
              i = this.options.setText;
            'function' == typeof i &&
              oZ(i, this.cellView, {
                cell: this.cell,
                value: n,
                index: this.labelIndex,
                distance: this.distance,
              }),
              e.removeTool(e.isEdge() ? 'edge-editor' : 'node-editor'),
              this.undelegateDocumentEvents();
          }
        }),
        (i.prototype.onDblClick = function (t) {
          t.stopPropagation();
        }),
        (i.prototype.onMouseDown = function (t) {
          t.stopPropagation();
        }),
        (i.prototype.autoFocus = function () {
          var t = this;
          setTimeout(function () {
            t.editor.focus(), t.selectText();
          });
        }),
        (i.prototype.selectText = function () {
          if (window.getSelection) {
            var t = document.createRange(),
              e = window.getSelection();
            t.selectNodeContents(this.editor),
              e.removeAllRanges(),
              e.addRange(t);
          }
        }),
        i
      );
    })(t.ToolsView.ToolItem);
  !(function (t) {
    t.config({
      tagName: 'div',
      isSVGElement: !1,
      events: { dblclick: 'onDblClick', mousedown: 'onMouseDown' },
      documentEvents: { mousedown: 'onDocumentMouseDown' },
    });
  })(hP || (hP = {})),
    ((hC = hP || (hP = {})).NodeEditor = hC.define({
      attrs: {
        fontSize: 14,
        fontFamily: 'Arial, helvetica, sans-serif',
        color: '#000',
        backgroundColor: '#fff',
      },
      getText: function (t) {
        return t.cell.attr('text/text');
      },
      setText: function (t) {
        var e = t.cell,
          n = t.value;
        e.attr('text/text', n);
      },
    })),
    (hC.EdgeEditor = hC.define({
      attrs: {
        fontSize: 14,
        fontFamily: 'Arial, helvetica, sans-serif',
        color: '#000',
        backgroundColor: '#fff',
      },
      labelAddable: !0,
      getText: function (t) {
        var e = t.cell,
          n = t.index;
        return -1 === n ? '' : e.prop('labels/' + n + '/attrs/label/text');
      },
      setText: function (t) {
        var e = t.cell,
          n = t.value,
          i = t.index,
          r = t.distance,
          o = e;
        -1 === i
          ? o.appendLabel({
              position: { distance: r },
              attrs: { label: { text: n } },
            })
          : n
          ? o.prop('labels/' + i + '/attrs/label/text', n)
          : 'number' == typeof i && o.removeLabelAt(i);
      },
    })),
    ((hb = hm || (hm = {})).presets = {
      boundary: hu,
      button: hl,
      'button-remove': hl.Remove,
      'node-editor': hP.NodeEditor,
    }),
    (hb.registry = l5.create({
      type: 'node tool',
      process: function (e, n) {
        if ('function' == typeof n) return n;
        var i = t.ToolsView.ToolItem,
          o = n.inherit,
          s = r(n, ['inherit']);
        if (o) {
          var a = this.get(o);
          null == a ? this.onNotFound(o, 'inherited') : (i = a);
        }
        return null == s.name && (s.name = e), i.define.call(i, s);
      },
    })),
    hb.registry.register(hb.presets, !0),
    ((hx = h_ || (h_ = {})).presets = {
      boundary: hu,
      vertices: hp,
      segments: hg,
      button: hl,
      'button-remove': hl.Remove,
      'source-anchor': h0,
      'target-anchor': hv,
      'source-arrowhead': hw,
      'target-arrowhead': h1,
      'edge-editor': hP.EdgeEditor,
    }),
    (hx.registry = l5.create({
      type: 'edge tool',
      process: function (e, n) {
        if ('function' == typeof n) return n;
        var i = t.ToolsView.ToolItem,
          o = n.inherit,
          s = r(n, ['inherit']);
        if (o) {
          var a = this.get(o);
          null == a ? this.onNotFound(o, 'inherited') : (i = a);
        }
        return null == s.name && (s.name = e), i.define.call(i, s);
      },
    })),
    hx.registry.register(hx.presets, !0);
  var hA = h2('center'),
    hE = h2('topCenter'),
    hS = h2('bottomCenter'),
    hk = h2('leftMiddle'),
    h4 = h2('rightMiddle'),
    hT = h2('topLeft'),
    h3 = h2('topRight'),
    hM = h2('bottomLeft'),
    hD = h2('bottomRight');
  function h2(t) {
    return function (e, n, i, r) {
      void 0 === r && (r = {});
      var o = r.rotate ? e.getUnrotatedBBoxOfElement(n) : e.getBBoxOfElement(n),
        s = o[t];
      (s.x += o9(r.dx, o.width)), (s.y += o9(r.dy, o.height));
      var a = e.cell;
      return r.rotate ? s.rotate(-a.getAngle(), a.getBBox().getCenter()) : s;
    };
  }
  function hN(e) {
    return function (n, i, r, o) {
      if (r instanceof Element) {
        var s = this.graph.renderer.findViewByElem(r),
          a = void 0;
        return (
          (a = s
            ? s.isEdgeElement(r)
              ? hL(s, null != o.fixedAt ? o.fixedAt : '50%')
              : s.getBBoxOfElement(r).getCenter()
            : new t.Point()),
          e.call(this, n, i, a, o)
        );
      }
      return e.apply(this, arguments);
    };
  }
  function hL(t, e) {
    var n = oq(e),
      i = 'string' == typeof e ? parseFloat(e) : e;
    return n ? t.getPointAtRatio(i / 100) : t.getPointAtLength(i);
  }
  var h5,
    h6,
    h7 = hN(function (e, n, i, r) {
      var o = e.cell.getAngle(),
        s = e.getBBoxOfElement(n),
        a = s.getCenter(),
        l = s.getTopLeft(),
        u = s.getBottomRight(),
        c = r.padding;
      if ((Number.isFinite(c) || (c = 0), l.y + c <= i.y && i.y <= u.y - c)) {
        var h = i.y - a.y;
        (a.x +=
          0 === o || 180 === o ? 0 : (1 * h) / Math.tan(t.Angle.toRad(o))),
          (a.y += h);
      } else if (l.x + c <= i.x && i.x <= u.x - c) {
        var p = i.x - a.x;
        (a.y += 90 === o || 270 === o ? 0 : p * Math.tan(t.Angle.toRad(o))),
          (a.x += p);
      }
      return a;
    }),
    hF = hN(function (t, e, n, i) {
      var r,
        o,
        s = 0,
        a = t.cell;
      i.rotate
        ? ((r = t.getUnrotatedBBoxOfElement(e)),
          (o = a.getBBox().getCenter()),
          (s = a.getAngle()))
        : (r = t.getBBoxOfElement(e));
      var l = i.padding;
      null != l && Number.isFinite(l) && r.inflate(l),
        i.rotate && n.rotate(s, o);
      var u,
        c = r.getNearestSideToPoint(n);
      switch (c) {
        case 'left':
          u = r.getLeftMiddle();
          break;
        case 'right':
          u = r.getRightMiddle();
          break;
        case 'top':
          u = r.getTopCenter();
          break;
        case 'bottom':
          u = r.getBottomCenter();
      }
      var h = i.direction;
      return (
        'H' === h
          ? ('top' !== c && 'bottom' !== c) ||
            (u = n.x <= r.x + r.width ? r.getLeftMiddle() : r.getRightMiddle())
          : 'V' === h &&
            (u =
              n.y <= r.y + r.height ? r.getTopCenter() : r.getBottomCenter()),
        i.rotate ? u.rotate(-s, o) : u
      );
    }),
    hz = Object.freeze({
      __proto__: null,
      center: hA,
      top: hE,
      bottom: hS,
      left: hk,
      right: h4,
      topLeft: hT,
      topRight: h3,
      bottomLeft: hM,
      bottomRight: hD,
      orth: h7,
      nodeCenter: function (t, e, n, i, r) {
        var o = t.cell.getConnectionPoint(this.cell, r);
        return (i.dx || i.dy) && o.translate(i.dx || 0, i.dy || 0), o;
      },
      midSide: hF,
    });
  ((h6 = h5 || (h5 = {})).presets = hz),
    (h6.registry = l5.create({ type: 'node endpoint' })),
    h6.registry.register(h6.presets, !0);
  var hB,
    hO = function (e, n, i, r) {
      var o = e.getClosestPoint(i);
      return null != o ? o : new t.Point();
    },
    hV = hN(hO),
    hR = hN(function (e, n, i, r) {
      var o = e.getConnection(),
        s = e.getConnectionSubdivisions(),
        a = new t.Line(
          i.clone().translate(0, 1e6),
          i.clone().translate(0, -1e6)
        ),
        l = new t.Line(
          i.clone().translate(1e6, 0),
          i.clone().translate(-1e6, 0)
        ),
        u = a.intersect(o, { segmentSubdivisions: s }),
        c = l.intersect(o, { segmentSubdivisions: s }),
        h = [];
      return (
        u && h.push.apply(h, u),
        c && h.push.apply(h, c),
        h.length > 0
          ? i.closest(h)
          : null != r.fallbackAt
          ? hL(e, r.fallbackAt)
          : oZ(hO, this, e, n, i, r)
      );
    }),
    hI = Object.freeze({
      __proto__: null,
      closest: hV,
      ratio: function (t, e, n, i) {
        var r = null != i.ratio ? i.ratio : 0.5;
        return r > 1 && (r /= 100), t.getPointAtRatio(r);
      },
      length: function (t, e, n, i) {
        var r = null != i.length ? i.length : 20;
        return t.getPointAtLength(r);
      },
      orth: hR,
    });
  function h8(e, n, i) {
    if ('object' == typeof i) {
      if (Number.isFinite(i.y)) {
        var r,
          o = new t.Line(n, e).parallel(i.y);
        (n = o.start), (e = o.end);
      }
      r = i.x;
    } else r = i;
    if (null == r || !Number.isFinite(r)) return e;
    var s = e.distance(n);
    return 0 === r && s > 0 ? e : e.move(n, -Math.min(r, s - 1));
  }
  function hG(t) {
    var e = t.getAttribute('stroke-width');
    return null === e ? 0 : parseFloat(e) || 0;
  }
  ((hj = hB || (hB = {})).presets = hI),
    (hj.registry = l5.create({ type: 'edge endpoint' })),
    hj.registry.register(hj.presets, !0);
  var hj,
    hH,
    hU,
    hq = function (t, e, n, i) {
      var r = e.getBBoxOfElement(n);
      i.stroked && r.inflate(hG(n) / 2);
      var o = t.intersect(r);
      return h8(o && o.length ? t.start.closest(o) : t.end, t.start, i.offset);
    },
    h9 = Object.freeze({
      __proto__: null,
      bbox: hq,
      rect: function (t, e, n, i, r) {
        var o = e.cell,
          s = o.isNode() ? o.getAngle() : 0;
        if (0 === s) return oZ(hq, this, t, e, n, i, r);
        var a = e.getUnrotatedBBoxOfElement(n);
        i.stroked && a.inflate(hG(n) / 2);
        var l = a.getCenter(),
          u = t.clone().rotate(s, l),
          c = u.setLength(1e6).intersect(a);
        return h8(
          c && c.length ? u.start.closest(c).rotate(-s, l) : t.end,
          t.start,
          i.offset
        );
      },
      boundary: function (e, n, r, o) {
        var s,
          a,
          l = e.end,
          u = o.selector;
        if (
          !sf(
            (s =
              'string' == typeof u
                ? n.findOne(u)
                : Array.isArray(u)
                ? o2(r, u)
                : (function (t) {
                    if (null == t) return null;
                    var e = t;
                    do {
                      var n = e.tagName;
                      if ('string' != typeof n) return null;
                      if ('G' === (n = n.toUpperCase()))
                        e = e.firstElementChild;
                      else {
                        if ('TITLE' !== n) break;
                        e = e.nextElementSibling;
                      }
                    } while (e);
                    return e;
                  })(r))
          )
        ) {
          if (s === r || !sf(r)) return l;
          s = r;
        }
        var c,
          h = n.getShapeOfElement(s),
          p = n.getMatrixOfElement(s),
          d = n.getRootTranslatedMatrix(),
          f = n.getRootRotatedMatrix(),
          g = d.multiply(f).multiply(p),
          $ = li(e, g.inverse()),
          v = $.start.clone(),
          y = n.getDataOfElement(s);
        if (!1 === o.insideout) {
          null == y.shapeBBox && (y.shapeBBox = h.bbox());
          var m = y.shapeBBox;
          if (null != m && m.containsPoint(v)) return l;
        }
        if ((!0 === o.extrapolate && $.setLength(1e6), t.Path.isPath(h))) {
          var _ = o.precision || 2;
          null == y.segmentSubdivisions &&
            (y.segmentSubdivisions = h.getSegmentSubdivisions({
              precision: _,
            })),
            (c = { precision: _, segmentSubdivisions: y.segmentSubdivisions }),
            (a = $.intersect(h, c));
        } else a = $.intersect(h);
        a
          ? Array.isArray(a) && (a = v.closest(a))
          : !0 === o.sticky &&
            (a = t.Rectangle.isRectangle(h)
              ? h.getNearestPointToPoint(v)
              : t.Ellipse.isEllipse(h)
              ? h.intersectsWithLineFromCenterToPoint(v)
              : h.closestPoint(v, c));
        var C = a ? ln(a, g) : l,
          b = o.offset || 0;
        return (
          !1 !== o.stroked &&
            ('object' == typeof b
              ? (null == (b = i({}, b)).x && (b.x = 0), (b.x += hG(s) / 2))
              : (b += hG(s) / 2)),
          h8(C, e.start, b)
        );
      },
      anchor: function (t, e, n, i) {
        var r = i.alignOffset,
          o = i.align;
        return (
          o &&
            (function (t, e, n) {
              void 0 === n && (n = 0);
              var i,
                r,
                o,
                s,
                a = t.start,
                l = t.end;
              switch (e) {
                case 'left':
                  (s = 'x'), (i = l), (r = a), (o = -1);
                  break;
                case 'right':
                  (s = 'x'), (i = a), (r = l), (o = 1);
                  break;
                case 'top':
                  (s = 'y'), (i = l), (r = a), (o = -1);
                  break;
                case 'bottom':
                  (s = 'y'), (i = a), (r = l), (o = 1);
                  break;
                default:
                  return;
              }
              a[s] < l[s] ? (i[s] = r[s]) : (r[s] = i[s]),
                Number.isFinite(n) && ((i[s] += o * n), (r[s] += o * n));
            })(t, o, r),
          h8(t.end, t.start, i.offset)
        );
      },
    });
  function hW(e) {
    return new t.Rectangle(e.x, e.y, 0, 0);
  }
  function hX(t) {
    void 0 === t && (t = {});
    var e = oX(t.padding || 20);
    return {
      x: -e.left,
      y: -e.top,
      width: e.left + e.right,
      height: e.top + e.bottom,
    };
  }
  function hY(t, e) {
    return void 0 === e && (e = {}), t.sourceBBox.clone().moveAndExpand(hX(e));
  }
  function hJ(t, e) {
    return void 0 === e && (e = {}), t.targetBBox.clone().moveAndExpand(hX(e));
  }
  ((hU = hH || (hH = {})).presets = h9),
    (hU.registry = l5.create({ type: 'connection point' })),
    hU.registry.register(hU.presets, !0);
  var hZ,
    hK = function (e, n, i) {
      var r,
        o,
        s,
        a,
        l = hY(i, n),
        u = hJ(i, n),
        c =
          ((r = i),
          void 0 === (o = n) && (o = {}),
          r.sourceAnchor ? r.sourceAnchor : hY(r, o).getCenter()),
        h =
          ((s = i),
          void 0 === (a = n) && (a = {}),
          s.targetAnchor ? s.targetAnchor : hJ(s, a).getCenter());
      (l = l.union(hW(c))), (u = u.union(hW(h)));
      var p = e.map(function (e) {
        return t.Point.create(e);
      });
      p.unshift(c), p.push(h);
      for (var d = null, f = [], g = 0, $ = p.length - 1; g < $; g += 1) {
        var v = null,
          y = p[g],
          m = p[g + 1],
          _ = null != hZ.getBearing(y, m);
        if (0 === g)
          g + 1 === $
            ? l.intersectsWithRect(u.clone().inflate(1))
              ? (v = hZ.insideNode(y, m, l, u))
              : _ || (v = hZ.nodeToNode(y, m, l, u))
            : l.containsPoint(m)
            ? (v = hZ.insideNode(y, m, l, hW(m).moveAndExpand(hX(n))))
            : _ || (v = hZ.nodeToVertex(y, m, l));
        else if (g + 1 === $) {
          var C = _ && hZ.getBearing(m, y) === d;
          u.containsPoint(y) || C
            ? (v = hZ.insideNode(y, m, hW(y).moveAndExpand(hX(n)), u, d))
            : _ || (v = hZ.vertexToNode(y, m, u, d));
        } else _ || (v = hZ.vertexToVertex(y, m, d));
        v
          ? (f.push.apply(f, v.points), (d = v.direction))
          : (d = hZ.getBearing(y, m)),
          g + 1 < $ && f.push(m);
      }
      return f;
    };
  !(function (e) {
    var n = { N: 'S', S: 'N', E: 'W', W: 'E' },
      i = { N: (-Math.PI / 2) * 3, S: -Math.PI / 2, E: 0, W: Math.PI };
    function r(e, n, i) {
      var r = new t.Point(e.x, n.y);
      return i.containsPoint(r) && (r = new t.Point(n.x, e.y)), r;
    }
    function o(t, e) {
      return t['W' === e || 'E' === e ? 'width' : 'height'];
    }
    function s(t, e) {
      return t.x === e.x
        ? t.y > e.y
          ? 'N'
          : 'S'
        : t.y === e.y
        ? t.x > e.x
          ? 'W'
          : 'E'
        : null;
    }
    function a(e, i, r) {
      var o = new t.Point(e.x, i.y),
        a = new t.Point(i.x, e.y),
        l = s(e, o),
        u = s(e, a),
        c = r ? n[r] : null,
        h = l === r || (l !== c && (u === c || u !== r)) ? o : a;
      return { points: [h], direction: s(h, i) };
    }
    function l(t, e, n) {
      var i = r(t, e, n);
      return { points: [i], direction: s(i, e) };
    }
    (e.getBBoxSize = o),
      (e.getBearing = s),
      (e.vertexToVertex = a),
      (e.nodeToVertex = l),
      (e.vertexToNode = function (e, n, i, a) {
        var l,
          u = [new t.Point(e.x, n.y), new t.Point(n.x, e.y)],
          c = u.filter(function (t) {
            return !i.containsPoint(t);
          }),
          h = c.filter(function (t) {
            return s(t, e) !== a;
          });
        if (h.length > 0)
          return {
            points: [
              (l =
                (l = h
                  .filter(function (t) {
                    return s(e, t) === a;
                  })
                  .pop()) || h[0]),
            ],
            direction: s(l, n),
          };
        l = rr(u, c)[0];
        var p = t.Point.create(n).move(l, -o(i, a) / 2);
        return { points: [r(p, e, i), p], direction: s(p, n) };
      }),
      (e.nodeToNode = function (e, n, i, r) {
        var u = l(n, e, r),
          c = u.points[0];
        if (i.containsPoint(c)) {
          var h = (u = l(e, n, i)).points[0];
          if (r.containsPoint(h)) {
            var p = t.Point.create(e).move(h, -o(i, s(e, h)) / 2),
              d = t.Point.create(n).move(c, -o(r, s(n, c)) / 2),
              f = new t.Line(p, d).getCenter(),
              g = l(e, f, i),
              $ = a(f, n, g.direction);
            (u.points = [g.points[0], $.points[0]]),
              (u.direction = $.direction);
          }
        }
        return u;
      }),
      (e.insideNode = function (e, n, o, a, l) {
        var u,
          c,
          h,
          p,
          d = o.union(a).inflate(1),
          f = d.getCenter(),
          g = f.distance(n) > f.distance(e),
          $ = g ? n : e,
          v = g ? e : n;
        return (
          l
            ? ((u = t.Point.fromPolar(d.width + d.height, i[l], $)),
              (u = d.getNearestPointToPoint(u).move(u, -1)))
            : (u = d.getNearestPointToPoint($).move($, 1)),
          (c = r(u, v, d)),
          u.round().equals(c.round())
            ? ((c = t.Point.fromPolar(
                d.width + d.height,
                t.Angle.toRad(u.theta($)) + Math.PI / 2,
                v
              )),
              (h = r(
                u,
                (c = d.getNearestPointToPoint(c).move(v, 1).round()),
                d
              )),
              (p = g ? [c, h, u] : [u, h, c]))
            : (p = g ? [c, u] : [u, c]),
          { points: p, direction: s(g ? u : c, n) }
        );
      });
  })(hZ || (hZ = {}));
  var hQ = {
    step: 10,
    maxLoopCount: 2e3,
    precision: 1,
    maxDirectionChange: 90,
    perpendicular: !0,
    excludeTerminals: [],
    excludeShapes: [],
    excludeNodes: [],
    excludeHiddenNodes: !1,
    startDirections: ['top', 'right', 'bottom', 'left'],
    endDirections: ['top', 'right', 'bottom', 'left'],
    directionMap: {
      top: { x: 0, y: -1 },
      right: { x: 1, y: 0 },
      bottom: { x: 0, y: 1 },
      left: { x: -1, y: 0 },
    },
    cost: function () {
      return pt(this.step, this);
    },
    directions: function () {
      var t = pt(this.step, this),
        e = pt(this.cost, this);
      return [
        { cost: e, offsetX: t, offsetY: 0 },
        { cost: e, offsetX: -t, offsetY: 0 },
        { cost: e, offsetX: 0, offsetY: t },
        { cost: e, offsetX: 0, offsetY: -t },
      ];
    },
    penalties: function () {
      var t = pt(this.step, this);
      return { 0: 0, 45: t / 2, 90: t / 2 };
    },
    paddingBox: function () {
      var t = pt(this.step, this);
      return { x: -t, y: -t, width: 2 * t, height: 2 * t };
    },
    fallbackRouter: hK,
    draggingRouter: null,
  };
  function pt(t, e) {
    return 'function' == typeof t ? t.call(e) : t;
  }
  var pe = (function () {
      function t() {
        (this.items = []), (this.hash = {}), (this.values = {});
      }
      return (
        (t.prototype.add = function (t, e) {
          var n = this;
          this.hash[t]
            ? this.items.splice(this.items.indexOf(t), 1)
            : (this.hash[t] = 1),
            (this.values[t] = e);
          var i = rJ(this.items, t, function (t) {
            return n.values[t];
          });
          this.items.splice(i, 0, t);
        }),
        (t.prototype.pop = function () {
          var t = this.items.shift();
          return t && (this.hash[t] = 2), t;
        }),
        (t.prototype.isOpen = function (t) {
          return 1 === this.hash[t];
        }),
        (t.prototype.isClose = function (t) {
          return 2 === this.hash[t];
        }),
        (t.prototype.isEmpty = function () {
          return 0 === this.items.length;
        }),
        t
      );
    })(),
    pn = (function () {
      function e(t) {
        (this.options = t), (this.mapGridSize = 100), (this.map = {});
      }
      return (
        (e.prototype.build = function (e, n) {
          var i = this.options,
            r = i.excludeTerminals.reduce(function (t, i) {
              var r = n[i];
              if (r) {
                var o = e.getCell(r.cell);
                o && t.push(o);
              }
              return t;
            }, []),
            o = [],
            s = e.getCell(n.getSourceCellId());
          s &&
            (o = o_(
              o,
              s.getAncestors().map(function (t) {
                return t.id;
              })
            ));
          var a = e.getCell(n.getTargetCellId());
          a &&
            (o = o_(
              o,
              a.getAncestors().map(function (t) {
                return t.id;
              })
            ));
          var l = this.mapGridSize;
          return (
            e.getNodes().reduce(function (e, n) {
              var s = n.shape,
                a = i.excludeShapes,
                u = !!s && a.includes(s),
                c = r.some(function (t) {
                  return t.id === n.id;
                }),
                h = i.excludeNodes.some(function (t) {
                  return 'string' == typeof t ? n.id === t : t === n;
                }),
                p = o.includes(n.id),
                d = i.excludeHiddenNodes && !n.isVisible();
              if (!(u || c || h || p || d))
                for (
                  var f = n.getBBox().moveAndExpand(i.paddingBox),
                    g = f.getOrigin().snapToGrid(l),
                    $ = f.getCorner().snapToGrid(l),
                    v = g.x;
                  v <= $.x;
                  v += l
                )
                  for (var y = g.y; y <= $.y; y += l) {
                    var m = new t.Point(v, y).toString();
                    null == e[m] && (e[m] = []), e[m].push(f);
                  }
              return e;
            }, this.map),
            this
          );
        }),
        (e.prototype.isAccessible = function (t) {
          var e = t.clone().snapToGrid(this.mapGridSize).toString(),
            n = this.map[e];
          return (
            !n ||
            n.every(function (e) {
              return !e.containsPoint(t);
            })
          );
        }),
        e
      );
    })();
  function pi(t, e) {
    var n = t.sourceBBox.clone();
    return e && e.paddingBox ? n.moveAndExpand(e.paddingBox) : n;
  }
  function pr(t, e) {
    var n = t.targetBBox.clone();
    return e && e.paddingBox ? n.moveAndExpand(e.paddingBox) : n;
  }
  function po(t, e) {
    return t.sourceAnchor ? t.sourceAnchor : pi(t, e).getCenter();
  }
  function ps(e, n, i, r, o) {
    var s,
      a,
      l,
      u,
      c,
      h,
      p,
      d,
      f,
      g = 360 / i,
      $ = e.theta(
        ((s = e),
        (a = n),
        (l = r),
        (c = (u = o).step),
        (h = a.x - s.x),
        (p = a.y - s.y),
        (d = h / l.x),
        (f = p / l.y),
        new t.Point(s.x + d * c, s.y + f * c))
      ),
      v = t.Angle.normalize($ + g / 2);
    return g * Math.floor(v / g);
  }
  function pa(t, e) {
    var n = Math.abs(t - e);
    return n > 180 ? 360 - n : n;
  }
  function pl(t, e) {
    if (!t) return e;
    var n = Math.abs(t),
      i = Math.round(n / e);
    return i ? e + (n - i * e) / i : n;
  }
  function pu(t, e) {
    return t.round(e);
  }
  function pc(e, n, i) {
    var r, o, s, a, l;
    return pu(
      ((r = e.clone()),
      (s = (o = n).source),
      (a = t.Util.snapToGrid(r.x - s.x, o.x) + s.x),
      (l = t.Util.snapToGrid(r.y - s.y, o.y) + s.y),
      new t.Point(a, l)),
      i
    );
  }
  function ph(t) {
    return t.toString();
  }
  function pp(e) {
    return new t.Point(
      0 === e.x ? 0 : Math.abs(e.x) / e.x,
      0 === e.y ? 0 : Math.abs(e.y) / e.y
    );
  }
  function pd(t, e) {
    for (var n = 1 / 0, i = 0, r = e.length; i < r; i += 1) {
      var o = t.manhattanDistance(e[i]);
      o < n && (n = o);
    }
    return n;
  }
  function pf(e, n, i, r, o) {
    var s = o.precision,
      a = o.directionMap,
      l = e.diff(n.getCenter()),
      u = Object.keys(a).reduce(function (o, u) {
        if (i.includes(u)) {
          for (
            var c = a[u],
              h = new t.Point(
                e.x + c.x * (Math.abs(l.x) + n.width),
                e.y + c.y * (Math.abs(l.y) + n.height)
              ),
              p = new t.Line(e, h).intersect(n) || [],
              d = void 0,
              f = null,
              g = 0;
            g < p.length;
            g += 1
          ) {
            var $ = p[g],
              v = e.squaredDistance($);
            (null == d || v > d) && ((d = v), (f = $));
          }
          if (f) {
            var y = pc(f, r, s);
            n.containsPoint(y) &&
              (y = pc(y.translate(c.x * r.x, c.y * r.y), r, s)),
              o.push(y);
          }
        }
        return o;
      }, []);
    return n.containsPoint(e) || u.push(pc(e, r, s)), u;
  }
  function pg(t, e, n, i, r) {
    for (var o, s = [], a = pp(r.diff(n)), l = ph(n), u = t[l]; u; ) {
      var c = pp((o = e[l]).diff(u));
      c.equals(a) || (s.unshift(o), (a = c)), (u = t[(l = ph(u))]);
    }
    var h = e[l];
    return pp(h.diff(i)).equals(a) || s.unshift(h), s;
  }
  function p$(e, n, i, r, o) {
    var s,
      a,
      l,
      u,
      c = o.precision;
    (s = t.Rectangle.isRectangle(n)
      ? pu(po(e, o).clone(), c)
      : pu(n.clone(), c)),
      (a = t.Rectangle.isRectangle(i)
        ? pu(
            ((l = e),
            (u = o),
            l.targetAnchor ? l.targetAnchor : pr(l, u).getCenter()).clone(),
            c
          )
        : pu(i.clone(), c));
    var h,
      p,
      d,
      f,
      g,
      $ =
        ((h = o.step),
        (d = a),
        { source: (p = s).clone(), x: pl(d.x - p.x, h), y: pl(d.y - p.y, h) }),
      v = s,
      y = a;
    if (
      ((f = t.Rectangle.isRectangle(n)
        ? pf(v, n, o.startDirections, $, o)
        : [v]),
      (g = t.Rectangle.isRectangle(i) ? pf(a, i, o.endDirections, $, o) : [y]),
      (f = f.filter(function (t) {
        return r.isAccessible(t);
      })),
      (g = g.filter(function (t) {
        return r.isAccessible(t);
      })),
      f.length > 0 && g.length > 0)
    ) {
      for (
        var m, _, C, b = new pe(), x = {}, w = {}, P = {}, A = 0, E = f.length;
        A < E;
        A += 1
      ) {
        var S = f[A],
          k = ph(S);
        b.add(k, pd(S, g)), (x[k] = S), (P[k] = 0);
      }
      for (
        var T = o.previousDirectionAngle,
          M = void 0 === T,
          D = void 0,
          N = void 0,
          L =
            ((m = $),
            (C = (_ = o).step),
            _.directions.forEach(function (t) {
              (t.gridOffsetX = (t.offsetX / C) * m.x),
                (t.gridOffsetY = (t.offsetY / C) * m.y);
            }),
            _.directions),
          F = L.length,
          z = g.reduce(function (t, e) {
            var n = ph(e);
            return t.push(n), t;
          }, []),
          B = t.Point.equalPoints(f, g),
          O = o.maxLoopCount;
        !b.isEmpty() && O > 0;

      ) {
        var V = b.pop(),
          R = x[V],
          I = w[V],
          G = P[V],
          j = R.equals(v),
          H = null == I,
          U = void 0;
        if (
          ((U = H
            ? M
              ? j
                ? null
                : ps(v, R, F, $, o)
              : T
            : ps(I, R, F, $, o)),
          !(H && B) && z.indexOf(V) >= 0)
        )
          return (o.previousDirectionAngle = U), pg(w, x, R, v, y);
        for (A = 0; A < F; A += 1) {
          var q = (D = L[A]).angle;
          if (((N = pa(U, q)), (M && j) || !(N > o.maxDirectionChange))) {
            var W = pc(
                R.clone().translate(D.gridOffsetX || 0, D.gridOffsetY || 0),
                $,
                c
              ),
              X = ph(W);
            if (!b.isClose(X) && r.isAccessible(W)) {
              if (
                z.indexOf(X) >= 0 &&
                !W.equals(y) &&
                pa(q, ps(W, y, F, $, o)) > o.maxDirectionChange
              )
                continue;
              var Y = G + D.cost + (j ? 0 : o.penalties[N]);
              (!b.isOpen(X) || Y < P[X]) &&
                ((x[X] = W), (w[X] = R), (P[X] = Y), b.add(X, Y + pd(W, g)));
            }
          }
        }
        O -= 1;
      }
    }
    return o.fallbackRoute ? oZ(o.fallbackRoute, this, v, y, o) : null;
  }
  var p0 = function (e, n, i) {
      for (
        var r,
          o,
          s = (function (e) {
            var n = Object.keys(e).reduce(function (t, n) {
              return (
                (t[n] =
                  'fallbackRouter' === n ||
                  'draggingRouter' === n ||
                  'fallbackRoute' === n
                    ? e[n]
                    : pt(e[n], e)),
                t
              );
            }, {});
            if (n.padding) {
              var i = oX(n.padding);
              n.paddingBox = {
                x: -i.left,
                y: -i.top,
                width: i.left + i.right,
                height: i.top + i.bottom,
              };
            }
            return (
              n.directions.forEach(function (e) {
                var n = new t.Point(0, 0),
                  i = new t.Point(e.offsetX, e.offsetY);
                e.angle = t.Angle.normalize(n.theta(i));
              }),
              n
            );
          })(n),
          a = pi(i, s),
          l = pr(i, s),
          u = po(i, s),
          c = new pn(s).build(i.graph.model, i.cell),
          h = e.map(function (e) {
            return t.Point.create(e);
          }),
          p = [],
          d = u,
          f = 0,
          g = h.length;
        f <= g;
        f += 1
      ) {
        var $ = null;
        if (((r = o || a), null == (o = h[f]))) {
          o = l;
          var v = i.cell;
          if (
            (null == v.getSourceCellId() || null == v.getTargetCellId()) &&
            'function' == typeof s.draggingRouter
          ) {
            var y = r === a ? u : r,
              m = o.getOrigin();
            $ = oZ(s.draggingRouter, i, y, m, s);
          }
        }
        if ((null == $ && ($ = p$(i, r, o, c, s)), null === $))
          return (
            console.warn(
              'Unable to execute manhattan algorithm, use orth instead'
            ),
            oZ(s.fallbackRouter, this, e, s, i)
          );
        var _ = $[0];
        _ && _.equals(d) && $.shift(),
          (d = $[$.length - 1] || d),
          p.push.apply(p, $);
      }
      return p;
    },
    pv = function (t, e, n) {
      return oZ(p0, this, t, i(i({}, hQ), e), n);
    },
    py = {
      maxDirectionChange: 45,
      directions: function () {
        var t = pt(this.step, this),
          e = pt(this.cost, this),
          n = Math.ceil(Math.sqrt((t * t) << 1));
        return [
          { cost: e, offsetX: t, offsetY: 0 },
          { cost: n, offsetX: t, offsetY: t },
          { cost: e, offsetX: 0, offsetY: t },
          { cost: n, offsetX: -t, offsetY: t },
          { cost: e, offsetX: -t, offsetY: 0 },
          { cost: n, offsetX: -t, offsetY: -t },
          { cost: e, offsetX: 0, offsetY: -t },
          { cost: n, offsetX: t, offsetY: -t },
        ];
      },
      fallbackRoute: function (e, n, i) {
        var r = e.theta(n),
          o = [],
          s = { x: n.x, y: e.y },
          a = { x: e.x, y: n.y };
        if (r % 180 > 90) {
          var l = s;
          (s = a), (a = l);
        }
        var u = r % 90 < 45 ? s : a,
          c = new t.Line(e, u),
          h = t.Point.fromPolar(
            c.squaredLength(),
            t.Angle.toRad(90 * Math.ceil(r / 90) + 135),
            u
          ),
          p = new t.Line(n, h),
          d = c.intersectsWithLine(p),
          f = d || n,
          g = 360 / i.directions.length,
          $ = (d ? f : e).theta(n),
          v = t.Angle.normalize($ + g / 2);
        return (
          (i.previousDirectionAngle = g * Math.floor(v / g)),
          f && o.push(f.round()),
          o.push(n),
          o
        );
      },
    };
  function pm(e, n) {
    if (null != n && !1 !== n) {
      var r = 'boolean' == typeof n ? 0 : n;
      if (r > 0) {
        var o = t.Point.create(e[1]).move(e[2], r),
          a = t.Point.create(e[1]).move(e[0], r);
        return s(s([o.toJSON()], e, !0), [a.toJSON()], !1);
      }
      var l = e[1];
      return s(s([i({}, l)], e, !0), [i({}, l)], !1);
    }
    return e;
  }
  var p_,
    pC,
    pb = Object.freeze({
      __proto__: null,
      normal: function (t) {
        return s([], t, !0);
      },
      oneSide: function (t, e, n) {
        var i,
          r,
          o,
          a = e.side || 'bottom',
          l = oX(e.padding || 40),
          u = n.sourceBBox,
          c = n.targetBBox,
          h = u.getCenter(),
          p = c.getCenter();
        switch (a) {
          case 'top':
            (o = -1), (i = 'y'), (r = 'height');
            break;
          case 'left':
            (o = -1), (i = 'x'), (r = 'width');
            break;
          case 'right':
            (o = 1), (i = 'x'), (r = 'width');
            break;
          default:
            (o = 1), (i = 'y'), (r = 'height');
        }
        return (
          (h[i] += o * (u[r] / 2 + l[a])),
          (p[i] += o * (c[r] / 2 + l[a])),
          o * (h[i] - p[i]) > 0 ? (p[i] = h[i]) : (h[i] = p[i]),
          s(s([h.toJSON()], t, !0), [p.toJSON()], !1)
        );
      },
      orth: hK,
      metro: function (t, e, n) {
        return oZ(pv, this, t, i(i({}, py), e), n);
      },
      manhattan: pv,
      er: function (t, e, n) {
        var i,
          r,
          o,
          a = e.offset || 32,
          l = null == e.min ? 16 : e.min,
          u = 0,
          c = e.direction,
          h = n.sourceBBox,
          p = n.targetBBox,
          d = h.getCenter(),
          f = p.getCenter();
        if (('number' == typeof a && (u = a), null == c)) {
          var g = p.left - h.right,
            $ = p.top - h.bottom;
          g >= 0 && $ >= 0
            ? (c = g >= $ ? 'L' : 'T')
            : g <= 0 && $ >= 0
            ? (c = (g = h.left - p.right) >= 0 && g >= $ ? 'R' : 'T')
            : g >= 0 && $ <= 0
            ? (c = ($ = h.top - p.bottom) >= 0 ? (g >= $ ? 'L' : 'B') : 'L')
            : ((g = h.left - p.right),
              ($ = h.top - p.bottom),
              (c =
                g >= 0 && $ >= 0
                  ? g >= $
                    ? 'R'
                    : 'B'
                  : g <= 0 && $ >= 0
                  ? 'B'
                  : (g >= 0 && $ <= 0) || Math.abs(g) > Math.abs($)
                  ? 'R'
                  : 'B'));
        }
        'H' === c
          ? (c = f.x - d.x >= 0 ? 'L' : 'R')
          : 'V' === c && (c = f.y - d.y >= 0 ? 'T' : 'B'),
          'center' === a &&
            ('L' === c
              ? (u = (p.left - h.right) / 2)
              : 'R' === c
              ? (u = (h.left - p.right) / 2)
              : 'T' === c
              ? (u = (p.top - h.bottom) / 2)
              : 'B' === c && (u = (h.top - p.bottom) / 2));
        var v = 'L' === c || 'R' === c;
        if (v) {
          if (f.y === d.y) return s([], t, !0);
          (o = 'L' === c ? 1 : -1), (i = 'x'), (r = 'width');
        } else {
          if (f.x === d.x) return s([], t, !0);
          (o = 'T' === c ? 1 : -1), (i = 'y'), (r = 'height');
        }
        var y = d.clone(),
          m = f.clone();
        if (((y[i] += o * (h[r] / 2 + u)), (m[i] -= o * (p[r] / 2 + u)), v)) {
          var _ = y.x,
            C = m.x,
            b = h.width / 2 + l,
            x = p.width / 2 + l;
          f.x > d.x
            ? C <= _ &&
              ((y.x = Math.max(C, d.x + b)), (m.x = Math.min(_, f.x - x)))
            : C >= _ &&
              ((y.x = Math.min(C, d.x - b)), (m.x = Math.max(_, f.x + x)));
        } else {
          var w = y.y,
            P = m.y;
          (b = h.height / 2 + l),
            (x = p.height / 2 + l),
            f.y > d.y
              ? P <= w &&
                ((y.y = Math.max(P, d.y + b)), (m.y = Math.min(w, f.y - x)))
              : P >= w &&
                ((y.y = Math.min(P, d.y - b)), (m.y = Math.max(w, f.y + x)));
        }
        return s(s([y.toJSON()], t, !0), [m.toJSON()], !1);
      },
      loop: function (e, n, i) {
        var r = n.width || 50,
          o = (n.height || 80) / 2,
          s = n.angle || 'auto',
          a = i.sourceAnchor,
          l = i.targetAnchor,
          u = i.sourceBBox,
          c = i.targetBBox;
        if (a.equals(l)) {
          var h = function (e) {
              var n = t.Angle.toRad(e),
                i = Math.sin(n),
                s = Math.cos(n),
                l = new t.Point(a.x + s * r, a.y + i * r),
                u = new t.Point(l.x - s * o, l.y - i * o),
                c = u.clone().rotate(-90, l),
                h = u.clone().rotate(90, l);
              return [c.toJSON(), l.toJSON(), h.toJSON()];
            },
            p = function (e) {
              var n = a.clone().move(e, -1),
                i = new t.Line(n, e);
              return !u.containsPoint(e) && !u.intersectsWithLine(i);
            },
            d = [0, 90, 180, 270, 45, 135, 225, 315];
          if ('number' == typeof s) return pm(h(s), n.merge);
          if ((_ = u.getCenter()).equals(a)) return pm(h(0), n.merge);
          var f = _.angleBetween(a, _.clone().translate(1, 0)),
            g = h(f);
          if (p(g[1])) return pm(g, n.merge);
          for (
            var $ = 1, v = d.length;
            $ < v && !p((g = h(f + d[$]))[1]);
            $ += 1
          );
          return pm(g, n.merge);
        }
        var y = new t.Line(a, l),
          m = y.parallel(-r),
          _ = m.getCenter(),
          C = m.start.clone().move(m.end, o),
          b = m.end.clone().move(m.start, o),
          x = y.parallel(-1),
          w = new t.Line(x.start, _),
          P = new t.Line(x.end, _);
        if (
          ((u.containsPoint(_) ||
            c.containsPoint(_) ||
            u.intersectsWithLine(w) ||
            u.intersectsWithLine(P) ||
            c.intersectsWithLine(w) ||
            c.intersectsWithLine(P)) &&
            ((_ = (m = y.parallel(r)).getCenter()),
            (C = m.start.clone().move(m.end, o)),
            (b = m.end.clone().move(m.start, o))),
          n.merge)
        ) {
          var A = new t.Line(a, l),
            E = new t.Line(_, A.center).setLength(Number.MAX_SAFE_INTEGER),
            S = u.intersectsWithLine(E),
            k = c.intersectsWithLine(E),
            T = S ? (Array.isArray(S) ? S : [S]) : [];
          k && (Array.isArray(k) ? T.push.apply(T, k) : T.push(k));
          var M = A.center.closest(T);
          M
            ? ((i.sourceAnchor = M.clone()), (i.targetAnchor = M.clone()))
            : ((i.sourceAnchor = A.center.clone()),
              (i.targetAnchor = A.center.clone()));
        }
        return pm([C.toJSON(), _.toJSON(), b.toJSON()], n.merge);
      },
    });
  ((pC = p_ || (p_ = {})).presets = pb),
    (pC.registry = l5.create({ type: 'router' })),
    pC.registry.register(pC.presets, !0);
  var px,
    pw,
    p1 = 1 / 3,
    pP = 2 / 3;
  function pA(e, n, i) {
    void 0 === i && (i = []);
    var r = s(s([e], i, !0), [n], !1),
      o = [];
    return (
      r.forEach(function (e, n) {
        var i = r[n + 1];
        null != i && o.push(new t.Line(e, i));
      }),
      o
    );
  }
  function pE(e, n) {
    return new t.Line(e, n).squaredLength();
  }
  function pS(e, n, i, r) {
    var o,
      s = new t.Path();
    return (
      (o = t.Path.createSegment('M', e[0].start)),
      s.appendSegment(o),
      e.forEach(function (a, l) {
        if (px.includes(a)) {
          var u = void 0,
            c = void 0,
            h = void 0,
            p = void 0;
          if ('arc' === i) {
            (u = -90),
              ((c = a.start.diff(a.end)).x < 0 || (0 === c.x && c.y < 0)) &&
                (u += 180);
            var d = a.getCenter(),
              f = new t.Line(d, a.end).rotate(u, d),
              g = void 0;
            (h = (g = new t.Line(a.start, d))
              .pointAt(2 / 3)
              .rotate(u, a.start)),
              (p = f.pointAt(1 / 3).rotate(-u, f.end)),
              (o = t.Path.createSegment('C', h, p, f.end)),
              s.appendSegment(o),
              (g = new t.Line(d, a.end)),
              (h = f.pointAt(1 / 3).rotate(u, f.end)),
              (p = g.pointAt(1 / 3).rotate(-u, a.end)),
              (o = t.Path.createSegment('C', h, p, a.end)),
              s.appendSegment(o);
          } else if ('gap' === i)
            (o = t.Path.createSegment('M', a.end)), s.appendSegment(o);
          else if ('cubic' === i) {
            u = a.start.theta(a.end);
            var $ = 0.6 * n,
              v = 1.35 * n;
            ((c = a.start.diff(a.end)).x < 0 || (0 === c.x && c.y < 0)) &&
              (v *= -1),
              (h = new t.Point(a.start.x + $, a.start.y + v).rotate(
                u,
                a.start
              )),
              (p = new t.Point(a.end.x - $, a.end.y + v).rotate(u, a.end)),
              (o = t.Path.createSegment('C', h, p, a.end)),
              s.appendSegment(o);
          }
        } else {
          var y,
            m,
            _,
            C,
            b,
            x,
            w,
            P,
            A,
            E,
            S,
            k,
            T = e[l + 1];
          0 === r || !T || px.includes(T)
            ? ((o = t.Path.createSegment('L', a.end)), s.appendSegment(o))
            : ((y = r),
              (m = s),
              (_ = a.end),
              (C = a.start),
              (b = T.end),
              (w = _.distance(C) / 2),
              (P = _.distance(b) / 2),
              (A = _.clone().move(C, -Math.min(y, w)).round()),
              (E = _.clone().move(b, -Math.min(y, P)).round()),
              (S = new t.Point(p1 * A.x + pP * _.x, pP * _.y + p1 * A.y)),
              (k = new t.Point(p1 * E.x + pP * _.x, pP * _.y + p1 * E.y)),
              (x = t.Path.createSegment('L', A)),
              m.appendSegment(x),
              (x = t.Path.createSegment('C', S, k, E)),
              m.appendSegment(x));
        }
      }),
      s
    );
  }
  var pk,
    p4,
    pT = Object.freeze({
      __proto__: null,
      normal: function (e, n, i, r) {
        void 0 === r && (r = {});
        var o = s(s([e], i, !0), [n], !1),
          a = new t.Polyline(o),
          l = new t.Path(a);
        return r.raw ? l : l.serialize();
      },
      loop: function (e, n, i, r) {
        void 0 === r && (r = {});
        var o = 3 === i.length ? 0 : 1,
          s = t.Point.create(i[0 + o]),
          a = t.Point.create(i[2 + o]),
          l = t.Point.create(i[1 + o]);
        if (!t.Point.equals(e, n)) {
          var u = new t.Point((e.x + n.x) / 2, (e.y + n.y) / 2),
            c = u.angleBetween(t.Point.create(e).rotate(90, u), l);
          c > 1 &&
            (s.rotate(180 - c, u), a.rotate(180 - c, u), l.rotate(180 - c, u));
        }
        var h =
          '\n     M ' +
          e.x +
          ' ' +
          e.y +
          '\n     Q ' +
          s.x +
          ' ' +
          s.y +
          ' ' +
          l.x +
          ' ' +
          l.y +
          '\n     Q ' +
          a.x +
          ' ' +
          a.y +
          ' ' +
          n.x +
          ' ' +
          n.y +
          '\n  ';
        return r.raw ? t.Path.parse(h) : h;
      },
      rounded: function (e, n, i, r) {
        void 0 === r && (r = {});
        var o = new t.Path();
        o.appendSegment(t.Path.createSegment('M', e));
        for (
          var s,
            a,
            l = 1 / 3,
            u = 2 / 3,
            c = r.radius || 10,
            h = 0,
            p = i.length;
          h < p;
          h += 1
        ) {
          var d = t.Point.create(i[h]),
            f = i[h - 1] || e,
            g = i[h + 1] || n;
          (s = a || d.distance(f) / 2), (a = d.distance(g) / 2);
          var $ = -Math.min(c, s),
            v = -Math.min(c, a),
            y = d.clone().move(f, $).round(),
            m = d.clone().move(g, v).round(),
            _ = new t.Point(l * y.x + u * d.x, u * d.y + l * y.y),
            C = new t.Point(l * m.x + u * d.x, u * d.y + l * m.y);
          o.appendSegment(t.Path.createSegment('L', y)),
            o.appendSegment(t.Path.createSegment('C', _, C, m));
        }
        return (
          o.appendSegment(t.Path.createSegment('L', n)),
          r.raw ? o : o.serialize()
        );
      },
      smooth: function (e, n, i, r) {
        void 0 === r && (r = {});
        var o,
          a = r.direction;
        if (i && 0 !== i.length) {
          var l = s(s([e], i, !0), [n], !1),
            u = t.Curve.throughPoints(l);
          o = new t.Path(u);
        } else if (
          ((o = new t.Path()).appendSegment(t.Path.createSegment('M', e)),
          a || (a = Math.abs(e.x - n.x) >= Math.abs(e.y - n.y) ? 'H' : 'V'),
          'H' === a)
        ) {
          var c = (e.x + n.x) / 2;
          o.appendSegment(t.Path.createSegment('C', c, e.y, c, n.y, n.x, n.y));
        } else {
          var h = (e.y + n.y) / 2;
          o.appendSegment(t.Path.createSegment('C', e.x, h, n.x, h, n.x, n.y));
        }
        return r.raw ? o : o.serialize();
      },
      jumpover: function (e, n, i, r) {
        var o = this;
        void 0 === r && (r = {}),
          (px = []),
          (pw = []),
          (function (t) {
            var e = t.graph._jumpOverUpdateList;
            if (
              (null == e &&
                ((e = t.graph._jumpOverUpdateList = []),
                t.graph.on('cell:mouseup', function () {
                  for (
                    var e = t.graph._jumpOverUpdateList, n = 0;
                    n < e.length;
                    n += 1
                  )
                    e[n].update();
                }),
                t.graph.on('model:reseted', function () {
                  e = t.graph._jumpOverUpdateList = [];
                })),
              0 > e.indexOf(t))
            ) {
              e.push(t);
              var n = function () {
                return e.splice(e.indexOf(t), 1);
              };
              t.cell.once('change:connector', n), t.cell.once('removed', n);
            }
          })(this);
        var s = r.size || 5,
          a = r.type || 'arc',
          l = r.radius || 0,
          u = r.ignoreConnectors || ['smooth'],
          c = this.graph,
          h = c.model.getEdges();
        if (1 === h.length) return pS(pA(e, n, i), s, a, l);
        var p = this.cell,
          d = h.indexOf(p),
          f = c.options.connecting.connector || {},
          g = h.filter(function (t, e) {
            var n = t.getConnector() || f;
            return !u.includes(n.name) && (!(e > d) || 'jumpover' !== n.name);
          }),
          $ = g.map(function (t) {
            return c.renderer.findViewByCell(t);
          }),
          v = pA(e, n, i),
          y = $.map(function (t) {
            return null == t
              ? []
              : t === o
              ? v
              : pA(t.sourcePoint, t.targetPoint, t.routePoints);
          }),
          m = [];
        v.forEach(function (e) {
          var n,
            i,
            r,
            o = g
              .reduce(function (t, n, i) {
                if (n !== p) {
                  var r,
                    o,
                    s,
                    a =
                      ((r = e),
                      (o = y[i]),
                      (s = []),
                      o.forEach(function (t) {
                        var e = r.intersectsWithLine(t);
                        e && s.push(e);
                      }),
                      s);
                  t.push.apply(t, a);
                }
                return t;
              }, [])
              .sort(function (t, n) {
                return pE(e.start, t) - pE(e.start, n);
              });
          o.length > 0
            ? m.push.apply(
                m,
                ((n = e),
                (i = o),
                (r = s),
                i.reduce(function (e, o, s) {
                  if (pw.includes(o)) return e;
                  var a = e.pop() || n,
                    l = t.Point.create(o).move(a.start, -r),
                    u = t.Point.create(o).move(a.start, +r),
                    c = i[s + 1];
                  if (null != c) {
                    var h = u.distance(c);
                    h <= r && ((u = c.move(a.start, h)), pw.push(c));
                  } else if (l.distance(a.end) < 2 * r + 1) return e.push(a), e;
                  if (u.distance(a.start) < 2 * r + 1) return e.push(a), e;
                  var p = new t.Line(l, u);
                  return (
                    px.push(p),
                    e.push(new t.Line(a.start, l), p, new t.Line(u, a.end)),
                    e
                  );
                }, []))
              )
            : m.push(e);
        });
        var _ = pS(m, s, a, l);
        return (px = []), (pw = []), r.raw ? _ : _.serialize();
      },
    });
  ((p4 = pk || (pk = {})).presets = pT),
    (p4.registry = l5.create({ type: 'connector' })),
    p4.registry.register(p4.presets, !0);
  var p3,
    pM = Object.freeze({
      __proto__: null,
      create: l5.create,
      get Attr() {
        return uB;
      },
      get Grid() {
        return u8;
      },
      get Filter() {
        return uU;
      },
      get Background() {
        return uW;
      },
      get Highlighter() {
        return ch;
      },
      get PortLayout() {
        return cy;
      },
      get PortLabelLayout() {
        return cA;
      },
      get NodeTool() {
        return hm;
      },
      get EdgeTool() {
        return h_;
      },
      get Marker() {
        return u1;
      },
      get NodeAnchor() {
        return h5;
      },
      get EdgeAnchor() {
        return hB;
      },
      get ConnectionPoint() {
        return hH;
      },
      get Router() {
        return p_;
      },
      get Connector() {
        return pk;
      },
      get ConnectionStrategy() {
        return cV;
      },
      get Registry() {
        return l5;
      },
    }),
    pD = (function () {
      function e(t) {
        (this.cell = t), (this.ids = {}), (this.cache = {});
      }
      return (
        (e.prototype.get = function () {
          return Object.keys(this.ids);
        }),
        (e.prototype.start = function (t, n, r, o) {
          var s = this;
          void 0 === r && (r = {}), void 0 === o && (o = '/');
          var a = this.cell.getPropByPath(t),
            l = iX(r, e.defaultOptions),
            u = this.getTiming(l.timing),
            c = this.getInterp(l.interp, a, n),
            h = 0,
            p = Array.isArray(t) ? t.join(o) : t,
            d = Array.isArray(t) ? t : t.split(o),
            f = function () {
              var t = new Date().getTime();
              0 === h && (h = t);
              var e = (t - h) / l.duration;
              e < 1 ? (s.ids[p] = sU(f)) : (e = 1);
              var n = c(u(e));
              s.cell.setPropByPath(d, n),
                r.progress &&
                  r.progress(i({ progress: e, currentValue: n }, s.getArgs(p))),
                1 === e &&
                  (s.cell.notify('transition:end', s.getArgs(p)),
                  s.cell.notify('transition:complete', s.getArgs(p)),
                  r.complete && r.complete(s.getArgs(p)),
                  s.cell.notify('transition:finish', s.getArgs(p)),
                  r.finish && r.finish(s.getArgs(p)),
                  s.clean(p));
            };
          return (
            setTimeout(function () {
              s.stop(t, void 0, o),
                (s.cache[p] = { startValue: a, targetValue: n, options: l }),
                (s.ids[p] = sU(f)),
                s.cell.notify('transition:begin', s.getArgs(p)),
                s.cell.notify('transition:start', s.getArgs(p)),
                r.start && r.start(s.getArgs(p));
            }, r.delay),
            this.stop.bind(this, t, o, r)
          );
        }),
        (e.prototype.stop = function (t, e, n) {
          var r = this;
          void 0 === e && (e = {}), void 0 === n && (n = '/');
          var o = Array.isArray(t) ? t : t.split(n);
          return (
            Object.keys(this.ids)
              .filter(function (t) {
                var e, i;
                return (e = o), i2(e, (i = t.split(n).slice(0, o.length)));
              })
              .forEach(function (t) {
                sq(r.ids[t]);
                var n = r.cache[t],
                  o = r.getArgs(t),
                  s = i(i({}, n.options), e),
                  a = s.jumpedToEnd;
                a &&
                  null != n.targetValue &&
                  (r.cell.setPropByPath(t, n.targetValue),
                  r.cell.notify('transition:end', i({}, o)),
                  r.cell.notify('transition:complete', i({}, o)),
                  s.complete && s.complete(i({}, o)));
                var l = i({ jumpedToEnd: a }, o);
                r.cell.notify('transition:stop', i({}, l)),
                  s.stop && s.stop(i({}, l)),
                  r.cell.notify('transition:finish', i({}, o)),
                  s.finish && s.finish(i({}, o)),
                  r.clean(t);
              }),
            this
          );
        }),
        (e.prototype.clean = function (t) {
          delete this.ids[t], delete this.cache[t];
        }),
        (e.prototype.getTiming = function (e) {
          return 'string' == typeof e ? t.Timing[e] : e;
        }),
        (e.prototype.getInterp = function (e, n, i) {
          return e
            ? e(n, i)
            : 'number' == typeof i
            ? t.Interp.number(n, i)
            : 'string' == typeof i
            ? '#' === i[0]
              ? t.Interp.color(n, i)
              : t.Interp.unit(n, i)
            : t.Interp.object(n, i);
        }),
        (e.prototype.getArgs = function (t) {
          var e = this.cache[t];
          return {
            path: t,
            startValue: e.startValue,
            targetValue: e.targetValue,
            cell: this.cell,
          };
        }),
        e
      );
    })();
  (p3 = pD || (pD = {})).defaultOptions = {
    delay: 10,
    duration: 100,
    timing: 'linear',
  };
  var p2,
    pN,
    pL,
    p5,
    p6,
    p7,
    pF = (function (e) {
      function r(t) {
        void 0 === t && (t = {});
        var n = e.call(this) || this;
        return (
          (n.pending = !1),
          (n.changing = !1),
          (n.data = {}),
          n.mutate(ib(t)),
          (n.changed = {}),
          n
        );
      }
      return (
        n(r, e),
        (r.prototype.mutate = function (t, e) {
          var n = this;
          void 0 === e && (e = {});
          var i = !0 === e.unset,
            r = !0 === e.silent,
            o = [],
            s = this.changing;
          (this.changing = !0),
            s || ((this.previous = ib(this.data)), (this.changed = {}));
          var a = this.data,
            l = this.previous,
            u = this.changed;
          if (
            (Object.keys(t).forEach(function (e) {
              var n,
                r,
                s,
                c,
                h = e,
                p = t[h];
              (n = a[h]),
                i2(n, (r = p)) || o.push(h),
                ((s = l[h]), i2(s, (c = p))) ? delete u[h] : (u[h] = p),
                i ? delete a[h] : (a[h] = p);
            }),
            !r &&
              o.length > 0 &&
              ((this.pending = !0),
              (this.pendingOptions = e),
              o.forEach(function (t) {
                n.emit('change:*', {
                  key: t,
                  options: e,
                  store: n,
                  current: a[t],
                  previous: l[t],
                });
              })),
            s)
          )
            return this;
          if (!r)
            for (; this.pending; )
              (this.pending = !1),
                this.emit('changed', {
                  current: a,
                  previous: l,
                  store: this,
                  options: this.pendingOptions,
                });
          return (
            (this.pending = !1),
            (this.changing = !1),
            (this.pendingOptions = null),
            this
          );
        }),
        (r.prototype.get = function (t, e) {
          if (null == t) return this.data;
          var n = this.data[t];
          return null == n ? e : n;
        }),
        (r.prototype.getPrevious = function (t) {
          if (this.previous) {
            var e = this.previous[t];
            return null == e ? void 0 : e;
          }
        }),
        (r.prototype.set = function (t, e, n) {
          var i;
          return (
            null != t &&
              ('object' == typeof t
                ? this.mutate(t, e)
                : this.mutate((((i = {})[t] = e), i), n)),
            this
          );
        }),
        (r.prototype.remove = function (t, e) {
          var n,
            r = void 0,
            o = {};
          if ('string' == typeof t) (o[t] = r), (n = e);
          else if (Array.isArray(t))
            t.forEach(function (t) {
              return (o[t] = r);
            }),
              (n = e);
          else {
            for (var s in this.data) o[s] = r;
            n = t;
          }
          return this.mutate(o, i(i({}, n), { unset: !0 })), this;
        }),
        (r.prototype.getByPath = function (t) {
          return o2(this.data, t, '/');
        }),
        (r.prototype.setByPath = function (t, e, n) {
          void 0 === n && (n = {});
          var i = '/',
            r = Array.isArray(t) ? s([], t, !0) : t.split(i),
            o = Array.isArray(t) ? t.join(i) : t,
            a = r[0],
            l = r.length;
          if (
            ((n.propertyPath = o),
            (n.propertyValue = e),
            (n.propertyPathArray = r),
            1 === l)
          )
            this.set(a, e, n);
          else {
            for (var u = {}, c = u, h = a, p = 1; p < l; p += 1) {
              var d = r[p],
                f = Number.isFinite(Number(d));
              (c = c[h] = f ? [] : {}), (h = d);
            }
            oN(u, r, e, i);
            var g = ib(this.data);
            n.rewrite && oL(g, t, i);
            var $ = rk(g, u);
            this.set(a, $[a], n);
          }
          return this;
        }),
        (r.prototype.removeByPath = function (t, e) {
          var n = Array.isArray(t) ? t : t.split('/'),
            i = n[0];
          if (1 === n.length) this.remove(i, e);
          else {
            var r = n.slice(1),
              o = ib(this.get(i));
            o && oL(o, r), this.set(i, o, e);
          }
          return this;
        }),
        (r.prototype.hasChanged = function (t) {
          return null == t
            ? Object.keys(this.changed).length > 0
            : t in this.changed;
        }),
        (r.prototype.getChanges = function (t) {
          if (null == t) return this.hasChanged() ? ib(this.changed) : null;
          var e,
            n = this.changing ? this.previous : this.data,
            i = {};
          for (var r in t) {
            var o,
              s,
              a = t[r];
            (o = n[r]), i2(o, (s = a)) || ((i[r] = a), (e = !0));
          }
          return e ? ib(i) : null;
        }),
        (r.prototype.toJSON = function () {
          return ib(this.data);
        }),
        (r.prototype.clone = function () {
          return new this.constructor(this.data);
        }),
        (r.prototype.dispose = function () {
          this.off(),
            (this.data = {}),
            (this.previous = {}),
            (this.changed = {}),
            (this.pending = !1),
            (this.changing = !1),
            (this.pendingOptions = null),
            this.trigger('disposed', { store: this });
        }),
        o([t.Basecoat.dispose()], r.prototype, 'dispose', null),
        r
      );
    })(t.Basecoat);
  (t.Cell = (function (e) {
    function a(t) {
      void 0 === t && (t = {});
      var n = e.call(this) || this,
        i = n.constructor.getDefaults(!0),
        r = rk({}, n.preprocess(i), n.preprocess(t));
      return (
        (n.id = r.id || o8()),
        (n.store = new pF(r)),
        (n.animation = new pD(n)),
        n.setup(),
        n.init(),
        n.postprocess(t),
        n
      );
    }
    return (
      n(a, e),
      (a.config = function (t) {
        var e,
          n = this,
          o = t.markup,
          s = t.propHooks,
          a = t.attrHooks,
          l = r(t, ['markup', 'propHooks', 'attrHooks']);
        null != o && (this.markup = o),
          s &&
            ((this.propHooks = this.propHooks.slice()),
            Array.isArray(s)
              ? (e = this.propHooks).push.apply(e, s)
              : 'function' == typeof s
              ? this.propHooks.push(s)
              : Object.keys(s).forEach(function (t) {
                  var e = s[t];
                  'function' == typeof e && n.propHooks.push(e);
                })),
          a && (this.attrHooks = i(i({}, this.attrHooks), a)),
          (this.defaults = rk({}, this.defaults, l));
      }),
      (a.getMarkup = function () {
        return this.markup;
      }),
      (a.getDefaults = function (t) {
        return t ? this.defaults : ib(this.defaults);
      }),
      (a.getAttrHooks = function () {
        return this.attrHooks;
      }),
      (a.applyPropHooks = function (t, e) {
        return this.propHooks.reduce(function (e, n) {
          return n ? oZ(n, t, e) : e;
        }, e);
      }),
      Object.defineProperty(a.prototype, Symbol.toStringTag, {
        get: function () {
          return a.toStringTag;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.init = function () {}),
      Object.defineProperty(a.prototype, 'model', {
        get: function () {
          return this._model;
        },
        set: function (t) {
          this._model !== t && (this._model = t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.preprocess = function (t, e) {
        var n = t.id,
          i = this.constructor.applyPropHooks(this, t);
        return null == n && !0 !== e && (i.id = o8()), i;
      }),
      (a.prototype.postprocess = function (t) {}),
      (a.prototype.setup = function () {
        var t = this;
        this.store.on('change:*', function (e) {
          var n = e.key,
            i = e.current,
            r = e.previous,
            o = e.options;
          t.notify('change:*', {
            key: n,
            options: o,
            current: i,
            previous: r,
            cell: t,
          }),
            t.notify('change:' + n, {
              options: o,
              current: i,
              previous: r,
              cell: t,
            });
          var s = n;
          ('source' !== s && 'target' !== s) ||
            t.notify('change:terminal', {
              type: s,
              current: i,
              previous: r,
              options: o,
              cell: t,
            });
        }),
          this.store.on('changed', function (e) {
            var n = e.options;
            return t.notify('changed', { options: n, cell: t });
          });
      }),
      (a.prototype.notify = function (t, e) {
        this.trigger(t, e);
        var n = this.model;
        return (
          n &&
            (n.notify('cell:' + t, e),
            this.isNode()
              ? n.notify('node:' + t, i(i({}, e), { node: this }))
              : this.isEdge() &&
                n.notify('edge:' + t, i(i({}, e), { edge: this }))),
          this
        );
      }),
      (a.prototype.isNode = function () {
        return !1;
      }),
      (a.prototype.isEdge = function () {
        return !1;
      }),
      (a.prototype.isSameStore = function (t) {
        return this.store === t.store;
      }),
      Object.defineProperty(a.prototype, 'view', {
        get: function () {
          return this.store.get('view');
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(a.prototype, 'shape', {
        get: function () {
          return this.store.get('shape', '');
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.getProp = function (t, e) {
        return null == t ? this.store.get() : this.store.get(t, e);
      }),
      (a.prototype.setProp = function (t, e, n) {
        if ('string' == typeof t) this.store.set(t, e, n);
        else {
          var i = this.preprocess(t, !0);
          this.store.set(rk({}, this.getProp(), i), e), this.postprocess(t);
        }
        return this;
      }),
      (a.prototype.removeProp = function (t, e) {
        return (
          'string' == typeof t || Array.isArray(t)
            ? this.store.removeByPath(t, e)
            : this.store.remove(e),
          this
        );
      }),
      (a.prototype.hasChanged = function (t) {
        return null == t ? this.store.hasChanged() : this.store.hasChanged(t);
      }),
      (a.prototype.getPropByPath = function (t) {
        return this.store.getByPath(t);
      }),
      (a.prototype.setPropByPath = function (t, e, n) {
        var i = this;
        return (
          void 0 === n && (n = {}),
          this.model &&
            ('children' === t
              ? (this._children = e
                  ? e
                      .map(function (t) {
                        return i.model.getCell(t);
                      })
                      .filter(function (t) {
                        return null != t;
                      })
                  : null)
              : 'parent' === t &&
                (this._parent = e ? this.model.getCell(e) : null)),
          this.store.setByPath(t, e, n),
          this
        );
      }),
      (a.prototype.removePropByPath = function (t, e) {
        void 0 === e && (e = {});
        var n = Array.isArray(t) ? t : t.split('/');
        return (
          'attrs' === n[0] && (e.dirty = !0),
          this.store.removeByPath(n, e),
          this
        );
      }),
      (a.prototype.prop = function (t, e, n) {
        return null == t
          ? this.getProp()
          : 'string' == typeof t || Array.isArray(t)
          ? 1 === arguments.length
            ? this.getPropByPath(t)
            : null == e
            ? this.removePropByPath(t, n || {})
            : this.setPropByPath(t, e, n || {})
          : this.setProp(t, e || {});
      }),
      (a.prototype.previous = function (t) {
        return this.store.getPrevious(t);
      }),
      Object.defineProperty(a.prototype, 'zIndex', {
        get: function () {
          return this.getZIndex();
        },
        set: function (t) {
          null == t ? this.removeZIndex() : this.setZIndex(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.getZIndex = function () {
        return this.store.get('zIndex');
      }),
      (a.prototype.setZIndex = function (t, e) {
        return void 0 === e && (e = {}), this.store.set('zIndex', t, e), this;
      }),
      (a.prototype.removeZIndex = function (t) {
        return void 0 === t && (t = {}), this.store.remove('zIndex', t), this;
      }),
      (a.prototype.toFront = function (t) {
        void 0 === t && (t = {});
        var e = this.model;
        if (e) {
          var n,
            i = e.getMaxZIndex();
          t.deep
            ? (n = this.getDescendants({ deep: !0, breadthFirst: !0 })).unshift(
                this
              )
            : (n = [this]),
            (i = i - n.length + 1);
          var r = e.total(),
            o = e.indexOf(this) !== r - n.length;
          o ||
            (o = n.some(function (t, e) {
              return t.getZIndex() !== i + e;
            })),
            o &&
              this.batchUpdate('to-front', function () {
                (i += n.length),
                  n.forEach(function (e, n) {
                    e.setZIndex(i + n, t);
                  });
              });
        }
        return this;
      }),
      (a.prototype.toBack = function (t) {
        void 0 === t && (t = {});
        var e = this.model;
        if (e) {
          var n,
            i = e.getMinZIndex();
          t.deep
            ? (n = this.getDescendants({ deep: !0, breadthFirst: !0 })).unshift(
                this
              )
            : (n = [this]);
          var r = 0 !== e.indexOf(this);
          r ||
            (r = n.some(function (t, e) {
              return t.getZIndex() !== i + e;
            })),
            r &&
              this.batchUpdate('to-back', function () {
                (i -= n.length),
                  n.forEach(function (e, n) {
                    e.setZIndex(i + n, t);
                  });
              });
        }
        return this;
      }),
      Object.defineProperty(a.prototype, 'markup', {
        get: function () {
          return this.getMarkup();
        },
        set: function (t) {
          null == t ? this.removeMarkup() : this.setMarkup(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.getMarkup = function () {
        var t = this.store.get('markup');
        return null == t && (t = this.constructor.getMarkup()), t;
      }),
      (a.prototype.setMarkup = function (t, e) {
        return void 0 === e && (e = {}), this.store.set('markup', t, e), this;
      }),
      (a.prototype.removeMarkup = function (t) {
        return void 0 === t && (t = {}), this.store.remove('markup', t), this;
      }),
      Object.defineProperty(a.prototype, 'attrs', {
        get: function () {
          return this.getAttrs();
        },
        set: function (t) {
          null == t ? this.removeAttrs() : this.setAttrs(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.getAttrs = function () {
        var t = this.store.get('attrs');
        return t ? i({}, t) : {};
      }),
      (a.prototype.setAttrs = function (t, e) {
        var n = this;
        if ((void 0 === e && (e = {}), null == t)) this.removeAttrs(e);
        else {
          var r = function (t) {
            return n.store.set('attrs', t, e);
          };
          if (!0 === e.overwrite) r(t);
          else {
            var o = this.getAttrs();
            r(!1 === e.deep ? i(i({}, o), t) : rk({}, o, t));
          }
        }
        return this;
      }),
      (a.prototype.replaceAttrs = function (t, e) {
        return (
          void 0 === e && (e = {}),
          this.setAttrs(t, i(i({}, e), { overwrite: !0 }))
        );
      }),
      (a.prototype.updateAttrs = function (t, e) {
        return (
          void 0 === e && (e = {}), this.setAttrs(t, i(i({}, e), { deep: !1 }))
        );
      }),
      (a.prototype.removeAttrs = function (t) {
        return void 0 === t && (t = {}), this.store.remove('attrs', t), this;
      }),
      (a.prototype.getAttrDefinition = function (t) {
        if (!t) return null;
        var e = this.constructor.getAttrHooks() || {},
          n = e[t] || uB.registry.get(t);
        if (!n) {
          var i = nM(t);
          n = e[i] || uB.registry.get(i);
        }
        return n || null;
      }),
      (a.prototype.getAttrByPath = function (t) {
        return null == t || '' === t
          ? this.getAttrs()
          : this.getPropByPath(this.prefixAttrPath(t));
      }),
      (a.prototype.setAttrByPath = function (t, e, n) {
        return (
          void 0 === n && (n = {}),
          this.setPropByPath(this.prefixAttrPath(t), e, n),
          this
        );
      }),
      (a.prototype.removeAttrByPath = function (t, e) {
        return (
          void 0 === e && (e = {}),
          this.removePropByPath(this.prefixAttrPath(t), e),
          this
        );
      }),
      (a.prototype.prefixAttrPath = function (t) {
        return Array.isArray(t) ? ['attrs'].concat(t) : 'attrs/' + t;
      }),
      (a.prototype.attr = function (t, e, n) {
        return null == t
          ? this.getAttrByPath()
          : 'string' == typeof t || Array.isArray(t)
          ? 1 === arguments.length
            ? this.getAttrByPath(t)
            : null == e
            ? this.removeAttrByPath(t, n || {})
            : this.setAttrByPath(t, e, n || {})
          : this.setAttrs(t, e || {});
      }),
      Object.defineProperty(a.prototype, 'visible', {
        get: function () {
          return this.isVisible();
        },
        set: function (t) {
          this.setVisible(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.setVisible = function (t, e) {
        return void 0 === e && (e = {}), this.store.set('visible', t, e), this;
      }),
      (a.prototype.isVisible = function () {
        return !1 !== this.store.get('visible');
      }),
      (a.prototype.show = function (t) {
        return (
          void 0 === t && (t = {}),
          this.isVisible() || this.setVisible(!0, t),
          this
        );
      }),
      (a.prototype.hide = function (t) {
        return (
          void 0 === t && (t = {}),
          this.isVisible() && this.setVisible(!1, t),
          this
        );
      }),
      (a.prototype.toggleVisible = function (t, e) {
        void 0 === e && (e = {});
        var n = 'boolean' == typeof t ? e : t;
        return (
          ('boolean' == typeof t ? t : !this.isVisible())
            ? this.show(n)
            : this.hide(n),
          this
        );
      }),
      Object.defineProperty(a.prototype, 'data', {
        get: function () {
          return this.getData();
        },
        set: function (t) {
          this.setData(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.getData = function () {
        return this.store.get('data');
      }),
      (a.prototype.setData = function (t, e) {
        var n = this;
        if ((void 0 === e && (e = {}), null == t)) this.removeData(e);
        else {
          var r = function (t) {
            return n.store.set('data', t, e);
          };
          if (!0 === e.overwrite) r(t);
          else {
            var o = this.getData();
            r(
              !1 === e.deep
                ? 'object' == typeof t
                  ? i(i({}, o), t)
                  : t
                : rk({}, o, t)
            );
          }
        }
        return this;
      }),
      (a.prototype.replaceData = function (t, e) {
        return (
          void 0 === e && (e = {}),
          this.setData(t, i(i({}, e), { overwrite: !0 }))
        );
      }),
      (a.prototype.updateData = function (t, e) {
        return (
          void 0 === e && (e = {}), this.setData(t, i(i({}, e), { deep: !1 }))
        );
      }),
      (a.prototype.removeData = function (t) {
        return void 0 === t && (t = {}), this.store.remove('data', t), this;
      }),
      Object.defineProperty(a.prototype, 'parent', {
        get: function () {
          return this.getParent();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(a.prototype, 'children', {
        get: function () {
          return this.getChildren();
        },
        enumerable: !1,
        configurable: !0,
      }),
      (a.prototype.getParentId = function () {
        return this.store.get('parent');
      }),
      (a.prototype.getParent = function () {
        var t = this.getParentId();
        if (t && this.model) {
          var e = this.model.getCell(t);
          return (this._parent = e), e;
        }
        return null;
      }),
      (a.prototype.getChildren = function () {
        var t = this,
          e = this.store.get('children');
        if (e && e.length && this.model) {
          var n = e
            .map(function (e) {
              var n;
              return null === (n = t.model) || void 0 === n
                ? void 0
                : n.getCell(e);
            })
            .filter(function (t) {
              return null != t;
            });
          return (this._children = n), s([], n, !0);
        }
        return null;
      }),
      (a.prototype.hasParent = function () {
        return null != this.parent;
      }),
      (a.prototype.isParentOf = function (t) {
        return null != t && t.getParent() === this;
      }),
      (a.prototype.isChildOf = function (t) {
        return null != t && this.getParent() === t;
      }),
      (a.prototype.eachChild = function (t, e) {
        return this.children && this.children.forEach(t, e), this;
      }),
      (a.prototype.filterChild = function (t, e) {
        return this.children ? this.children.filter(t, e) : [];
      }),
      (a.prototype.getChildCount = function () {
        return null == this.children ? 0 : this.children.length;
      }),
      (a.prototype.getChildIndex = function (t) {
        return null == this.children ? -1 : this.children.indexOf(t);
      }),
      (a.prototype.getChildAt = function (t) {
        return null != this.children && t >= 0 ? this.children[t] : null;
      }),
      (a.prototype.getAncestors = function (t) {
        void 0 === t && (t = {});
        for (var e = [], n = this.getParent(); n; )
          e.push(n), (n = !1 !== t.deep ? n.getParent() : null);
        return e;
      }),
      (a.prototype.getDescendants = function (t) {
        if ((void 0 === t && (t = {}), !1 !== t.deep)) {
          if (t.breadthFirst) {
            for (var e = [], n = this.getChildren() || []; n.length > 0; ) {
              var i = n.shift(),
                r = i.getChildren();
              e.push(i), r && n.push.apply(n, r);
            }
            return e;
          }
          var o = this.getChildren() || [];
          return (
            o.forEach(function (e) {
              o.push.apply(o, e.getDescendants(t));
            }),
            o
          );
        }
        return this.getChildren() || [];
      }),
      (a.prototype.isDescendantOf = function (t, e) {
        if ((void 0 === e && (e = {}), null == t)) return !1;
        if (!1 !== e.deep) {
          for (var n = this.getParent(); n; ) {
            if (n === t) return !0;
            n = n.getParent();
          }
          return !1;
        }
        return this.isChildOf(t);
      }),
      (a.prototype.isAncestorOf = function (t, e) {
        return void 0 === e && (e = {}), null != t && t.isDescendantOf(this, e);
      }),
      (a.prototype.contains = function (t) {
        return this.isAncestorOf(t);
      }),
      (a.prototype.getCommonAncestor = function () {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return a.getCommonAncestor.apply(a, s([this], t, !1));
      }),
      (a.prototype.setParent = function (t, e) {
        return (
          void 0 === e && (e = {}),
          (this._parent = t),
          t
            ? this.store.set('parent', t.id, e)
            : this.store.remove('parent', e),
          this
        );
      }),
      (a.prototype.setChildren = function (t, e) {
        return (
          void 0 === e && (e = {}),
          (this._children = t),
          null != t
            ? this.store.set(
                'children',
                t.map(function (t) {
                  return t.id;
                }),
                e
              )
            : this.store.remove('children', e),
          this
        );
      }),
      (a.prototype.unembed = function (t, e) {
        void 0 === e && (e = {});
        var n = this.children;
        if (null != n && null != t) {
          var i = this.getChildIndex(t);
          -1 !== i &&
            (n.splice(i, 1), t.setParent(null, e), this.setChildren(n, e));
        }
        return this;
      }),
      (a.prototype.embed = function (t, e) {
        return void 0 === e && (e = {}), t.addTo(this, e), this;
      }),
      (a.prototype.addTo = function (t, e) {
        return (
          void 0 === e && (e = {}),
          a.isCell(t) ? t.addChild(this, e) : t.addCell(this, e),
          this
        );
      }),
      (a.prototype.insertTo = function (t, e, n) {
        return void 0 === n && (n = {}), t.insertChild(this, e, n), this;
      }),
      (a.prototype.addChild = function (t, e) {
        return void 0 === e && (e = {}), this.insertChild(t, void 0, e);
      }),
      (a.prototype.insertChild = function (t, e, n) {
        if ((void 0 === n && (n = {}), null != t && t !== this)) {
          var i = t.getParent(),
            r = this !== i,
            o = e;
          if ((null == o && ((o = this.getChildCount()), r || (o -= 1)), i)) {
            var s = i.getChildren();
            if (s) {
              var a = s.indexOf(t);
              a >= 0 &&
                (t.setParent(null, n), s.splice(a, 1), i.setChildren(s, n));
            }
          }
          var l = this.children;
          if (
            (null == l ? (l = []).push(t) : l.splice(o, 0, t),
            t.setParent(this, n),
            this.setChildren(l, n),
            r && this.model)
          ) {
            var u = this.model.getIncomingEdges(this),
              c = this.model.getOutgoingEdges(this);
            u &&
              u.forEach(function (t) {
                return t.updateParent(n);
              }),
              c &&
                c.forEach(function (t) {
                  return t.updateParent(n);
                });
          }
          this.model && this.model.addCell(t, n);
        }
        return this;
      }),
      (a.prototype.removeFromParent = function (t) {
        void 0 === t && (t = {});
        var e = this.getParent();
        if (null != e) {
          var n = e.getChildIndex(this);
          e.removeChildAt(n, t);
        }
        return this;
      }),
      (a.prototype.removeChild = function (t, e) {
        void 0 === e && (e = {});
        var n = this.getChildIndex(t);
        return this.removeChildAt(n, e);
      }),
      (a.prototype.removeChildAt = function (t, e) {
        void 0 === e && (e = {});
        var n = this.getChildAt(t);
        return (
          null != this.children &&
            null != n &&
            (this.unembed(n, e), n.remove(e)),
          n
        );
      }),
      (a.prototype.remove = function (t) {
        var e = this;
        return (
          void 0 === t && (t = {}),
          this.batchUpdate('remove', function () {
            var n = e.getParent();
            n && n.removeChild(e, t),
              !1 !== t.deep &&
                e.eachChild(function (e) {
                  return e.remove(t);
                }),
              e.model && e.model.removeCell(e, t);
          }),
          this
        );
      }),
      (a.prototype.transition = function (t, e, n, i) {
        return (
          void 0 === n && (n = {}),
          void 0 === i && (i = '/'),
          this.animation.start(t, e, n, i)
        );
      }),
      (a.prototype.stopTransition = function (t, e, n) {
        return void 0 === n && (n = '/'), this.animation.stop(t, e, n), this;
      }),
      (a.prototype.getTransitions = function () {
        return this.animation.get();
      }),
      (a.prototype.translate = function (t, e, n) {
        return this;
      }),
      (a.prototype.scale = function (t, e, n, i) {
        return this;
      }),
      (a.prototype.addTools = function (t, e, n) {
        var r = Array.isArray(t) ? t : [t],
          o = 'string' == typeof e ? e : null,
          a = 'object' == typeof e ? e : 'object' == typeof n ? n : {};
        if (a.reset)
          return this.setTools({ name: o, items: r, local: a.local }, a);
        var l = ib(this.getTools());
        return null == l || null == o || l.name === o
          ? (null == l && (l = {}),
            l.items || (l.items = []),
            (l.name = o),
            (l.items = s(s([], l.items, !0), r, !0)),
            this.setTools(i({}, l), a))
          : void 0;
      }),
      (a.prototype.setTools = function (t, e) {
        return (
          void 0 === e && (e = {}),
          null == t
            ? this.removeTools()
            : this.store.set('tools', a.normalizeTools(t), e),
          this
        );
      }),
      (a.prototype.getTools = function () {
        return this.store.get('tools');
      }),
      (a.prototype.removeTools = function (t) {
        return void 0 === t && (t = {}), this.store.remove('tools', t), this;
      }),
      (a.prototype.hasTools = function (t) {
        var e = this.getTools();
        return null != e && (null == t || e.name === t);
      }),
      (a.prototype.hasTool = function (t) {
        var e = this.getTools();
        return (
          null != e &&
          e.items.some(function (e) {
            return 'string' == typeof e ? e === t : e.name === t;
          })
        );
      }),
      (a.prototype.removeTool = function (t, e) {
        void 0 === e && (e = {});
        var n = ib(this.getTools());
        if (n) {
          var i = !1,
            r = n.items.slice(),
            o = function (t) {
              r.splice(t, 1), (i = !0);
            };
          if ('number' == typeof t) o(t);
          else
            for (var s = r.length - 1; s >= 0; s -= 1) {
              var a = r[s];
              ('string' == typeof a ? a === t : a.name === t) && o(s);
            }
          i && ((n.items = r), this.setTools(n, e));
        }
        return this;
      }),
      (a.prototype.getBBox = function (e) {
        return new t.Rectangle();
      }),
      (a.prototype.getConnectionPoint = function (e, n) {
        return new t.Point();
      }),
      (a.prototype.toJSON = function (t) {
        var e = this;
        void 0 === t && (t = {});
        var n = i({}, this.store.get()),
          r = Object.prototype.toString,
          o = this.isNode() ? 'node' : this.isEdge() ? 'edge' : 'cell';
        if (!n.shape) {
          var s = this.constructor;
          throw Error(
            'Unable to serialize ' +
              o +
              ' missing "shape" prop, check the ' +
              o +
              ' "' +
              (s.name || r.call(s)) +
              '"'
          );
        }
        var a = this.constructor,
          l = !0 === t.diff,
          u = n.attrs || {},
          c = a.getDefaults(!0),
          h = l ? this.preprocess(c, !0) : c,
          p = h.attrs || {},
          d = {};
        Object.keys(n).forEach(function (t) {
          var i,
            s,
            a = n[t];
          if (null != a && !Array.isArray(a) && 'object' == typeof a && !eG(a))
            throw Error(
              'Can only serialize ' +
                o +
                ' with plain-object props, but got a "' +
                r.call(a) +
                '" type of key "' +
                t +
                '" on ' +
                o +
                ' "' +
                e.id +
                '"'
            );
          'attrs' !== t &&
            'shape' !== t &&
            l &&
            ((i = a), i2(i, (s = h[t]))) &&
            delete n[t];
        }),
          Object.keys(u).forEach(function (t) {
            var e = u[t],
              n = p[t];
            Object.keys(e).forEach(function (i) {
              var r,
                o,
                s = e[i],
                a = n ? n[i] : null;
              null == s || 'object' != typeof s || Array.isArray(s)
                ? (null != n && ((r = a), i2(r, (o = s)))) ||
                  (null == d[t] && (d[t] = {}), (d[t][i] = s))
                : Object.keys(s).forEach(function (e) {
                    var r,
                      o,
                      l = s[e];
                    (null != n &&
                      null != a &&
                      ti(a) &&
                      ((r = a[e]), i2(r, (o = l)))) ||
                      (null == d[t] && (d[t] = {}),
                      null == d[t][i] && (d[t][i] = {}),
                      (d[t][i][e] = l));
                  });
            });
          });
        var f = i(i({}, n), { attrs: r_(d) ? void 0 : d });
        null == f.attrs && delete f.attrs;
        var g = f;
        return 0 === g.angle && delete g.angle, ib(g);
      }),
      (a.prototype.clone = function (t) {
        if ((void 0 === t && (t = {}), !t.deep)) {
          var e = i({}, this.store.get());
          return (
            t.keepId || delete e.id,
            delete e.parent,
            delete e.children,
            new this.constructor(e)
          );
        }
        return a.deepClone(this)[this.id];
      }),
      (a.prototype.findView = function (t) {
        return t.renderer.findViewByCell(this);
      }),
      (a.prototype.startBatch = function (t, e, n) {
        return (
          void 0 === e && (e = {}),
          void 0 === n && (n = this.model),
          this.notify('batch:start', { name: t, data: e, cell: this }),
          n && n.startBatch(t, i(i({}, e), { cell: this })),
          this
        );
      }),
      (a.prototype.stopBatch = function (t, e, n) {
        return (
          void 0 === e && (e = {}),
          void 0 === n && (n = this.model),
          n && n.stopBatch(t, i(i({}, e), { cell: this })),
          this.notify('batch:stop', { name: t, data: e, cell: this }),
          this
        );
      }),
      (a.prototype.batchUpdate = function (t, e, n) {
        var i = this.model;
        this.startBatch(t, n, i);
        var r = e();
        return this.stopBatch(t, n, i), r;
      }),
      (a.prototype.dispose = function () {
        this.removeFromParent(), this.store.dispose();
      }),
      (a.defaults = {}),
      (a.attrHooks = {}),
      (a.propHooks = []),
      o([t.Basecoat.dispose()], a.prototype, 'dispose', null),
      a
    );
  })(t.Basecoat)),
    ((t.Cell || (t.Cell = {})).normalizeTools = function (t) {
      return 'string' == typeof t
        ? { items: [t] }
        : Array.isArray(t)
        ? { items: t }
        : t.items
        ? t
        : { items: [t] };
    }),
    ((pN = t.Cell || (t.Cell = {})).toStringTag = 'X6.' + pN.name),
    (pN.isCell = function (t) {
      if (null == t) return !1;
      if (t instanceof pN) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === pN.toStringTag) &&
        'function' == typeof n.isNode &&
        'function' == typeof n.isEdge &&
        'function' == typeof n.prop &&
        'function' == typeof n.attr
      );
    }),
    ((pL = t.Cell || (t.Cell = {})).getCommonAncestor = function () {
      for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
      var n = t
        .filter(function (t) {
          return null != t;
        })
        .map(function (t) {
          return t.getAncestors();
        })
        .sort(function (t, e) {
          return t.length - e.length;
        });
      return (
        n.shift().find(function (t) {
          return n.every(function (e) {
            return e.includes(t);
          });
        }) || null
      );
    }),
    (pL.getCellsBBox = function (t, e) {
      void 0 === e && (e = {});
      for (var n = null, i = 0, r = t.length; i < r; i += 1) {
        var o = t[i],
          s = o.getBBox(e);
        if (s) {
          if (o.isNode()) {
            var a = o.getAngle();
            null != a && 0 !== a && (s = s.bbox(a));
          }
          n = null == n ? s : n.union(s);
        }
      }
      return n;
    }),
    (pL.deepClone = function (t) {
      var e = s([t], t.getDescendants({ deep: !0 }), !0);
      return pL.cloneCells(e);
    }),
    (pL.cloneCells = function (t) {
      var e = oC(t),
        n = e.reduce(function (t, e) {
          return (t[e.id] = e.clone()), t;
        }, {});
      return (
        e.forEach(function (t) {
          var e = n[t.id];
          if (e.isEdge()) {
            var r = e.getSourceCellId(),
              o = e.getTargetCellId();
            r &&
              n[r] &&
              e.setSource(i(i({}, e.getSource()), { cell: n[r].id })),
              o &&
                n[o] &&
                e.setTarget(i(i({}, e.getTarget()), { cell: n[o].id }));
          }
          var s = t.getParent();
          s && n[s.id] && e.setParent(n[s.id]);
          var a = t.getChildren();
          if (a && a.length) {
            var l = a.reduce(function (t, e) {
              return n[e.id] && t.push(n[e.id]), t;
            }, []);
            l.length > 0 && e.setChildren(l);
          }
        }),
        n
      );
    }),
    (function (t) {
      t.config({
        propHooks: function (e) {
          var n = e.tools,
            i = r(e, ['tools']);
          return n && (i.tools = t.normalizeTools(n)), i;
        },
      });
    })(t.Cell || (t.Cell = {})),
    ((p5 = p2 || (p2 = {})).exist = function (t, e) {
      return e ? null != p6 && p6.exist(t) : null != p7 && p7.exist(t);
    }),
    (p5.setEdgeRegistry = function (t) {
      p6 = t;
    }),
    (p5.setNodeRegistry = function (t) {
      p7 = t;
    });
  var pz,
    pB,
    pO,
    pV,
    pR = (function () {
      function e(t) {
        (this.ports = []), (this.groups = {}), this.init(ib(t));
      }
      return (
        (e.prototype.getPorts = function () {
          return this.ports;
        }),
        (e.prototype.getGroup = function (t) {
          return null != t ? this.groups[t] : null;
        }),
        (e.prototype.getPortsByGroup = function (t) {
          return this.ports.filter(function (e) {
            return e.group === t || (null == e.group && null == t);
          });
        }),
        (e.prototype.getPortsLayoutByGroup = function (e, n) {
          var i,
            r,
            o = this,
            s = this.getPortsByGroup(e),
            a = e ? this.getGroup(e) : null,
            l = a ? a.position : null,
            u = l ? l.name : null;
          if (null != u) {
            var c = cy.registry.get(u);
            if (null == c) return cy.registry.onNotFound(u);
            r = c;
          } else r = cy.presets.left;
          return r(
            s.map(function (t) {
              return (t && t.position && t.position.args) || {};
            }),
            n,
            (l && l.args) || {}
          ).map(function (e, i) {
            var r = s[i];
            return {
              portLayout: e,
              portId: r.id,
              portSize: r.size,
              portAttrs: r.attrs,
              labelSize: r.label.size,
              labelLayout: o.getPortLabelLayout(
                r,
                t.Point.create(e.position),
                n
              ),
            };
          });
        }),
        (e.prototype.init = function (t) {
          var e = this,
            n = t.groups,
            i = t.items;
          null != n &&
            Object.keys(n).forEach(function (t) {
              e.groups[t] = e.parseGroup(n[t]);
            }),
            Array.isArray(i) &&
              i.forEach(function (t) {
                e.ports.push(e.parsePort(t));
              });
        }),
        (e.prototype.parseGroup = function (t) {
          return i(i({}, t), {
            label: this.getLabel(t, !0),
            position: this.getPortPosition(t.position, !0),
          });
        }),
        (e.prototype.parsePort = function (t) {
          var e = i({}, t),
            n = this.getGroup(t.group) || {};
          return (
            (e.markup = e.markup || n.markup),
            (e.attrs = rk({}, n.attrs, e.attrs)),
            (e.position = this.createPosition(n, e)),
            (e.label = rk({}, n.label, this.getLabel(e))),
            (e.zIndex = this.getZIndex(n, e)),
            (e.size = i(i({}, n.size), e.size)),
            e
          );
        }),
        (e.prototype.getZIndex = function (t, e) {
          return 'number' == typeof e.zIndex
            ? e.zIndex
            : 'number' == typeof t.zIndex || 'auto' === t.zIndex
            ? t.zIndex
            : 'auto';
        }),
        (e.prototype.createPosition = function (t, e) {
          return rk({ name: 'left', args: {} }, t.position, { args: e.args });
        }),
        (e.prototype.getPortPosition = function (t, e) {
          if ((void 0 === e && (e = !1), null == t)) {
            if (e) return { name: 'left', args: {} };
          } else {
            if ('string' == typeof t) return { name: t, args: {} };
            if (Array.isArray(t))
              return { name: 'absolute', args: { x: t[0], y: t[1] } };
            if ('object' == typeof t) return t;
          }
          return { args: {} };
        }),
        (e.prototype.getPortLabelPosition = function (t, e) {
          if ((void 0 === e && (e = !1), null == t)) {
            if (e) return { name: 'left', args: {} };
          } else {
            if ('string' == typeof t) return { name: t, args: {} };
            if ('object' == typeof t) return t;
          }
          return { args: {} };
        }),
        (e.prototype.getLabel = function (t, e) {
          void 0 === e && (e = !1);
          var n = t.label || {};
          return (n.position = this.getPortLabelPosition(n.position, e)), n;
        }),
        (e.prototype.getPortLabelLayout = function (t, e, n) {
          var i = t.label.position.name || 'left',
            r = t.label.position.args || {},
            o = cA.registry.get(i) || cA.presets.left;
          return o ? o(e, n, r) : null;
        }),
        e
      );
    })();
  (t.Node = (function (e) {
    function o(t) {
      void 0 === t && (t = {});
      var n = e.call(this, t) || this;
      return n.initPorts(), n;
    }
    return (
      n(o, e),
      Object.defineProperty(o.prototype, Symbol.toStringTag, {
        get: function () {
          return o.toStringTag;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (o.prototype.preprocess = function (t, n) {
        var o = t.x,
          s = t.y,
          a = t.width,
          l = t.height,
          u = r(t, ['x', 'y', 'width', 'height']);
        if (null != o || null != s) {
          var c = u.position;
          u.position = i(i({}, c), {
            x: null != o ? o : c ? c.x : 0,
            y: null != s ? s : c ? c.y : 0,
          });
        }
        if (null != a || null != l) {
          var h = u.size;
          u.size = i(i({}, h), {
            width: null != a ? a : h ? h.width : 0,
            height: null != l ? l : h ? h.height : 0,
          });
        }
        return e.prototype.preprocess.call(this, u, n);
      }),
      (o.prototype.isNode = function () {
        return !0;
      }),
      (o.prototype.size = function (t, e, n) {
        return void 0 === t
          ? this.getSize()
          : 'number' == typeof t
          ? this.setSize(t, e, n)
          : this.setSize(t, e);
      }),
      (o.prototype.getSize = function () {
        var t = this.store.get('size');
        return t ? i({}, t) : { width: 1, height: 1 };
      }),
      (o.prototype.setSize = function (t, e, n) {
        return (
          'object' == typeof t
            ? this.resize(t.width, t.height, e)
            : this.resize(t, e, n),
          this
        );
      }),
      (o.prototype.resize = function (e, n, i) {
        void 0 === i && (i = {}), this.startBatch('resize', i);
        var r = i.direction;
        if (r) {
          var o = this.getSize();
          switch (r) {
            case 'left':
            case 'right':
              n = o.height;
              break;
            case 'top':
            case 'bottom':
              e = o.width;
          }
          var s = {
              right: 0,
              'top-right': 0,
              top: 1,
              'top-left': 1,
              left: 2,
              'bottom-left': 2,
              bottom: 3,
              'bottom-right': 3,
            }[r],
            a = t.Angle.normalize(this.getAngle() || 0);
          i.absolute && ((s += Math.floor((a + 45) / 90)), (s %= 4));
          var l = this.getBBox(),
            u = (
              0 === s
                ? l.getBottomLeft()
                : 1 === s
                ? l.getCorner()
                : 2 === s
                ? l.getTopRight()
                : l.getOrigin()
            )
              .clone()
              .rotate(-a, l.getCenter()),
            c = Math.sqrt(e * e + n * n) / 2,
            h = (s * Math.PI) / 2;
          (h += Math.atan(s % 2 == 0 ? n / e : e / n)), (h -= t.Angle.toRad(a));
          var p = t.Point.fromPolar(c, h, u)
            .clone()
            .translate(-(e / 2), -(n / 2));
          this.store.set('size', { width: e, height: n }, i),
            this.setPosition(p.x, p.y, i);
        } else this.store.set('size', { width: e, height: n }, i);
        return this.stopBatch('resize', i), this;
      }),
      (o.prototype.scale = function (t, e, n, i) {
        void 0 === i && (i = {});
        var r = this.getBBox().scale(t, e, null == n ? void 0 : n);
        return (
          this.startBatch('scale', i),
          this.setPosition(r.x, r.y, i),
          this.resize(r.width, r.height, i),
          this.stopBatch('scale'),
          this
        );
      }),
      (o.prototype.position = function (t, e, n) {
        return 'number' == typeof t
          ? this.setPosition(t, e, n)
          : this.getPosition(t);
      }),
      (o.prototype.getPosition = function (t) {
        if ((void 0 === t && (t = {}), t.relative)) {
          var e = this.getParent();
          if (null != e && e.isNode()) {
            var n = this.getPosition(),
              r = e.getPosition();
            return { x: n.x - r.x, y: n.y - r.y };
          }
        }
        var o = this.store.get('position');
        return o ? i({}, o) : { x: 0, y: 0 };
      }),
      (o.prototype.setPosition = function (t, e, n) {
        var i, r, o;
        if (
          (void 0 === n && (n = {}),
          'object' == typeof t
            ? ((i = t.x), (r = t.y), (o = e || {}))
            : ((i = t), (r = e), (o = n || {})),
          o.relative)
        ) {
          var s = this.getParent();
          if (null != s && s.isNode()) {
            var a = s.getPosition();
            (i += a.x), (r += a.y);
          }
        }
        if (o.deep) {
          var l = this.getPosition();
          this.translate(i - l.x, r - l.y, o);
        } else this.store.set('position', { x: i, y: r }, o);
        return this;
      }),
      (o.prototype.translate = function (e, n, r) {
        if (
          (void 0 === e && (e = 0),
          void 0 === n && (n = 0),
          void 0 === r && (r = {}),
          0 === e && 0 === n)
        )
          return this;
        r.translateBy = r.translateBy || this.id;
        var o = this.getPosition();
        if (null != r.restrict && r.translateBy === this.id) {
          var s = this.getBBox({ deep: !0 }),
            a = r.restrict,
            l = o.x - s.x,
            u = o.y - s.y,
            c = Math.max(
              a.x + l,
              Math.min(a.x + a.width + l - s.width, o.x + e)
            ),
            h = Math.max(
              a.y + u,
              Math.min(a.y + a.height + u - s.height, o.y + n)
            );
          (e = c - o.x), (n = h - o.y);
        }
        var p = { x: o.x + e, y: o.y + n };
        return (
          (r.tx = e),
          (r.ty = n),
          r.transition
            ? ('object' != typeof r.transition && (r.transition = {}),
              this.transition(
                'position',
                p,
                i(i({}, r.transition), { interp: t.Interp.object })
              ),
              this.eachChild(function (t) {
                var i;
                (null === (i = r.exclude) || void 0 === i
                  ? void 0
                  : i.includes(t)) || t.translate(e, n, r);
              }))
            : (this.startBatch('translate', r),
              this.store.set('position', p, r),
              this.eachChild(function (t) {
                var i;
                (null === (i = r.exclude) || void 0 === i
                  ? void 0
                  : i.includes(t)) || t.translate(e, n, r);
              }),
              this.stopBatch('translate', r)),
          this
        );
      }),
      (o.prototype.angle = function (t, e) {
        return null == t ? this.getAngle() : this.rotate(t, e);
      }),
      (o.prototype.getAngle = function () {
        return this.store.get('angle', 0);
      }),
      (o.prototype.rotate = function (t, e) {
        void 0 === e && (e = {});
        var n = this.getAngle();
        if (e.center) {
          var r = this.getSize(),
            o = this.getPosition(),
            s = this.getBBox().getCenter();
          s.rotate(n - t, e.center);
          var a = s.x - r.width / 2 - o.x,
            l = s.y - r.height / 2 - o.y;
          this.startBatch('rotate', { angle: t, options: e }),
            this.setPosition(o.x + a, o.y + l, e),
            this.rotate(t, i(i({}, e), { center: null })),
            this.stopBatch('rotate');
        } else this.store.set('angle', e.absolute ? t : (n + t) % 360, e);
        return this;
      }),
      (o.prototype.getBBox = function (e) {
        if ((void 0 === e && (e = {}), e.deep)) {
          var n = this.getDescendants({ deep: !0, breadthFirst: !0 });
          return n.push(this), t.Cell.getCellsBBox(n);
        }
        return t.Rectangle.fromPositionAndSize(
          this.getPosition(),
          this.getSize()
        );
      }),
      (o.prototype.getConnectionPoint = function (e, n) {
        var i = this.getBBox(),
          r = i.getCenter(),
          o = e.getTerminal(n);
        if (null == o) return r;
        var s = o.port;
        if (!s || !this.hasPort(s)) return r;
        var a = this.getPort(s);
        if (!a || !a.group) return r;
        var l = this.getPortsPosition(a.group)[s].position,
          u = t.Point.create(l).translate(i.getOrigin()),
          c = this.getAngle();
        return c && u.rotate(-c, r), u;
      }),
      (o.prototype.fit = function (e) {
        void 0 === e && (e = {});
        var n = (this.getChildren() || []).filter(function (t) {
          return t.isNode();
        });
        if (0 === n.length) return this;
        this.startBatch('fit-embeds', e),
          e.deep &&
            n.forEach(function (t) {
              return t.fit(e);
            });
        var i = t.Cell.getCellsBBox(n),
          r = i.x,
          o = i.y,
          s = i.width,
          a = i.height,
          l = oX(e.padding);
        return (
          (r -= l.left),
          (o -= l.top),
          (s += l.left + l.right),
          (a += l.bottom + l.top),
          this.store.set(
            { position: { x: r, y: o }, size: { width: s, height: a } },
            e
          ),
          this.stopBatch('fit-embeds'),
          this
        );
      }),
      Object.defineProperty(o.prototype, 'portContainerMarkup', {
        get: function () {
          return this.getPortContainerMarkup();
        },
        set: function (t) {
          this.setPortContainerMarkup(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (o.prototype.getDefaultPortContainerMarkup = function () {
        return (
          this.store.get('defaultPortContainerMarkup') ||
          t.Markup.getPortContainerMarkup()
        );
      }),
      (o.prototype.getPortContainerMarkup = function () {
        return (
          this.store.get('portContainerMarkup') ||
          this.getDefaultPortContainerMarkup()
        );
      }),
      (o.prototype.setPortContainerMarkup = function (e, n) {
        return (
          void 0 === n && (n = {}),
          this.store.set('portContainerMarkup', t.Markup.clone(e), n),
          this
        );
      }),
      Object.defineProperty(o.prototype, 'portMarkup', {
        get: function () {
          return this.getPortMarkup();
        },
        set: function (t) {
          this.setPortMarkup(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (o.prototype.getDefaultPortMarkup = function () {
        return this.store.get('defaultPortMarkup') || t.Markup.getPortMarkup();
      }),
      (o.prototype.getPortMarkup = function () {
        return this.store.get('portMarkup') || this.getDefaultPortMarkup();
      }),
      (o.prototype.setPortMarkup = function (e, n) {
        return (
          void 0 === n && (n = {}),
          this.store.set('portMarkup', t.Markup.clone(e), n),
          this
        );
      }),
      Object.defineProperty(o.prototype, 'portLabelMarkup', {
        get: function () {
          return this.getPortLabelMarkup();
        },
        set: function (t) {
          this.setPortLabelMarkup(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (o.prototype.getDefaultPortLabelMarkup = function () {
        return (
          this.store.get('defaultPortLabelMarkup') ||
          t.Markup.getPortLabelMarkup()
        );
      }),
      (o.prototype.getPortLabelMarkup = function () {
        return (
          this.store.get('portLabelMarkup') || this.getDefaultPortLabelMarkup()
        );
      }),
      (o.prototype.setPortLabelMarkup = function (e, n) {
        return (
          void 0 === n && (n = {}),
          this.store.set('portLabelMarkup', t.Markup.clone(e), n),
          this
        );
      }),
      Object.defineProperty(o.prototype, 'ports', {
        get: function () {
          var t = this.store.get('ports', { items: [] });
          return null == t.items && (t.items = []), t;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (o.prototype.getPorts = function () {
        return ib(this.ports.items);
      }),
      (o.prototype.getPortsByGroup = function (t) {
        return this.getPorts().filter(function (e) {
          return e.group === t;
        });
      }),
      (o.prototype.getPort = function (t) {
        return ib(
          this.ports.items.find(function (e) {
            return e.id && e.id === t;
          })
        );
      }),
      (o.prototype.getPortAt = function (t) {
        return this.ports.items[t] || null;
      }),
      (o.prototype.hasPorts = function () {
        return this.ports.items.length > 0;
      }),
      (o.prototype.hasPort = function (t) {
        return -1 !== this.getPortIndex(t);
      }),
      (o.prototype.getPortIndex = function (t) {
        var e = 'string' == typeof t ? t : t.id;
        return null != e
          ? this.ports.items.findIndex(function (t) {
              return t.id === e;
            })
          : -1;
      }),
      (o.prototype.getPortsPosition = function (e) {
        var n = this.getSize();
        return this.port
          .getPortsLayoutByGroup(e, new t.Rectangle(0, 0, n.width, n.height))
          .reduce(function (t, e) {
            var n = e.portLayout;
            return (
              (t[e.portId] = {
                position: i({}, n.position),
                angle: n.angle || 0,
              }),
              t
            );
          }, {});
      }),
      (o.prototype.getPortProp = function (t, e) {
        return this.getPropByPath(this.prefixPortPath(t, e));
      }),
      (o.prototype.setPortProp = function (t, e, n, i) {
        if ('string' == typeof e || Array.isArray(e)) {
          var r = this.prefixPortPath(t, e);
          return this.setPropByPath(r, n, i);
        }
        var o = this.prefixPortPath(t);
        return this.setPropByPath(o, e, n);
      }),
      (o.prototype.removePortProp = function (t, e, n) {
        return 'string' == typeof e || Array.isArray(e)
          ? this.removePropByPath(this.prefixPortPath(t, e), n)
          : this.removePropByPath(this.prefixPortPath(t), e);
      }),
      (o.prototype.portProp = function (t, e, n, i) {
        return null == e
          ? this.getPortProp(t)
          : 'string' == typeof e || Array.isArray(e)
          ? 2 === arguments.length
            ? this.getPortProp(t, e)
            : null == n
            ? this.removePortProp(t, e, i)
            : this.setPortProp(t, e, n, i)
          : this.setPortProp(t, e, n);
      }),
      (o.prototype.prefixPortPath = function (t, e) {
        var n = this.getPortIndex(t);
        if (-1 === n) throw Error('Unable to find port with id: "' + t + '"');
        return null == e || '' === e
          ? ['ports', 'items', '' + n]
          : Array.isArray(e)
          ? s(['ports', 'items', '' + n], e, !0)
          : 'ports/items/' + n + '/' + e;
      }),
      (o.prototype.addPort = function (t, e) {
        var n = s([], this.ports.items, !0);
        return n.push(t), this.setPropByPath('ports/items', n, e), this;
      }),
      (o.prototype.addPorts = function (t, e) {
        return (
          this.setPropByPath(
            'ports/items',
            s(s([], this.ports.items, !0), t, !0),
            e
          ),
          this
        );
      }),
      (o.prototype.insertPort = function (t, e, n) {
        var i = s([], this.ports.items, !0);
        return i.splice(t, 0, e), this.setPropByPath('ports/items', i, n), this;
      }),
      (o.prototype.removePort = function (t, e) {
        return (
          void 0 === e && (e = {}), this.removePortAt(this.getPortIndex(t), e)
        );
      }),
      (o.prototype.removePortAt = function (t, e) {
        if ((void 0 === e && (e = {}), t >= 0)) {
          var n = s([], this.ports.items, !0);
          n.splice(t, 1),
            (e.rewrite = !0),
            this.setPropByPath('ports/items', n, e);
        }
        return this;
      }),
      (o.prototype.removePorts = function (t, e) {
        var n;
        if (Array.isArray(t)) {
          if (((n = e || {}), t.length)) {
            n.rewrite = !0;
            var i = s([], this.ports.items, !0).filter(function (e) {
              return !t.some(function (t) {
                var n = 'string' == typeof t ? t : t.id;
                return e.id === n;
              });
            });
            this.setPropByPath('ports/items', i, n);
          }
        } else
          ((n = t || {}).rewrite = !0),
            this.setPropByPath('ports/items', [], n);
        return this;
      }),
      (o.prototype.getParsedPorts = function () {
        return this.port.getPorts();
      }),
      (o.prototype.getParsedGroups = function () {
        return this.port.groups;
      }),
      (o.prototype.getPortsLayoutByGroup = function (t, e) {
        return this.port.getPortsLayoutByGroup(t, e);
      }),
      (o.prototype.initPorts = function () {
        var t = this;
        this.updatePortData(),
          this.on('change:ports', function () {
            t.processRemovedPort(), t.updatePortData();
          });
      }),
      (o.prototype.processRemovedPort = function () {
        var t = this.ports,
          e = {};
        t.items.forEach(function (t) {
          t.id && (e[t.id] = !0);
        });
        var n = {};
        (this.store.getPrevious('ports') || { items: [] }).items.forEach(
          function (t) {
            t.id && !e[t.id] && (n[t.id] = !0);
          }
        );
        var i = this.model;
        i &&
          !r_(n) &&
          (i.getConnectedEdges(this, { incoming: !0 }).forEach(function (t) {
            var e = t.getTargetPortId();
            e && n[e] && t.remove();
          }),
          i.getConnectedEdges(this, { outgoing: !0 }).forEach(function (t) {
            var e = t.getSourcePortId();
            e && n[e] && t.remove();
          }));
      }),
      (o.prototype.validatePorts = function () {
        var t = this,
          e = {},
          n = [];
        return (
          this.ports.items.forEach(function (i) {
            'object' != typeof i && n.push('Invalid port ' + i + '.'),
              null == i.id && (i.id = t.generatePortId()),
              e[i.id] && n.push('Duplicitied port id.'),
              (e[i.id] = !0);
          }),
          n
        );
      }),
      (o.prototype.generatePortId = function () {
        return o8();
      }),
      (o.prototype.updatePortData = function () {
        var t = this.validatePorts();
        if (t.length > 0)
          throw (
            (this.store.set('ports', this.store.getPrevious('ports')),
            Error(t.join(' ')))
          );
        var e = this.port ? this.port.getPorts() : null;
        this.port = new pR(this.ports);
        var n = this.port.getPorts(),
          i = e
            ? n.filter(function (t) {
                return e.find(function (e) {
                  return e.id === t.id;
                })
                  ? null
                  : t;
              })
            : s([], n, !0),
          r = e
            ? e.filter(function (t) {
                return n.find(function (e) {
                  return e.id === t.id;
                })
                  ? null
                  : t;
              })
            : [];
        i.length > 0 &&
          this.notify('ports:added', { added: i, cell: this, node: this }),
          r.length > 0 &&
            this.notify('ports:removed', {
              removed: r,
              cell: this,
              node: this,
            });
      }),
      (o.defaults = {
        angle: 0,
        position: { x: 0, y: 0 },
        size: { width: 1, height: 1 },
      }),
      o
    );
  })(t.Cell)),
    ((pz = t.Node || (t.Node = {})).toStringTag = 'X6.' + pz.name),
    (pz.isNode = function (t) {
      if (null == t) return !1;
      if (t instanceof pz) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === pz.toStringTag) &&
        'function' == typeof n.isNode &&
        'function' == typeof n.isEdge &&
        'function' == typeof n.prop &&
        'function' == typeof n.attr &&
        'function' == typeof n.size &&
        'function' == typeof n.position
      );
    }),
    (function (t) {
      t.config({
        propHooks: function (t) {
          var e = t.ports,
            n = r(t, ['ports']);
          return e && (n.ports = Array.isArray(e) ? { items: e } : e), n;
        },
      });
    })(t.Node || (t.Node = {})),
    ((pB = t.Node || (t.Node = {})).registry = l5.create({
      type: 'node',
      process: function (t, e) {
        if (p2.exist(t, !0))
          throw Error(
            "Node with name '" + t + "' was registered by anthor Edge"
          );
        if ('function' == typeof e) return e.config({ shape: t }), e;
        var n = pB,
          i = e.inherit,
          o = r(e, ['inherit']);
        if (i) {
          if ('string' == typeof i) {
            var s = this.get(i);
            null == s ? this.onNotFound(i, 'inherited') : (n = s);
          } else n = i;
        }
        null == o.constructorName && (o.constructorName = t);
        var a = n.define.call(n, o);
        return a.config({ shape: t }), a;
      },
    })),
    p2.setNodeRegistry(pB.registry),
    (pO = t.Node || (t.Node = {})),
    (pV = 0),
    (pO.define = function (t) {
      var e,
        n = t.constructorName,
        i = t.overwrite,
        o = r(t, ['constructorName', 'overwrite']),
        s = o3((e = n || o.shape) ? oF(e) : 'CustomNode' + (pV += 1), this);
      return s.config(o), o.shape && pO.registry.register(o.shape, s, i), s;
    }),
    (pO.create = function (t) {
      var e = t.shape || 'rect',
        n = pO.registry.get(e);
      return n ? new n(t) : pO.registry.onNotFound(e);
    });
  var pI = (function (t) {
    function e() {
      return (null !== t && t.apply(this, arguments)) || this;
    }
    return (
      n(e, t),
      Object.defineProperty(e.prototype, 'label', {
        get: function () {
          return this.getLabel();
        },
        set: function (t) {
          this.setLabel(t);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (e.prototype.getLabel = function () {
        return this.getAttrByPath('text/text');
      }),
      (e.prototype.setLabel = function (t, e) {
        return (
          null == t
            ? this.removeLabel()
            : this.setAttrByPath('text/text', t, e),
          this
        );
      }),
      (e.prototype.removeLabel = function () {
        return this.removeAttrByPath('text/text'), this;
      }),
      e
    );
  })(t.Node);
  function p8(t) {
    return 'basic.' + t;
  }
  function pG(t) {
    return (
      void 0 === t && (t = 'xlink:href'),
      function (e) {
        var n = e.imageUrl,
          i = e.imageWidth,
          o = e.imageHeight,
          s = r(e, ['imageUrl', 'imageWidth', 'imageHeight']);
        if (null != n || null != i || null != o) {
          var a = function () {
            if (s.attrs) {
              var e = s.attrs.image;
              null != n && (e[t] = n),
                null != i && (e.width = i),
                null != o && (e.height = o),
                (s.attrs.image = e);
            }
          };
          s.attrs
            ? (null == s.attrs.image && (s.attrs.image = {}), a())
            : ((s.attrs = { image: {} }), a());
        }
        return s;
      }
    );
  }
  function pj(t, e, n) {
    void 0 === n && (n = {});
    var i,
      r,
      o,
      s = p8(t),
      a = {
        constructorName: s,
        attrs:
          (((i = { '.': { fill: '#ffffff', stroke: 'none' } })[t] = {
            fill: '#ffffff',
            stroke: '#000000',
          }),
          i),
      };
    return (
      n.ignoreMarkup ||
        (a.markup =
          ((r = t),
          (o = !0 === n.noText),
          '<g class="rotatable"><g class="scalable"><' +
            r +
            '/></g>' +
            (o ? '' : '<text/>') +
            '</g>')),
      (n.parent || pI).define(rk(a, e, { shape: s }))
    );
  }
  ((pH = pI || (pI = {})).bodyAttr = {
    fill: '#ffffff',
    stroke: '#333333',
    strokeWidth: 2,
  }),
    (pH.labelAttr = {
      fontSize: 14,
      fill: '#000000',
      refX: 0.5,
      refY: 0.5,
      textAnchor: 'middle',
      textVerticalAnchor: 'middle',
      fontFamily: 'Arial, helvetica, sans-serif',
    }),
    pH.config({
      attrs: { text: i({}, pH.labelAttr) },
      propHooks: function (t) {
        var e = t.label,
          n = r(t, ['label']);
        return e && oN(n, 'attrs/text/text', e), n;
      },
      visible: !0,
    }),
    pj('rect', { attrs: { rect: { width: 100, height: 60 } } }),
    pj('circle', {
      width: 60,
      height: 60,
      attrs: { circle: { r: 30, cx: 30, cy: 30 } },
    }),
    pj('ellipse', {
      width: 60,
      height: 40,
      attrs: { ellipse: { rx: 30, ry: 20, cx: 30, cy: 20 } },
    }),
    pj('polygon', {
      width: 60,
      height: 40,
      attrs: { text: { refY: null, refDy: 16 } },
    }),
    pj('polyline', {
      width: 60,
      height: 40,
      attrs: { text: { refY: null, refDy: 16 } },
    }),
    pj('image', {
      attrs: { text: { refY: null, refDy: 16 } },
      propHooks: pG(),
    });
  var pH,
    pU,
    pq,
    p9,
    pW,
    pX,
    pY,
    pJ,
    pZ,
    pK,
    pQ,
    dt = pj('path', {
      width: 60,
      height: 60,
      attrs: { text: { ref: 'path', refY: null, refDy: 16 } },
      propHooks: function (t) {
        var e = t.d,
          n = r(t, ['d']);
        return null != e && oN(n, 'attrs/path/d', e), n;
      },
    });
  pj(
    'rhombus',
    {
      d: 'M 30 0 L 60 30 30 60 0 30 z',
      attrs: { text: { refY: 0.5, refDy: null } },
    },
    { parent: dt, ignoreMarkup: !0 }
  ),
    pj(
      'cylinder',
      {
        width: 40,
        height: 40,
        attrs: {
          path: {
            fill: '#FFFFFF',
            stroke: '#cbd2d7',
            strokeWidth: 3,
            d: 'M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10 L 0 20 C 10 25, 30 25, 40 20 L 40 10',
          },
          text: { refY: 0.7, refDy: null, fill: '#435460' },
        },
      },
      { parent: dt, ignoreMarkup: !0 }
    ),
    (t.Edge = (function (e) {
      function o(t) {
        return void 0 === t && (t = {}), e.call(this, t) || this;
      }
      return (
        n(o, e),
        Object.defineProperty(o.prototype, Symbol.toStringTag, {
          get: function () {
            return o.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.preprocess = function (n, o) {
          var s = n.source,
            a = n.sourceCell,
            l = n.sourcePort,
            u = n.sourcePoint,
            c = n.target,
            h = n.targetCell,
            p = n.targetPort,
            d = n.targetPoint,
            f = r(n, [
              'source',
              'sourceCell',
              'sourcePort',
              'sourcePoint',
              'target',
              'targetCell',
              'targetPort',
              'targetPoint',
            ]),
            g = function (t) {
              return 'string' == typeof t || 'number' == typeof t;
            };
          if (null != s) {
            if (t.Cell.isCell(s)) f.source = { cell: s.id };
            else if (g(s)) f.source = { cell: s };
            else if (t.Point.isPoint(s)) f.source = s.toJSON();
            else if (Array.isArray(s)) f.source = { x: s[0], y: s[1] };
            else {
              var $ = s.cell;
              t.Cell.isCell($)
                ? (f.source = i(i({}, s), { cell: $.id }))
                : (f.source = s);
            }
          }
          if (null != a || null != l) {
            var v = f.source;
            if (null != a) {
              var y = g(a) ? a : a.id;
              v ? (v.cell = y) : (v = f.source = { cell: y });
            }
            null != l && v && (v.port = l);
          } else null != u && (f.source = t.Point.create(u).toJSON());
          return (
            null != c &&
              (t.Cell.isCell(c)
                ? (f.target = { cell: c.id })
                : g(c)
                ? (f.target = { cell: c })
                : t.Point.isPoint(c)
                ? (f.target = c.toJSON())
                : Array.isArray(c)
                ? (f.target = { x: c[0], y: c[1] })
                : (($ = c.cell),
                  t.Cell.isCell($)
                    ? (f.target = i(i({}, c), { cell: $.id }))
                    : (f.target = c))),
            null != h || null != p
              ? ((v = f.target),
                null != h &&
                  ((y = g(h) ? h : h.id),
                  v ? (v.cell = y) : (v = f.target = { cell: y })),
                null != p && v && (v.port = p))
              : null != d && (f.target = t.Point.create(d).toJSON()),
            e.prototype.preprocess.call(this, f, o)
          );
        }),
        (o.prototype.setup = function () {
          var t = this;
          e.prototype.setup.call(this),
            this.on('change:labels', function (e) {
              return t.onLabelsChanged(e);
            }),
            this.on('change:vertices', function (e) {
              return t.onVertexsChanged(e);
            });
        }),
        (o.prototype.isEdge = function () {
          return !0;
        }),
        (o.prototype.disconnect = function (t) {
          return (
            void 0 === t && (t = {}),
            this.store.set(
              { source: { x: 0, y: 0 }, target: { x: 0, y: 0 } },
              t
            ),
            this
          );
        }),
        Object.defineProperty(o.prototype, 'source', {
          get: function () {
            return this.getSource();
          },
          set: function (t) {
            this.setSource(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getSource = function () {
          return this.getTerminal('source');
        }),
        (o.prototype.getSourceCellId = function () {
          return this.source.cell;
        }),
        (o.prototype.getSourcePortId = function () {
          return this.source.port;
        }),
        (o.prototype.setSource = function (t, e, n) {
          return void 0 === n && (n = {}), this.setTerminal('source', t, e, n);
        }),
        Object.defineProperty(o.prototype, 'target', {
          get: function () {
            return this.getTarget();
          },
          set: function (t) {
            this.setTarget(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getTarget = function () {
          return this.getTerminal('target');
        }),
        (o.prototype.getTargetCellId = function () {
          return this.target.cell;
        }),
        (o.prototype.getTargetPortId = function () {
          return this.target.port;
        }),
        (o.prototype.setTarget = function (t, e, n) {
          return void 0 === n && (n = {}), this.setTerminal('target', t, e, n);
        }),
        (o.prototype.getTerminal = function (t) {
          return i({}, this.store.get(t));
        }),
        (o.prototype.setTerminal = function (e, n, i, r) {
          if ((void 0 === r && (r = {}), t.Cell.isCell(n)))
            return this.store.set(e, rk({}, i, { cell: n.id }), r), this;
          var o = n;
          return t.Point.isPoint(n) || (null != o.x && null != o.y)
            ? (this.store.set(e, rk({}, i, { x: o.x, y: o.y }), r), this)
            : (this.store.set(e, ib(n), r), this);
        }),
        (o.prototype.getSourcePoint = function () {
          return this.getTerminalPoint('source');
        }),
        (o.prototype.getTargetPoint = function () {
          return this.getTerminalPoint('target');
        }),
        (o.prototype.getTerminalPoint = function (e) {
          var n = this[e];
          if (t.Point.isPointLike(n)) return t.Point.create(n);
          var i = this.getTerminalCell(e);
          return i ? i.getConnectionPoint(this, e) : new t.Point();
        }),
        (o.prototype.getSourceCell = function () {
          return this.getTerminalCell('source');
        }),
        (o.prototype.getTargetCell = function () {
          return this.getTerminalCell('target');
        }),
        (o.prototype.getTerminalCell = function (t) {
          if (this.model) {
            var e =
              'source' === t ? this.getSourceCellId() : this.getTargetCellId();
            if (e) return this.model.getCell(e);
          }
          return null;
        }),
        (o.prototype.getSourceNode = function () {
          return this.getTerminalNode('source');
        }),
        (o.prototype.getTargetNode = function () {
          return this.getTerminalNode('target');
        }),
        (o.prototype.getTerminalNode = function (t) {
          for (var e = this, n = {}; e && e.isEdge(); ) {
            if (n[e.id]) return null;
            (n[e.id] = !0), (e = e.getTerminalCell(t));
          }
          return e && e.isNode() ? e : null;
        }),
        Object.defineProperty(o.prototype, 'router', {
          get: function () {
            return this.getRouter();
          },
          set: function (t) {
            null == t ? this.removeRouter() : this.setRouter(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getRouter = function () {
          return this.store.get('router');
        }),
        (o.prototype.setRouter = function (t, e, n) {
          return (
            'object' == typeof t
              ? this.store.set('router', t, e)
              : this.store.set('router', { name: t, args: e }, n),
            this
          );
        }),
        (o.prototype.removeRouter = function (t) {
          return void 0 === t && (t = {}), this.store.remove('router', t), this;
        }),
        Object.defineProperty(o.prototype, 'connector', {
          get: function () {
            return this.getConnector();
          },
          set: function (t) {
            null == t ? this.removeConnector() : this.setConnector(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getConnector = function () {
          return this.store.get('connector');
        }),
        (o.prototype.setConnector = function (t, e, n) {
          return (
            'object' == typeof t
              ? this.store.set('connector', t, e)
              : this.store.set('connector', { name: t, args: e }, n),
            this
          );
        }),
        (o.prototype.removeConnector = function (t) {
          return void 0 === t && (t = {}), this.store.remove('connector', t);
        }),
        Object.defineProperty(o.prototype, 'strategy', {
          get: function () {
            return this.getStrategy();
          },
          set: function (t) {
            null == t ? this.removeStrategy() : this.setStrategy(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getStrategy = function () {
          return this.store.get('strategy');
        }),
        (o.prototype.setStrategy = function (t, e, n) {
          return (
            'object' == typeof t
              ? this.store.set('strategy', t, e)
              : this.store.set('strategy', { name: t, args: e }, n),
            this
          );
        }),
        (o.prototype.removeStrategy = function (t) {
          return void 0 === t && (t = {}), this.store.remove('strategy', t);
        }),
        (o.prototype.getDefaultLabel = function () {
          var t = this.constructor;
          return ib(this.store.get('defaultLabel') || t.defaultLabel || {});
        }),
        Object.defineProperty(o.prototype, 'labels', {
          get: function () {
            return this.getLabels();
          },
          set: function (t) {
            this.setLabels(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getLabels = function () {
          var t = this;
          return s([], this.store.get('labels', []), !0).map(function (e) {
            return t.parseLabel(e);
          });
        }),
        (o.prototype.setLabels = function (t, e) {
          return (
            void 0 === e && (e = {}),
            this.store.set('labels', Array.isArray(t) ? t : [t], e),
            this
          );
        }),
        (o.prototype.insertLabel = function (t, e, n) {
          void 0 === n && (n = {});
          var i = this.getLabels(),
            r = i.length,
            o = null != e && Number.isFinite(e) ? e : r;
          return (
            o < 0 && (o = r + o + 1),
            i.splice(o, 0, this.parseLabel(t)),
            this.setLabels(i, n)
          );
        }),
        (o.prototype.appendLabel = function (t, e) {
          return void 0 === e && (e = {}), this.insertLabel(t, -1, e);
        }),
        (o.prototype.getLabelAt = function (t) {
          var e = this.getLabels();
          return null != t && Number.isFinite(t) ? this.parseLabel(e[t]) : null;
        }),
        (o.prototype.setLabelAt = function (t, e, n) {
          if ((void 0 === n && (n = {}), null != t && Number.isFinite(t))) {
            var i = this.getLabels();
            (i[t] = this.parseLabel(e)), this.setLabels(i, n);
          }
          return this;
        }),
        (o.prototype.removeLabelAt = function (t, e) {
          void 0 === e && (e = {});
          var n = this.getLabels(),
            i = null != t && Number.isFinite(t) ? t : -1,
            r = n.splice(i, 1);
          return this.setLabels(n, e), r.length ? r[0] : null;
        }),
        (o.prototype.parseLabel = function (t) {
          return 'string' == typeof t
            ? this.constructor.parseStringLabel(t)
            : t;
        }),
        (o.prototype.onLabelsChanged = function (t) {
          var e = t.previous,
            n = t.current,
            i =
              e && n
                ? n.filter(function (t) {
                    return e.find(function (e) {
                      var n, i;
                      return t === e || ((n = t), i2(n, (i = e)));
                    })
                      ? null
                      : t;
                  })
                : n
                ? s([], n, !0)
                : [],
            r =
              e && n
                ? e.filter(function (t) {
                    return n.find(function (e) {
                      var n, i;
                      return t === e || ((n = t), i2(n, (i = e)));
                    })
                      ? null
                      : t;
                  })
                : e
                ? s([], e, !0)
                : [];
          i.length > 0 &&
            this.notify('labels:added', { added: i, cell: this, edge: this }),
            r.length > 0 &&
              this.notify('labels:removed', {
                removed: r,
                cell: this,
                edge: this,
              });
        }),
        Object.defineProperty(o.prototype, 'vertexMarkup', {
          get: function () {
            return this.getVertexMarkup();
          },
          set: function (t) {
            this.setVertexMarkup(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getDefaultVertexMarkup = function () {
          return (
            this.store.get('defaultVertexMarkup') ||
            t.Markup.getEdgeVertexMarkup()
          );
        }),
        (o.prototype.getVertexMarkup = function () {
          return (
            this.store.get('vertexMarkup') || this.getDefaultVertexMarkup()
          );
        }),
        (o.prototype.setVertexMarkup = function (e, n) {
          return (
            void 0 === n && (n = {}),
            this.store.set('vertexMarkup', t.Markup.clone(e), n),
            this
          );
        }),
        Object.defineProperty(o.prototype, 'vertices', {
          get: function () {
            return this.getVertices();
          },
          set: function (t) {
            this.setVertices(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getVertices = function () {
          return s([], this.store.get('vertices', []), !0);
        }),
        (o.prototype.setVertices = function (e, n) {
          void 0 === n && (n = {});
          var i = Array.isArray(e) ? e : [e];
          return (
            this.store.set(
              'vertices',
              i.map(function (e) {
                return t.Point.toJSON(e);
              }),
              n
            ),
            this
          );
        }),
        (o.prototype.insertVertex = function (e, n, i) {
          void 0 === i && (i = {});
          var r = this.getVertices(),
            o = r.length,
            s = null != n && Number.isFinite(n) ? n : o;
          return (
            s < 0 && (s = o + s + 1),
            r.splice(s, 0, t.Point.toJSON(e)),
            this.setVertices(r, i)
          );
        }),
        (o.prototype.appendVertex = function (t, e) {
          return void 0 === e && (e = {}), this.insertVertex(t, -1, e);
        }),
        (o.prototype.getVertexAt = function (t) {
          return null != t && Number.isFinite(t) ? this.getVertices()[t] : null;
        }),
        (o.prototype.setVertexAt = function (t, e, n) {
          if ((void 0 === n && (n = {}), null != t && Number.isFinite(t))) {
            var i = this.getVertices();
            (i[t] = e), this.setVertices(i, n);
          }
          return this;
        }),
        (o.prototype.removeVertexAt = function (t, e) {
          void 0 === e && (e = {});
          var n = this.getVertices(),
            i = null != t && Number.isFinite(t) ? t : -1;
          return n.splice(i, 1), this.setVertices(n, e);
        }),
        (o.prototype.onVertexsChanged = function (e) {
          var n = e.previous,
            i = e.current,
            r =
              n && i
                ? i.filter(function (e) {
                    return n.find(function (n) {
                      return t.Point.equals(e, n);
                    })
                      ? null
                      : e;
                  })
                : i
                ? s([], i, !0)
                : [],
            o =
              n && i
                ? n.filter(function (e) {
                    return i.find(function (n) {
                      return t.Point.equals(e, n);
                    })
                      ? null
                      : e;
                  })
                : n
                ? s([], n, !0)
                : [];
          r.length > 0 &&
            this.notify('vertexs:added', { added: r, cell: this, edge: this }),
            o.length > 0 &&
              this.notify('vertexs:removed', {
                removed: o,
                cell: this,
                edge: this,
              });
        }),
        (o.prototype.getDefaultMarkup = function () {
          return this.store.get('defaultMarkup') || t.Markup.getEdgeMarkup();
        }),
        (o.prototype.getMarkup = function () {
          return e.prototype.getMarkup.call(this) || this.getDefaultMarkup();
        }),
        Object.defineProperty(o.prototype, 'toolMarkup', {
          get: function () {
            return this.getToolMarkup();
          },
          set: function (t) {
            this.setToolMarkup(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getDefaultToolMarkup = function () {
          return (
            this.store.get('defaultToolMarkup') || t.Markup.getEdgeToolMarkup()
          );
        }),
        (o.prototype.getToolMarkup = function () {
          return this.store.get('toolMarkup') || this.getDefaultToolMarkup();
        }),
        (o.prototype.setToolMarkup = function (t, e) {
          return (
            void 0 === e && (e = {}), this.store.set('toolMarkup', t, e), this
          );
        }),
        Object.defineProperty(o.prototype, 'doubleToolMarkup', {
          get: function () {
            return this.getDoubleToolMarkup();
          },
          set: function (t) {
            this.setDoubleToolMarkup(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getDefaultDoubleToolMarkup = function () {
          return this.store.get('defaultDoubleToolMarkup');
        }),
        (o.prototype.getDoubleToolMarkup = function () {
          return (
            this.store.get('doubleToolMarkup') ||
            this.getDefaultDoubleToolMarkup()
          );
        }),
        (o.prototype.setDoubleToolMarkup = function (t, e) {
          return (
            void 0 === e && (e = {}),
            this.store.set('doubleToolMarkup', t, e),
            this
          );
        }),
        Object.defineProperty(o.prototype, 'arrowheadMarkup', {
          get: function () {
            return this.getArrowheadMarkup();
          },
          set: function (t) {
            this.setArrowheadMarkup(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getDefaultArrowheadMarkup = function () {
          return (
            this.store.get('defaultArrowheadMarkup') ||
            t.Markup.getEdgeArrowheadMarkup()
          );
        }),
        (o.prototype.getArrowheadMarkup = function () {
          return (
            this.store.get('arrowheadMarkup') ||
            this.getDefaultArrowheadMarkup()
          );
        }),
        (o.prototype.setArrowheadMarkup = function (t, e) {
          return (
            void 0 === e && (e = {}),
            this.store.set('arrowheadMarkup', t, e),
            this
          );
        }),
        (o.prototype.translate = function (t, e, n) {
          return (
            void 0 === n && (n = {}),
            (n.translateBy = n.translateBy || this.id),
            (n.tx = t),
            (n.ty = e),
            this.applyToPoints(function (n) {
              return { x: (n.x || 0) + t, y: (n.y || 0) + e };
            }, n)
          );
        }),
        (o.prototype.scale = function (e, n, i, r) {
          return (
            void 0 === r && (r = {}),
            this.applyToPoints(function (r) {
              return t.Point.create(r).scale(e, n, i).toJSON();
            }, r)
          );
        }),
        (o.prototype.applyToPoints = function (e, n) {
          void 0 === n && (n = {});
          var i = {},
            r = this.getSource(),
            o = this.getTarget();
          t.Point.isPointLike(r) && (i.source = e(r)),
            t.Point.isPointLike(o) && (i.target = e(o));
          var s = this.getVertices();
          return (
            s.length > 0 && (i.vertices = s.map(e)), this.store.set(i, n), this
          );
        }),
        (o.prototype.getBBox = function () {
          return this.getPolyline().bbox();
        }),
        (o.prototype.getConnectionPoint = function () {
          return this.getPolyline().pointAt(0.5);
        }),
        (o.prototype.getPolyline = function () {
          var e = s(
            s(
              [this.getSourcePoint()],
              this.getVertices().map(function (e) {
                return t.Point.create(e);
              }),
              !0
            ),
            [this.getTargetPoint()],
            !1
          );
          return new t.Polyline(e);
        }),
        (o.prototype.updateParent = function (e) {
          var n = null,
            i = this.getSourceCell(),
            r = this.getTargetCell(),
            o = this.getParent();
          return (
            i &&
              r &&
              (n =
                i === r || i.isDescendantOf(r)
                  ? r
                  : r.isDescendantOf(i)
                  ? i
                  : t.Cell.getCommonAncestor(i, r)),
            !o || (n && n.id === o.id) || o.unembed(this, e),
            n && n.embed(this, e),
            n
          );
        }),
        (o.prototype.hasLoop = function (t) {
          void 0 === t && (t = {});
          var e = this.getSource(),
            n = this.getTarget(),
            i = e.cell,
            r = n.cell;
          if (!i || !r) return !1;
          var o = i === r;
          if (!o && t.deep && this._model) {
            var s = this.getSourceCell(),
              a = this.getTargetCell();
            s && a && (o = s.isAncestorOf(a, t) || a.isAncestorOf(s, t));
          }
          return o;
        }),
        (o.prototype.getFragmentAncestor = function () {
          var t = [this, this.getSourceNode(), this.getTargetNode()].filter(
            function (t) {
              return null != t;
            }
          );
          return this.getCommonAncestor.apply(this, t);
        }),
        (o.prototype.isFragmentDescendantOf = function (t) {
          var e = this.getFragmentAncestor();
          return !!e && (e.id === t.id || e.isDescendantOf(t));
        }),
        (o.defaults = {}),
        o
      );
    })(t.Cell)),
    ((t.Edge || (t.Edge = {})).equalTerminals = function (t, e) {
      var n = t,
        i = e;
      return (
        n.cell === i.cell &&
        (n.port === i.port || (null == n.port && null == i.port))
      );
    }),
    ((pW = t.Edge || (t.Edge = {})).defaultLabel = {
      markup: [
        { tagName: 'rect', selector: 'body' },
        { tagName: 'text', selector: 'label' },
      ],
      attrs: {
        text: {
          fill: '#000',
          fontSize: 14,
          textAnchor: 'middle',
          textVerticalAnchor: 'middle',
          pointerEvents: 'none',
        },
        rect: {
          ref: 'label',
          fill: '#fff',
          rx: 3,
          ry: 3,
          refWidth: 1,
          refHeight: 1,
          refX: 0,
          refY: 0,
        },
      },
      position: { distance: 0.5 },
    }),
    (pW.parseStringLabel = function (t) {
      return { attrs: { label: { text: t } } };
    }),
    ((pX = t.Edge || (t.Edge = {})).toStringTag = 'X6.' + pX.name),
    (pX.isEdge = function (t) {
      if (null == t) return !1;
      if (t instanceof pX) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === pX.toStringTag) &&
        'function' == typeof n.isNode &&
        'function' == typeof n.isEdge &&
        'function' == typeof n.prop &&
        'function' == typeof n.attr &&
        'function' == typeof n.disconnect &&
        'function' == typeof n.getSource &&
        'function' == typeof n.getTarget
      );
    }),
    ((pY = t.Edge || (t.Edge = {})).registry = l5.create({
      type: 'edge',
      process: function (t, e) {
        if (p2.exist(t, !1))
          throw Error(
            "Edge with name '" + t + "' was registered by anthor Node"
          );
        if ('function' == typeof e) return e.config({ shape: t }), e;
        var n = pY,
          i = e.inherit,
          o = void 0 === i ? 'edge' : i,
          s = r(e, ['inherit']);
        if ('string' == typeof o) {
          var a = this.get(o || 'edge');
          null == a && o ? this.onNotFound(o, 'inherited') : (n = a);
        } else n = o;
        null == s.constructorName && (s.constructorName = t);
        var l = n.define.call(n, s);
        return l.config({ shape: t }), l;
      },
    })),
    p2.setEdgeRegistry(pY.registry),
    (pJ = t.Edge || (t.Edge = {})),
    (pZ = 0),
    (pJ.define = function (t) {
      var e,
        n = t.constructorName,
        i = t.overwrite,
        o = r(t, ['constructorName', 'overwrite']),
        s = o3((e = n || o.shape) ? oF(e) : 'CustomEdge' + (pZ += 1), this);
      return s.config(o), o.shape && pJ.registry.register(o.shape, s, i), s;
    }),
    (pJ.create = function (t) {
      var e = t.shape || 'edge',
        n = pJ.registry.get(e);
      return n ? new n(t) : pJ.registry.onNotFound(e);
    }),
    (pK = t.Edge || (t.Edge = {})),
    (pQ = 'basic.edge'),
    pK.config({
      shape: pQ,
      propHooks: function (e) {
        var n = e.label,
          i = e.vertices,
          o = r(e, ['label', 'vertices']);
        if (n) {
          null == o.labels && (o.labels = []);
          var s = 'string' == typeof n ? pK.parseStringLabel(n) : n;
          o.labels.push(s);
        }
        return (
          i &&
            Array.isArray(i) &&
            (o.vertices = i.map(function (e) {
              return t.Point.create(e).toJSON();
            })),
          o
        );
      },
    }),
    pK.registry.register(pQ, pK),
    (t.EdgeView = (function (e) {
      function o() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (t.POINT_ROUNDING = 2), (t.markerCache = {}), t;
      }
      return (
        n(o, e),
        Object.defineProperty(o.prototype, Symbol.toStringTag, {
          get: function () {
            return o.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.getContainerClassName = function () {
          return [
            e.prototype.getContainerClassName.call(this),
            this.prefixClassName('edge'),
          ].join(' ');
        }),
        Object.defineProperty(o.prototype, 'sourceBBox', {
          get: function () {
            var e = this.sourceView;
            if (!e) {
              var n = this.cell.getSource();
              return new t.Rectangle(n.x, n.y);
            }
            var i = this.sourceMagnet;
            return e.isEdgeElement(i)
              ? new t.Rectangle(this.sourceAnchor.x, this.sourceAnchor.y)
              : e.getBBoxOfElement(i || e.container);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(o.prototype, 'targetBBox', {
          get: function () {
            var e = this.targetView;
            if (!e) {
              var n = this.cell.getTarget();
              return new t.Rectangle(n.x, n.y);
            }
            var i = this.targetMagnet;
            return e.isEdgeElement(i)
              ? new t.Rectangle(this.targetAnchor.x, this.targetAnchor.y)
              : e.getBBoxOfElement(i || e.container);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.isEdgeView = function () {
          return !0;
        }),
        (o.prototype.confirmUpdate = function (t, e) {
          var n = this;
          void 0 === e && (e = {});
          var i = t;
          if (this.hasAction(i, 'source')) {
            if (!this.updateTerminalProperties('source')) return i;
            i = this.removeAction(i, 'source');
          }
          if (this.hasAction(i, 'target')) {
            if (!this.updateTerminalProperties('target')) return i;
            i = this.removeAction(i, 'target');
          }
          var r = this.graph,
            o = this.sourceView,
            s = this.targetView;
          return r &&
            ((o && !r.renderer.isViewMounted(o)) ||
              (s && !r.renderer.isViewMounted(s)))
            ? i
            : this.hasAction(i, 'render')
            ? (this.render(),
              (i = this.removeAction(i, [
                'render',
                'update',
                'vertices',
                'labels',
                'tools',
                'widget',
              ])))
            : ((i = this.handleAction(i, 'vertices', function () {
                return n.renderVertexMarkers();
              })),
              (i = this.handleAction(i, 'update', function () {
                return n.update(null, e);
              })),
              (i = this.handleAction(i, 'labels', function () {
                return n.onLabelsChange(e);
              })),
              (i = this.handleAction(i, 'tools', function () {
                n.renderTools(), n.updateToolsPosition();
              })),
              (i = this.handleAction(i, 'widget', function () {
                return n.renderExternalTools();
              })));
        }),
        (o.prototype.onLabelsChange = function (t) {
          void 0 === t && (t = {}),
            this.shouldRerenderLabels(t)
              ? this.renderLabels()
              : this.updateLabels(),
            this.updateLabelPositions();
        }),
        (o.prototype.shouldRerenderLabels = function (t) {
          void 0 === t && (t = {});
          var e = this.cell.previous('labels');
          if (null == e) return !0;
          if ('propertyPathArray' in t && 'propertyValue' in t) {
            var n = t.propertyPathArray || [],
              i = n.length;
            if (i > 1 && e[n[1]]) {
              if (2 === i)
                return (
                  'object' == typeof t.propertyValue &&
                  r$(t.propertyValue, 'markup')
                );
              if ('markup' !== n[2]) return !1;
            }
          }
          return !0;
        }),
        (o.prototype.render = function () {
          return (
            this.empty(),
            (this.containers = {}),
            this.renderMarkup(),
            this.renderLabels(),
            this.update(),
            this.renderExternalTools(),
            this
          );
        }),
        (o.prototype.renderMarkup = function () {
          var t = this.cell.markup;
          if (t)
            return 'string' == typeof t
              ? this.renderStringMarkup(t)
              : this.renderJSONMarkup(t);
          throw TypeError('Invalid edge markup.');
        }),
        (o.prototype.renderJSONMarkup = function (t) {
          var e = this.parseJSONMarkup(t, this.container);
          (this.selectors = e.selectors), this.container.append(e.fragment);
        }),
        (o.prototype.renderStringMarkup = function (e) {
          var n = this.containers,
            i = t.Vector.createVectors(e);
          i.forEach(function (t) {
            var e = t.attr('class');
            e && (n[nM(e)] = t.node);
          }),
            this.renderTools(),
            this.renderVertexMarkers(),
            this.renderArrowheadMarkers(),
            sS(
              this.container,
              i.map(function (t) {
                return t.node;
              })
            );
        }),
        (o.prototype.renderLabels = function () {
          var t = this.cell,
            e = t.getLabels(),
            n = e.length,
            i = this.containers.labels;
          if (((this.labelCache = {}), (this.labelSelectors = {}), n <= 0))
            return i && i.parentNode && i.parentNode.removeChild(i), this;
          i
            ? this.empty(i)
            : ((i = sy('g')),
              this.addClass(this.prefixClassName('edge-labels'), i),
              (this.containers.labels = i));
          for (var r = 0, o = e.length; r < o; r += 1) {
            var s = e[r],
              a = this.normalizeLabelMarkup(this.parseLabelMarkup(s.markup)),
              l = void 0,
              u = void 0;
            if (a) (l = a.node), (u = a.selectors);
            else {
              var c = t.getDefaultLabel(),
                h = this.normalizeLabelMarkup(this.parseLabelMarkup(c.markup));
              (l = h.node), (u = h.selectors);
            }
            l.setAttribute('data-index', '' + r), i.appendChild(l);
            var p = this.rootSelector;
            if (u[p]) throw Error('Ambiguous label root selector.');
            (u[p] = l), (this.labelCache[r] = l), (this.labelSelectors[r] = u);
          }
          return (
            null == i.parentNode && this.container.appendChild(i),
            this.updateLabels(),
            this.customizeLabels(),
            this
          );
        }),
        (o.prototype.parseLabelMarkup = function (t) {
          return t
            ? 'string' == typeof t
              ? this.parseLabelStringMarkup(t)
              : this.parseJSONMarkup(t)
            : null;
        }),
        (o.prototype.parseLabelStringMarkup = function (e) {
          for (
            var n = t.Vector.createVectors(e),
              i = document.createDocumentFragment(),
              r = 0,
              o = n.length;
            r < o;
            r += 1
          ) {
            var s = n[r].node;
            i.appendChild(s);
          }
          return { fragment: i, selectors: {} };
        }),
        (o.prototype.normalizeLabelMarkup = function (e) {
          if (null != e) {
            var n,
              i = e.fragment;
            if (!(i instanceof DocumentFragment && i.hasChildNodes()))
              throw Error('Invalid label markup.');
            var r = i.childNodes;
            return (
              (n =
                r.length > 1 || 'G' !== r[0].nodeName.toUpperCase()
                  ? t.Vector.create('g').append(i)
                  : t.Vector.create(r[0])).addClass(
                this.prefixClassName('edge-label')
              ),
              { node: n.node, selectors: e.selectors }
            );
          }
        }),
        (o.prototype.updateLabels = function () {
          if (this.containers.labels)
            for (
              var e = this.cell,
                n = e.labels,
                i = this.can('edgeLabelMovable'),
                r = e.getDefaultLabel(),
                o = 0,
                s = n.length;
              o < s;
              o += 1
            ) {
              var a = this.labelCache[o],
                l = this.labelSelectors[o];
              a.setAttribute('cursor', i ? 'move' : 'default');
              var u = n[o],
                c = rk({}, r.attrs, u.attrs);
              this.updateAttrs(a, c, {
                selectors: l,
                rootBBox: u.size ? t.Rectangle.fromSize(u.size) : void 0,
              });
            }
        }),
        (o.prototype.mergeLabelAttrs = function (t, e, n) {
          if (null === e) return null;
          if (void 0 === e) {
            if (null === n) return null;
            if (void 0 === n) return;
            return t ? n : rk({}, n);
          }
          return t ? rk({}, n, e) : void 0;
        }),
        (o.prototype.customizeLabels = function () {
          if (this.containers.labels)
            for (
              var t = this.cell, e = t.labels, n = 0, i = e.length;
              n < i;
              n += 1
            ) {
              var r = e[n],
                o = this.labelCache[n],
                s = this.labelSelectors[n];
              this.graph.hook.onEdgeLabelRendered({
                edge: t,
                label: r,
                container: o,
                selectors: s,
              });
            }
        }),
        (o.prototype.renderTools = function () {
          var e = this.containers.tools;
          if (null == e) return this;
          var n = this.cell.toolMarkup,
            i = this.$(e).empty();
          if (t.Markup.isStringMarkup(n)) {
            var r = od(n),
              o = t.Vector.create(r());
            if (
              (i.append(o.node),
              (this.toolCache = o.node),
              this.options.doubleTools)
            ) {
              var s = void 0,
                a = this.cell.doubleToolMarkup;
              t.Markup.isStringMarkup(a)
                ? ((r = od(a)), (s = t.Vector.create(r())))
                : (s = o.clone()),
                i.append(s.node),
                (this.tool2Cache = s.node);
            }
          }
          return this;
        }),
        (o.prototype.renderExternalTools = function () {
          var t = this.cell.getTools();
          return this.addTools(t), this;
        }),
        (o.prototype.renderVertexMarkers = function () {
          var e = this.containers.vertices;
          if (null == e) return this;
          var n = this.cell.vertexMarkup,
            r = this.$(e).empty();
          if (t.Markup.isStringMarkup(n)) {
            var o = od(n);
            this.cell.getVertices().forEach(function (e, n) {
              r.append(t.Vector.create(o(i({ index: n }, e))).node);
            });
          }
          return this;
        }),
        (o.prototype.renderArrowheadMarkers = function () {
          var e = this.containers.arrowheads;
          if (null == e) return this;
          var n = this.cell.arrowheadMarkup,
            i = this.$(e).empty();
          if (t.Markup.isStringMarkup(n)) {
            var r = od(n),
              o = t.Vector.create(r({ end: 'source' })).node,
              s = t.Vector.create(r({ end: 'target' })).node;
            (this.containers.sourceArrowhead = o),
              (this.containers.targetArrowhead = s),
              i.append(o, s);
          }
          return this;
        }),
        (o.prototype.update = function (t, e) {
          void 0 === e && (e = {}), this.cleanCache(), this.updateConnection(e);
          var n = this.cell.getAttrs();
          return (
            null != n &&
              this.updateAttrs(this.container, n, {
                attrs: t === n ? null : t,
                selectors: this.selectors,
              }),
            this.updateConnectionPath(),
            this.updateLabelPositions(),
            this.updateToolsPosition(),
            this.updateArrowheadMarkers(),
            this.updateTools(e),
            this
          );
        }),
        (o.prototype.removeRedundantLinearVertices = function (e) {
          void 0 === e && (e = {});
          var n = this.cell,
            i = n.getVertices(),
            r = s(s([this.sourceAnchor], i, !0), [this.targetAnchor], !1),
            o = r.length,
            a = new t.Polyline(r);
          a.simplify({ threshold: 0.01 });
          var l = a.points.map(function (t) {
              return t.toJSON();
            }),
            u = l.length;
          return o === u ? 0 : (n.setVertices(l.slice(1, u - 1), e), o - u);
        }),
        (o.prototype.updateConnectionPath = function () {
          var t = this.containers;
          if (t.connection) {
            var e = this.getConnectionPathData();
            t.connection.setAttribute('d', e);
          }
          t.connectionWrap &&
            ((e = this.getConnectionPathData()),
            t.connectionWrap.setAttribute('d', e)),
            t.sourceMarker &&
              t.targetMarker &&
              this.translateAndAutoOrientArrows(t.sourceMarker, t.targetMarker);
        }),
        (o.prototype.getTerminalView = function (t) {
          switch (t) {
            case 'source':
              return this.sourceView || null;
            case 'target':
              return this.targetView || null;
            default:
              throw Error("Unknown terminal type '" + t + "'");
          }
        }),
        (o.prototype.getTerminalAnchor = function (e) {
          switch (e) {
            case 'source':
              return t.Point.create(this.sourceAnchor);
            case 'target':
              return t.Point.create(this.targetAnchor);
            default:
              throw Error("Unknown terminal type '" + e + "'");
          }
        }),
        (o.prototype.getTerminalConnectionPoint = function (e) {
          switch (e) {
            case 'source':
              return t.Point.create(this.sourcePoint);
            case 'target':
              return t.Point.create(this.targetPoint);
            default:
              throw Error("Unknown terminal type '" + e + "'");
          }
        }),
        (o.prototype.getTerminalMagnet = function (t, e) {
          switch ((void 0 === e && (e = {}), t)) {
            case 'source':
              if (e.raw) return this.sourceMagnet;
              var n = this.sourceView;
              return n ? this.sourceMagnet || n.container : null;
            case 'target':
              if (e.raw) return this.targetMagnet;
              var i = this.targetView;
              return i ? this.targetMagnet || i.container : null;
            default:
              throw Error("Unknown terminal type '" + t + "'");
          }
        }),
        (o.prototype.updateConnection = function (e) {
          void 0 === e && (e = {});
          var n = this.cell;
          if (e.translateBy && n.isFragmentDescendantOf(e.translateBy)) {
            var i = e.tx || 0,
              r = e.ty || 0;
            (this.routePoints = new t.Polyline(this.routePoints).translate(
              i,
              r
            ).points),
              this.translateConnectionPoints(i, r),
              this.path.translate(i, r);
          } else {
            var o = n.getVertices(),
              s = this.findAnchors(o);
            (this.sourceAnchor = s.source),
              (this.targetAnchor = s.target),
              (this.routePoints = this.findRoutePoints(o));
            var a = this.findConnectionPoints(
              this.routePoints,
              this.sourceAnchor,
              this.targetAnchor
            );
            (this.sourcePoint = a.source), (this.targetPoint = a.target);
            var l = this.findMarkerPoints(
              this.routePoints,
              this.sourcePoint,
              this.targetPoint
            );
            this.path = this.findPath(
              this.routePoints,
              l.source || this.sourcePoint,
              l.target || this.targetPoint
            );
          }
          this.cleanCache();
        }),
        (o.prototype.findAnchors = function (t) {
          var e = this.cell,
            n = e.source,
            i = e.target,
            r = t[0],
            o = t[t.length - 1];
          return i.priority && !n.priority
            ? this.findAnchorsOrdered('target', o, 'source', r)
            : this.findAnchorsOrdered('source', r, 'target', o);
        }),
        (o.prototype.findAnchorsOrdered = function (e, n, i, r) {
          var o,
            s,
            a,
            l = this.cell,
            u = l[e],
            c = l[i],
            h = this.getTerminalView(e),
            p = this.getTerminalView(i),
            d = this.getTerminalMagnet(e),
            f = this.getTerminalMagnet(i);
          if (h) {
            var g = void 0;
            (g = n ? t.Point.create(n) : p ? f : t.Point.create(c)),
              (s = this.getAnchor(u.anchor, h, d, g, e));
          } else s = t.Point.create(u);
          if (p) {
            var $ = t.Point.create(r || s);
            a = this.getAnchor(c.anchor, p, f, $, i);
          } else a = t.Point.isPointLike(c) ? t.Point.create(c) : new t.Point();
          return ((o = {})[e] = s), (o[i] = a), o;
        }),
        (o.prototype.getAnchor = function (e, n, i, r, o) {
          var s,
            a,
            l = n.isEdgeElement(i),
            u = this.graph.options.connecting,
            c = 'string' == typeof e ? { name: e } : e;
          if (!c) {
            var h = l
              ? ('source' === o ? u.sourceEdgeAnchor : u.targetEdgeAnchor) ||
                u.edgeAnchor
              : ('source' === o ? u.sourceAnchor : u.targetAnchor) || u.anchor;
            c = 'string' == typeof h ? { name: h } : h;
          }
          if (!c) throw Error('Anchor should be specified.');
          var p = c.name;
          if (l) {
            if ('function' != typeof (s = hB.registry.get(p)))
              return hB.registry.onNotFound(p);
            a = oZ(s, this, n, i, r, c.args || {}, o);
          } else {
            if ('function' != typeof (s = h5.registry.get(p)))
              return h5.registry.onNotFound(p);
            a = oZ(s, this, n, i, r, c.args || {}, o);
          }
          return a ? a.round(this.POINT_ROUNDING) : new t.Point();
        }),
        (o.prototype.findRoutePoints = function (e) {
          void 0 === e && (e = []);
          var n,
            i = this.graph.options.connecting.router || p_.presets.normal,
            r = this.cell.getRouter() || i;
          if ('function' == typeof r) n = oZ(r, this, e, {}, this);
          else {
            var o = 'string' == typeof r ? r : r.name,
              s = 'string' == typeof r ? {} : r.args || {},
              a = o ? p_.registry.get(o) : p_.presets.normal;
            if ('function' != typeof a) return p_.registry.onNotFound(o);
            n = oZ(a, this, e, s, this);
          }
          return null == n
            ? e.map(function (e) {
                return t.Point.create(e);
              })
            : n.map(function (e) {
                return t.Point.create(e);
              });
        }),
        (o.prototype.findConnectionPoints = function (e, n, i) {
          var r,
            o,
            s = this.cell,
            a = this.graph.options.connecting,
            l = s.getSource(),
            u = s.getTarget(),
            c = this.sourceView,
            h = this.targetView,
            p = e[0],
            d = e[e.length - 1];
          if (c && !c.isEdgeElement(this.sourceMagnet)) {
            var f = this.sourceMagnet || c.container,
              g = new t.Line(p || i, n),
              $ =
                l.connectionPoint ||
                a.sourceConnectionPoint ||
                a.connectionPoint;
            r = this.getConnectionPoint($, c, f, g, 'source');
          } else r = n;
          if (h && !h.isEdgeElement(this.targetMagnet)) {
            var v = this.targetMagnet || h.container,
              y =
                u.connectionPoint ||
                a.targetConnectionPoint ||
                a.connectionPoint,
              m = new t.Line(d || n, i);
            o = this.getConnectionPoint(y, h, v, m, 'target');
          } else o = i;
          return { source: r, target: o };
        }),
        (o.prototype.getConnectionPoint = function (t, e, n, i, r) {
          var o = i.end;
          if (null == t) return o;
          var s = 'string' == typeof t ? t : t.name,
            a = 'string' == typeof t ? {} : t.args,
            l = hH.registry.get(s);
          if ('function' != typeof l) return hH.registry.onNotFound(s);
          var u = oZ(l, this, i, e, n, a || {}, r);
          return u ? u.round(this.POINT_ROUNDING) : o;
        }),
        (o.prototype.updateMarkerAttr = function (t) {
          var e,
            n = this.cell.getAttrs(),
            i = '.' + t + '-marker',
            r = n && n[i];
          r &&
            this.updateAttrs(
              this.container,
              {},
              { attrs: (((e = {})[i] = r), e), selectors: this.selectors }
            );
        }),
        (o.prototype.findMarkerPoints = function (t, e, n) {
          var i,
            r,
            o,
            s = this,
            a = function (t) {
              for (
                var e = s.cell.getAttrs(),
                  n = Object.keys(e),
                  i = 0,
                  r = n.length;
                i < r;
                i += 1
              ) {
                var o = e[n[i]];
                if (o[t + 'Marker'] || o[t + '-marker']) {
                  var a = o.strokeWidth || o['stroke-width'];
                  if (a) return parseFloat(a);
                  break;
                }
              }
              return null;
            },
            l = t[0],
            u = t[t.length - 1],
            c = this.containers.sourceMarker,
            h = this.containers.targetMarker,
            p = this.markerCache;
          if (c) {
            if (
              (this.updateMarkerAttr('source'),
              (p.sourceBBox = p.sourceBBox || ls(c)),
              p.sourceBBox.width > 0)
            ) {
              var d = ly(c);
              i = e.clone().move(l || n, -(p.sourceBBox.width * d.sx * 1));
            }
          } else (o = a('source')) && (i = e.clone().move(l || n, -o));
          return (
            h
              ? (this.updateMarkerAttr('target'),
                (p.targetBBox = p.targetBBox || ls(h)),
                p.targetBBox.width > 0 &&
                  ((d = ly(h)),
                  (r = n
                    .clone()
                    .move(u || e, -(p.targetBBox.width * d.sx * 1)))))
              : (o = a('target')) && (r = n.clone().move(u || e, -o)),
            (p.sourcePoint = i || e.clone()),
            (p.targetPoint = r || n.clone()),
            { source: i, target: r }
          );
        }),
        (o.prototype.findPath = function (e, n, r) {
          var o,
            s,
            a,
            l =
              this.cell.getConnector() ||
              this.graph.options.connecting.connector;
          if (
            ('string' == typeof l ? (o = l) : ((o = l.name), (s = l.args)), o)
          ) {
            var u = pk.registry.get(o);
            if ('function' != typeof u) return pk.registry.onNotFound(o);
            a = u;
          } else a = pk.presets.normal;
          var c = oZ(a, this, n, r, e, i(i({}, s), { raw: !0 }), this);
          return 'string' == typeof c ? t.Path.parse(c) : c;
        }),
        (o.prototype.translateConnectionPoints = function (t, e) {
          var n = this.markerCache;
          n.sourcePoint && n.sourcePoint.translate(t, e),
            n.targetPoint && n.targetPoint.translate(t, e),
            this.sourcePoint.translate(t, e),
            this.targetPoint.translate(t, e),
            this.sourceAnchor.translate(t, e),
            this.targetAnchor.translate(t, e);
        }),
        (o.prototype.updateLabelPositions = function () {
          if (null == this.containers.labels || !this.path) return this;
          var t = this.cell,
            e = t.getLabels();
          if (0 === e.length) return this;
          for (
            var n = t.getDefaultLabel(),
              i = this.normalizeLabelPosition(n.position),
              r = 0,
              o = e.length;
            r < o;
            r += 1
          ) {
            var s = e[r],
              a = this.labelCache[r];
            if (a) {
              var l = rk({}, i, this.normalizeLabelPosition(s.position)),
                u = this.getLabelTransformationMatrix(l);
              a.setAttribute('transform', aY(u));
            }
          }
          return this;
        }),
        (o.prototype.updateToolsPosition = function () {
          if (null == this.containers.tools) return this;
          var t = '',
            e = this.options.toolsOffset,
            n = this.getConnectionLength();
          if (null != n) {
            n < this.options.shortLength && ((t = 'scale(.5)'), (e /= 2));
            var i = this.getPointAtLength(e);
            if (
              (null != i &&
                s7(
                  this.toolCache,
                  'transform',
                  'translate(' + i.x + ',' + i.y + ') ' + t
                ),
              this.options.doubleTools && n >= this.options.longLength)
            ) {
              var r = this.options.doubleToolsOffset || e;
              null != (i = this.getPointAtLength(n - r)) &&
                s7(
                  this.tool2Cache,
                  'transform',
                  'translate(' + i.x + ',' + i.y + ') ' + t
                ),
                s7(this.tool2Cache, 'visibility', 'visible');
            } else
              this.options.doubleTools &&
                s7(this.tool2Cache, 'visibility', 'hidden');
          }
          return this;
        }),
        (o.prototype.updateArrowheadMarkers = function () {
          var t = this.containers.arrowheads;
          if (null == t || 'none' === t.style.display) return this;
          var e = this.containers.sourceArrowhead,
            n = this.containers.targetArrowhead;
          if (e && n) {
            var i =
              (this.getConnectionLength() || 0) < this.options.shortLength
                ? 0.5
                : 1;
            ly(e, i), ly(n, i), this.translateAndAutoOrientArrows(e, n);
          }
          return this;
        }),
        (o.prototype.updateTerminalProperties = function (t) {
          var e = this.cell,
            n = this.graph,
            i = e[t],
            r = i && i.cell,
            o = t + 'View';
          if (!r) return (this[o] = null), this.updateTerminalMagnet(t), !0;
          var s = n.getCellById(r);
          if (!s)
            throw Error("Edge's " + t + ' node with id "' + r + '" not exists');
          var a = s.findView(n);
          return !!a && ((this[o] = a), this.updateTerminalMagnet(t), !0);
        }),
        (o.prototype.updateTerminalMagnet = function (t) {
          var e = t + 'Magnet',
            n = this.getTerminalView(t);
          if (n) {
            var i = n.getMagnetFromEdgeTerminal(this.cell[t]);
            i === n.container && (i = null), (this[e] = i);
          } else this[e] = null;
        }),
        (o.prototype.translateAndAutoOrientArrows = function (t, e) {
          var n = this.routePoints;
          t &&
            lm(
              t,
              this.sourcePoint,
              n[0] || this.targetPoint,
              this.graph.view.stage
            ),
            e &&
              lm(
                e,
                this.targetPoint,
                n[n.length - 1] || this.sourcePoint,
                this.graph.view.stage
              );
        }),
        (o.prototype.getLabelPositionAngle = function (t) {
          var e = this.cell.getLabelAt(t);
          return (
            (e &&
              e.position &&
              'object' == typeof e.position &&
              e.position.angle) ||
            0
          );
        }),
        (o.prototype.getLabelPositionArgs = function (t) {
          var e = this.cell.getLabelAt(t);
          if (e && e.position && 'object' == typeof e.position)
            return e.position.options;
        }),
        (o.prototype.getDefaultLabelPositionArgs = function () {
          var t = this.cell.getDefaultLabel();
          if (t && t.position && 'object' == typeof t.position)
            return t.position.options;
        }),
        (o.prototype.mergeLabelPositionArgs = function (t, e) {
          return null === t
            ? null
            : void 0 === t
            ? null === e
              ? null
              : e
            : rk({}, e, t);
        }),
        (o.prototype.addLabel = function (t, e, n, i) {
          var r,
            o,
            s,
            a = 0;
          'number' != typeof t
            ? ((r = t.x),
              (o = t.y),
              'number' == typeof e ? ((a = e), (s = n)) : (s = e))
            : ((r = t),
              (o = e),
              'number' == typeof n ? ((a = n), (s = i)) : (s = n));
          var l = this.getDefaultLabelPositionArgs(),
            u = s,
            c = this.mergeLabelPositionArgs(u, l),
            h = { position: this.getLabelPosition(r, o, a, c) };
          return this.cell.insertLabel(h, -1, s), -1;
        }),
        (o.prototype.addVertex = function (t, e, n) {
          var i = 'number' != typeof t,
            r = i ? t.x : t,
            o = i ? t.y : e,
            s = this.getVertexIndex(r, o);
          return this.cell.insertVertex({ x: r, y: o }, s, i ? e : n), s;
        }),
        (o.prototype.sendToken = function (e, n, i) {
          var o,
            s,
            a,
            l,
            u = 'linear';
          'object' == typeof n
            ? ((o = n.duration),
              (s = !0 === n.reversed),
              (a = n.selector),
              !1 === n.rotate
                ? (l = '')
                : !0 === n.rotate
                ? (l = 'auto')
                : null != n.rotate && (l = '' + n.rotate),
              n.timing && (u = n.timing))
            : ((o = n), (s = !1), (a = null));
          var c,
            h = {
              dur: (o = o || 1e3) + 'ms',
              repeatCount: '1',
              calcMode: u,
              fill: 'freeze',
            };
          if (
            (l && (h.rotate = l),
            s && ((h.keyPoints = '1;0'), (h.keyTimes = '0;1')),
            'object' == typeof n)
          ) {
            n.duration, n.reversed, n.selector, n.rotate, n.timing;
            var p = r(n, [
              'duration',
              'reversed',
              'selector',
              'rotate',
              'timing',
            ]);
            Object.keys(p).forEach(function (t) {
              h[t] = p[t];
            });
          }
          if (
            !(
              (c =
                'string' == typeof a
                  ? this.findOne(a, this.container, this.selectors)
                  : this.containers.connection
                  ? this.containers.connection
                  : this.container.querySelector('path')) instanceof
              SVGPathElement
            )
          )
            throw Error('Token animation requires a valid connection path.');
          var d = 'string' == typeof e ? this.findOne(e) : e;
          if (null == d)
            throw Error('Token animation requires a valid token element.');
          var f = d.parentNode,
            g = function () {
              f || sA(d);
            },
            $ = t.Vector.create(d);
          f || $.appendTo(this.graph.view.stage);
          var v = h.complete;
          h.complete = function (t) {
            g(), i && i(), v && v(t);
          };
          var y = $.animateAlongPath(h, c);
          return function () {
            g(), y();
          };
        }),
        (o.prototype.getConnection = function () {
          return null != this.path ? this.path.clone() : null;
        }),
        (o.prototype.getConnectionPathData = function () {
          if (null == this.path) return '';
          var t = this.cache.pathCache;
          return (
            r$(t, 'data') || (t.data = this.path.serialize()), t.data || ''
          );
        }),
        (o.prototype.getConnectionSubdivisions = function () {
          if (null == this.path) return null;
          var t = this.cache.pathCache;
          return (
            r$(t, 'segmentSubdivisions') ||
              (t.segmentSubdivisions = this.path.getSegmentSubdivisions()),
            t.segmentSubdivisions
          );
        }),
        (o.prototype.getConnectionLength = function () {
          if (null == this.path) return 0;
          var t = this.cache.pathCache;
          return (
            r$(t, 'length') ||
              (t.length = this.path.length({
                segmentSubdivisions: this.getConnectionSubdivisions(),
              })),
            t.length
          );
        }),
        (o.prototype.getPointAtLength = function (t) {
          return null == this.path
            ? null
            : this.path.pointAtLength(t, {
                segmentSubdivisions: this.getConnectionSubdivisions(),
              });
        }),
        (o.prototype.getPointAtRatio = function (t) {
          return null == this.path
            ? null
            : (oq(t) && (t = parseFloat(t) / 100),
              this.path.pointAt(t, {
                segmentSubdivisions: this.getConnectionSubdivisions(),
              }));
        }),
        (o.prototype.getTangentAtLength = function (t) {
          return null == this.path
            ? null
            : this.path.tangentAtLength(t, {
                segmentSubdivisions: this.getConnectionSubdivisions(),
              });
        }),
        (o.prototype.getTangentAtRatio = function (t) {
          return null == this.path
            ? null
            : this.path.tangentAt(t, {
                segmentSubdivisions: this.getConnectionSubdivisions(),
              });
        }),
        (o.prototype.getClosestPoint = function (t) {
          return null == this.path
            ? null
            : this.path.closestPoint(t, {
                segmentSubdivisions: this.getConnectionSubdivisions(),
              });
        }),
        (o.prototype.getClosestPointLength = function (t) {
          return null == this.path
            ? null
            : this.path.closestPointLength(t, {
                segmentSubdivisions: this.getConnectionSubdivisions(),
              });
        }),
        (o.prototype.getClosestPointRatio = function (t) {
          return null == this.path
            ? null
            : this.path.closestPointNormalizedLength(t, {
                segmentSubdivisions: this.getConnectionSubdivisions(),
              });
        }),
        (o.prototype.getLabelPosition = function (e, n, i, r) {
          var o,
            s = { distance: 0 },
            a = 0;
          'number' == typeof i ? ((a = i), (o = r)) : (o = i),
            null != o && (s.options = o);
          var l,
            u,
            c = o && o.absoluteOffset,
            h = !(o && o.absoluteDistance),
            p = o && o.absoluteDistance && o.reverseDistance,
            d = this.path,
            f = { segmentSubdivisions: this.getConnectionSubdivisions() },
            g = new t.Point(e, n),
            $ = d.closestPointT(g, f),
            v = this.getConnectionLength() || 0,
            y = d.lengthAtT($, f);
          if (
            (h && (y = v > 0 ? y / v : 0),
            p && (y = -1 * (v - y) || 1),
            (s.distance = y),
            c || (l = d.tangentAtT($)),
            l)
          )
            u = l.pointOffset(g);
          else {
            var m = d.pointAtT($),
              _ = g.diff(m);
            u = { x: _.x, y: _.y };
          }
          return (s.offset = u), (s.angle = a), s;
        }),
        (o.prototype.normalizeLabelPosition = function (t) {
          return 'number' == typeof t ? { distance: t } : t;
        }),
        (o.prototype.getLabelTransformationMatrix = function (e) {
          var n = this.normalizeLabelPosition(e),
            i = n.options || {},
            r = n.angle || 0,
            o = n.distance,
            s = 0,
            a = { x: 0, y: 0 },
            l = n.offset;
          l &&
            ('number' == typeof l
              ? (s = l)
              : (null != l.x && (a.x = l.x), null != l.y && (a.y = l.y)));
          var u,
            c = 0 !== a.x || 0 !== a.y || 0 === s,
            h = i.keepGradient,
            p = i.ensureLegibility,
            d = this.path,
            f = { segmentSubdivisions: this.getConnectionSubdivisions() },
            g = o > 0 && o <= 1 ? o * this.getConnectionLength() : o,
            $ = d.tangentAtLength(g, f),
            v = r;
          if ($) {
            if (c) (u = $.start).translate(a);
            else {
              var y = $.clone();
              y.rotate(-90, $.start), y.setLength(s), (u = y.end);
            }
            h &&
              ((v = $.angle() + r),
              p && (v = t.Angle.normalize(((v + 90) % 180) - 90)));
          } else (u = d.start), c && u.translate(a);
          return a9().translate(u.x, u.y).rotate(v);
        }),
        (o.prototype.getLabelCoordinates = function (e) {
          var n = this.getLabelTransformationMatrix(e);
          return new t.Point(n.e, n.f);
        }),
        (o.prototype.getVertexIndex = function (e, n) {
          var i = this.cell.getVertices(),
            r = this.getClosestPointLength(new t.Point(e, n)),
            o = 0;
          if (null != r)
            for (var s = i.length; o < s; o += 1) {
              var a = i[o],
                l = this.getClosestPointLength(a);
              if (null != l && r < l) break;
            }
          return o;
        }),
        (o.prototype.getEventArgs = function (t, e, n) {
          var i = this.cell;
          return null == e || null == n
            ? { e: t, view: this, edge: i, cell: i }
            : { e: t, x: e, y: n, view: this, edge: i, cell: i };
        }),
        (o.prototype.notifyUnhandledMouseDown = function (t, e, n) {
          this.notify('edge:unhandled:mousedown', {
            e: t,
            x: e,
            y: n,
            view: this,
            cell: this.cell,
            edge: this.cell,
          });
        }),
        (o.prototype.notifyMouseDown = function (t, n, i) {
          e.prototype.onMouseDown.call(this, t, n, i),
            this.notify('edge:mousedown', this.getEventArgs(t, n, i));
        }),
        (o.prototype.notifyMouseMove = function (t, n, i) {
          e.prototype.onMouseMove.call(this, t, n, i),
            this.notify('edge:mousemove', this.getEventArgs(t, n, i));
        }),
        (o.prototype.notifyMouseUp = function (t, n, i) {
          e.prototype.onMouseUp.call(this, t, n, i),
            this.notify('edge:mouseup', this.getEventArgs(t, n, i));
        }),
        (o.prototype.onClick = function (t, n, i) {
          e.prototype.onClick.call(this, t, n, i),
            this.notify('edge:click', this.getEventArgs(t, n, i));
        }),
        (o.prototype.onDblClick = function (t, n, i) {
          e.prototype.onDblClick.call(this, t, n, i),
            this.notify('edge:dblclick', this.getEventArgs(t, n, i));
        }),
        (o.prototype.onContextMenu = function (t, n, i) {
          e.prototype.onContextMenu.call(this, t, n, i),
            this.notify('edge:contextmenu', this.getEventArgs(t, n, i));
        }),
        (o.prototype.onMouseDown = function (t, e, n) {
          switch (
            (this.notifyMouseDown(t, e, n), t.target.getAttribute('class'))
          ) {
            case 'vertex':
              return void this.startVertexDragging(t, e, n);
            case 'vertex-remove':
            case 'vertex-remove-area':
              return void this.handleVertexRemoving(t, e, n);
            case 'connection':
            case 'connection-wrap':
              return void this.handleVertexAdding(t, e, n);
            case 'arrowhead':
              return void this.startArrowheadDragging(t, e, n);
            case 'source-marker':
            case 'target-marker':
              return void this.notifyUnhandledMouseDown(t, e, n);
          }
          this.startEdgeDragging(t, e, n);
        }),
        (o.prototype.onMouseMove = function (t, e, n) {
          var i = this.getEventData(t);
          switch (i.action) {
            case 'drag-vertex':
              this.dragVertex(t, e, n);
              break;
            case 'drag-label':
              this.dragLabel(t, e, n);
              break;
            case 'drag-arrowhead':
              this.dragArrowhead(t, e, n);
              break;
            case 'drag-edge':
              this.dragEdge(t, e, n);
          }
          return this.notifyMouseMove(t, e, n), i;
        }),
        (o.prototype.onMouseUp = function (t, e, n) {
          var i = this.getEventData(t);
          switch (i.action) {
            case 'drag-vertex':
              this.stopVertexDragging(t, e, n);
              break;
            case 'drag-label':
              this.stopLabelDragging(t, e, n);
              break;
            case 'drag-arrowhead':
              this.stopArrowheadDragging(t, e, n);
              break;
            case 'drag-edge':
              this.stopEdgeDragging(t, e, n);
          }
          return this.notifyMouseUp(t, e, n), this.checkMouseleave(t), i;
        }),
        (o.prototype.onMouseOver = function (t) {
          e.prototype.onMouseOver.call(this, t),
            this.notify('edge:mouseover', this.getEventArgs(t));
        }),
        (o.prototype.onMouseOut = function (t) {
          e.prototype.onMouseOut.call(this, t),
            this.notify('edge:mouseout', this.getEventArgs(t));
        }),
        (o.prototype.onMouseEnter = function (t) {
          e.prototype.onMouseEnter.call(this, t),
            this.notify('edge:mouseenter', this.getEventArgs(t));
        }),
        (o.prototype.onMouseLeave = function (t) {
          e.prototype.onMouseLeave.call(this, t),
            this.notify('edge:mouseleave', this.getEventArgs(t));
        }),
        (o.prototype.onMouseWheel = function (t, n, r, o) {
          e.prototype.onMouseWheel.call(this, t, n, r, o),
            this.notify(
              'edge:mousewheel',
              i({ delta: o }, this.getEventArgs(t, n, r))
            );
        }),
        (o.prototype.onCustomEvent = function (t, n, r, o) {
          if (s1(t.target, 'edge-tool', this.container)) {
            if ((t.stopPropagation(), this.can('useEdgeTools'))) {
              if ('edge:remove' === n) return void this.cell.remove({ ui: !0 });
              this.notify(
                'edge:customevent',
                i({ name: n }, this.getEventArgs(t, r, o))
              );
            }
            this.notifyMouseDown(t, r, o);
          } else
            this.notify(
              'edge:customevent',
              i({ name: n }, this.getEventArgs(t, r, o))
            ),
              e.prototype.onCustomEvent.call(this, t, n, r, o);
        }),
        (o.prototype.onLabelMouseDown = function (t, e, n) {
          this.notifyMouseDown(t, e, n),
            this.startLabelDragging(t, e, n),
            this.getEventData(t).stopPropagation && t.stopPropagation();
        }),
        (o.prototype.startEdgeDragging = function (t, e, n) {
          this.can('edgeMovable')
            ? this.setEventData(t, {
                x: e,
                y: n,
                moving: !1,
                action: 'drag-edge',
              })
            : this.notifyUnhandledMouseDown(t, e, n);
        }),
        (o.prototype.dragEdge = function (t, e, n) {
          var i = this.getEventData(t);
          i.moving ||
            ((i.moving = !0),
            this.addClass('edge-moving'),
            this.notify('edge:move', {
              e: t,
              x: e,
              y: n,
              view: this,
              cell: this.cell,
              edge: this.cell,
            })),
            this.cell.translate(e - i.x, n - i.y, { ui: !0 }),
            this.setEventData(t, { x: e, y: n }),
            this.notify('edge:moving', {
              e: t,
              x: e,
              y: n,
              view: this,
              cell: this.cell,
              edge: this.cell,
            });
        }),
        (o.prototype.stopEdgeDragging = function (t, e, n) {
          var i = this.getEventData(t);
          i.moving &&
            (this.removeClass('edge-moving'),
            this.notify('edge:moved', {
              e: t,
              x: e,
              y: n,
              view: this,
              cell: this.cell,
              edge: this.cell,
            })),
            (i.moving = !1);
        }),
        (o.prototype.prepareArrowheadDragging = function (t, e) {
          var n = this.getTerminalMagnet(t),
            i = {
              action: 'drag-arrowhead',
              x: e.x,
              y: e.y,
              isNewEdge: !0 === e.isNewEdge,
              terminalType: t,
              initialMagnet: n,
              initialTerminal: iC(this.cell[t]),
              fallbackAction: e.fallbackAction || 'revert',
              getValidateConnectionArgs: this.createValidateConnectionArgs(t),
              options: e.options,
            };
          return this.beforeArrowheadDragging(i), i;
        }),
        (o.prototype.createValidateConnectionArgs = function (t) {
          var e,
            n = [];
          (n[4] = t), (n[5] = this);
          var i = 0,
            r = 0;
          'source' === t
            ? ((i = 2), (e = 'target'))
            : ((r = 2), (e = 'source'));
          var o = this.cell[e],
            s = o.cell;
          if (s) {
            var a = void 0,
              l = (n[i] = this.graph.renderer.findViewByCell(s));
            l &&
              (a = l.getMagnetFromEdgeTerminal(o)) === l.container &&
              (a = void 0),
              (n[i + 1] = a);
          }
          return function (t, e) {
            return (n[r] = t), (n[r + 1] = t.container === e ? void 0 : e), n;
          };
        }),
        (o.prototype.beforeArrowheadDragging = function (t) {
          (t.zIndex = this.cell.zIndex), this.cell.toFront();
          var e = this.container.style;
          (t.pointerEvents = e.pointerEvents),
            (e.pointerEvents = 'none'),
            this.graph.options.connecting.highlight &&
              this.highlightAvailableMagnets(t);
        }),
        (o.prototype.afterArrowheadDragging = function (t) {
          null != t.zIndex &&
            (this.cell.setZIndex(t.zIndex, { ui: !0 }), (t.zIndex = null)),
            (this.container.style.pointerEvents = t.pointerEvents || ''),
            this.graph.options.connecting.highlight &&
              this.unhighlightAvailableMagnets(t);
        }),
        (o.prototype.arrowheadDragging = function (t, e, n, r) {
          var o;
          (r.x = e),
            (r.y = n),
            r.currentTarget !== t &&
              (r.currentMagnet &&
                r.currentView &&
                r.currentView.unhighlight(r.currentMagnet, {
                  type: 'magnetAdsorbed',
                }),
              (r.currentView = this.graph.renderer.findViewByElem(t)),
              r.currentView
                ? ((r.currentMagnet = r.currentView.findMagnet(t)),
                  r.currentMagnet &&
                  (o = this.graph.hook).validateConnection.apply(
                    o,
                    s(
                      s(
                        [],
                        r.getValidateConnectionArgs(
                          r.currentView,
                          r.currentMagnet
                        ),
                        !1
                      ),
                      [
                        r.currentView.getEdgeTerminal(
                          r.currentMagnet,
                          e,
                          n,
                          this.cell,
                          r.terminalType
                        ),
                      ],
                      !1
                    )
                  )
                    ? r.currentView.highlight(r.currentMagnet, {
                        type: 'magnetAdsorbed',
                      })
                    : (r.currentMagnet = null))
                : (r.currentMagnet = null)),
            (r.currentTarget = t),
            this.cell.prop(
              r.terminalType,
              { x: e, y: n },
              i(i({}, r.options), { ui: !0 })
            );
        }),
        (o.prototype.arrowheadDragged = function (t, e, n) {
          var i = t.currentView,
            r = t.currentMagnet;
          if (r && i) {
            i.unhighlight(r, { type: 'magnetAdsorbed' });
            var o = t.terminalType,
              s = i.getEdgeTerminal(r, e, n, this.cell, o);
            this.cell.setTerminal(o, s, { ui: !0 });
          }
        }),
        (o.prototype.snapArrowhead = function (e, n, r) {
          var o = this,
            a = this.graph,
            l = a.options.connecting,
            u = l.snap,
            c = l.allowEdge,
            h = ('object' == typeof u && u.radius) || 50,
            p = { x: e - h, y: n - h, width: 2 * h, height: 2 * h },
            d = a.renderer.findViewsInArea(p);
          if (c) {
            var f = a.renderer.findEdgeViewsInArea(p).filter(function (t) {
              return t !== o;
            });
            d.push.apply(d, f);
          }
          var g,
            $ = r.closestView || null,
            v = r.closestMagnet || null;
          (r.closestView = null), (r.closestMagnet = null);
          var y,
            m = Number.MAX_SAFE_INTEGER,
            _ = new t.Point(e, n);
          d.forEach(function (t) {
            var i;
            'false' !== t.container.getAttribute('magnet') &&
              (g = t.cell.getBBox().getCenter().distance(_)) < h &&
              g < m &&
              (v === t.container ||
                (i = a.hook).validateConnection.apply(
                  i,
                  s(
                    s([], r.getValidateConnectionArgs(t, null), !1),
                    [
                      t.getEdgeTerminal(
                        t.container,
                        e,
                        n,
                        o.cell,
                        r.terminalType
                      ),
                    ],
                    !1
                  )
                )) &&
              ((m = g), (r.closestView = t), (r.closestMagnet = t.container)),
              t.container.querySelectorAll('[magnet]').forEach(function (i) {
                var l;
                if ('false' !== i.getAttribute('magnet')) {
                  var u = t.getBBoxOfElement(i);
                  (g = _.distance(u.getCenter())) < h &&
                    g < m &&
                    (v === i ||
                      (l = a.hook).validateConnection.apply(
                        l,
                        s(
                          s([], r.getValidateConnectionArgs(t, i), !1),
                          [t.getEdgeTerminal(i, e, n, o.cell, r.terminalType)],
                          !1
                        )
                      )) &&
                    ((m = g), (r.closestView = t), (r.closestMagnet = i));
                }
              });
          });
          var C = r.terminalType,
            b = r.closestView,
            x = r.closestMagnet,
            w = v !== x;
          if (($ && w && $.unhighlight(v, { type: 'magnetAdsorbed' }), b)) {
            if (!w) return;
            b.highlight(x, { type: 'magnetAdsorbed' }),
              (y = b.getEdgeTerminal(x, e, n, this.cell, C));
          } else y = { x: e, y: n };
          this.cell.setTerminal(C, y, {}, i(i({}, r.options), { ui: !0 }));
        }),
        (o.prototype.snapArrowheadEnd = function (t) {
          var e = t.closestView,
            n = t.closestMagnet;
          e &&
            n &&
            (e.unhighlight(n, { type: 'magnetAdsorbed' }),
            (t.currentMagnet = e.findMagnet(n))),
            (t.closestView = null),
            (t.closestMagnet = null);
        }),
        (o.prototype.finishEmbedding = function (t) {
          this.graph.options.embedding.enabled &&
            this.cell.updateParent() &&
            (t.zIndex = null);
        }),
        (o.prototype.fallbackConnection = function (t) {
          'remove' === t.fallbackAction
            ? this.cell.remove({ ui: !0 })
            : this.cell.prop(t.terminalType, t.initialTerminal, { ui: !0 });
        }),
        (o.prototype.notifyConnectionEvent = function (e, n) {
          var i = e.terminalType,
            r = e.initialTerminal,
            o = this.cell[i];
          if (o && !t.Edge.equalTerminals(r, o)) {
            var s = this.graph,
              a = r,
              l = a.cell ? s.getCellById(a.cell) : null,
              u = a.port,
              c = l ? s.findViewByCell(l) : null,
              h = l || e.isNewEdge ? null : t.Point.create(r).toJSON(),
              p = o,
              d = p.cell ? s.getCellById(p.cell) : null,
              f = p.port,
              g = d ? s.findViewByCell(d) : null,
              $ = d ? null : t.Point.create(o).toJSON();
            this.notify('edge:connected', {
              e: n,
              previousCell: l,
              previousPort: u,
              previousView: c,
              previousPoint: h,
              currentCell: d,
              currentView: g,
              currentPort: f,
              currentPoint: $,
              previousMagnet: e.initialMagnet,
              currentMagnet: e.currentMagnet,
              edge: this.cell,
              view: this,
              type: i,
              isNew: e.isNewEdge,
            });
          }
        }),
        (o.prototype.highlightAvailableMagnets = function (t) {
          var e = this,
            n = this.graph,
            i = n.model.getCells();
          t.marked = {};
          for (
            var r = function (r, o) {
                var a = n.renderer.findViewByCell(i[r]);
                if (!a) return 'continue';
                var l = Array.prototype.slice.call(
                  a.container.querySelectorAll('[magnet]')
                );
                'false' !== a.container.getAttribute('magnet') &&
                  l.push(a.container);
                var u = l.filter(function (i) {
                  var r;
                  return (r = n.hook).validateConnection.apply(
                    r,
                    s(
                      s([], t.getValidateConnectionArgs(a, i), !1),
                      [a.getEdgeTerminal(i, t.x, t.y, e.cell, t.terminalType)],
                      !1
                    )
                  );
                });
                if (u.length > 0) {
                  for (var c = 0, h = u.length; c < h; c += 1)
                    a.highlight(u[c], { type: 'magnetAvailable' });
                  a.highlight(null, { type: 'nodeAvailable' }),
                    (t.marked[a.cell.id] = u);
                }
              },
              o = 0,
              a = i.length;
            o < a;
            o += 1
          )
            r(o);
        }),
        (o.prototype.unhighlightAvailableMagnets = function (t) {
          var e = this,
            n = t.marked || {};
          Object.keys(n).forEach(function (t) {
            var i = e.graph.renderer.findViewByCell(t);
            i &&
              (n[t].forEach(function (t) {
                i.unhighlight(t, { type: 'magnetAvailable' });
              }),
              i.unhighlight(null, { type: 'nodeAvailable' }));
          }),
            (t.marked = null);
        }),
        (o.prototype.startArrowheadDragging = function (t, e, n) {
          if (this.can('arrowheadMovable')) {
            var i = t.target.getAttribute('data-terminal'),
              r = this.prepareArrowheadDragging(i, { x: e, y: n });
            this.setEventData(t, r);
          } else this.notifyUnhandledMouseDown(t, e, n);
        }),
        (o.prototype.dragArrowhead = function (t, e, n) {
          var i = this.getEventData(t);
          this.graph.options.connecting.snap
            ? this.snapArrowhead(e, n, i)
            : this.arrowheadDragging(this.getEventTarget(t), e, n, i);
        }),
        (o.prototype.stopArrowheadDragging = function (t, e, n) {
          var i = this.graph,
            r = this.getEventData(t);
          i.options.connecting.snap
            ? this.snapArrowheadEnd(r)
            : this.arrowheadDragged(r, e, n),
            i.hook.validateEdge(this.cell, r.terminalType, r.initialTerminal)
              ? (this.finishEmbedding(r), this.notifyConnectionEvent(r, t))
              : this.fallbackConnection(r),
            this.afterArrowheadDragging(r);
        }),
        (o.prototype.startLabelDragging = function (t, e, n) {
          if (this.can('edgeLabelMovable')) {
            var i = parseInt(t.currentTarget.getAttribute('data-index'), 10),
              r = this.getLabelPositionAngle(i),
              o = this.getLabelPositionArgs(i),
              s = this.getDefaultLabelPositionArgs(),
              a = this.mergeLabelPositionArgs(o, s);
            this.setEventData(t, {
              index: i,
              positionAngle: r,
              positionArgs: a,
              stopPropagation: !0,
              action: 'drag-label',
            });
          } else this.setEventData(t, { stopPropagation: !0 });
          this.graph.view.delegateDragEvents(t, this);
        }),
        (o.prototype.dragLabel = function (t, e, n) {
          var i = this.getEventData(t),
            r = rk({}, this.cell.getLabelAt(i.index), {
              position: this.getLabelPosition(
                e,
                n,
                i.positionAngle,
                i.positionArgs
              ),
            });
          this.cell.setLabelAt(i.index, r);
        }),
        (o.prototype.stopLabelDragging = function (t, e, n) {}),
        (o.prototype.handleVertexAdding = function (t, e, n) {
          if (this.can('vertexAddable')) {
            var i = this.addVertex({ x: e, y: n }, { ui: !0 });
            this.setEventData(t, { index: i, action: 'drag-vertex' });
          } else this.notifyUnhandledMouseDown(t, e, n);
        }),
        (o.prototype.handleVertexRemoving = function (t, e, n) {
          if (this.can('vertexDeletable')) {
            var i = parseInt(t.target.getAttribute('idx'), 10);
            this.cell.removeVertexAt(i);
          } else this.notifyUnhandledMouseDown(t, e, n);
        }),
        (o.prototype.startVertexDragging = function (t, e, n) {
          if (this.can('vertexMovable')) {
            var i = parseInt(t.target.getAttribute('idx'), 10);
            this.setEventData(t, { index: i, action: 'drag-vertex' });
          } else this.notifyUnhandledMouseDown(t, e, n);
        }),
        (o.prototype.dragVertex = function (t, e, n) {
          var i = this.getEventData(t);
          this.cell.setVertexAt(i.index, { x: e, y: n }, { ui: !0 });
        }),
        (o.prototype.stopVertexDragging = function (t, e, n) {}),
        o
      );
    })(t.CellView)),
    ((pU = t.EdgeView || (t.EdgeView = {})).toStringTag = 'X6.' + pU.name),
    (pU.isEdgeView = function (t) {
      if (null == t) return !1;
      if (t instanceof pU) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === pU.toStringTag) &&
        'function' == typeof n.isNodeView &&
        'function' == typeof n.isEdgeView &&
        'function' == typeof n.confirmUpdate &&
        'function' == typeof n.update &&
        'function' == typeof n.getConnection
      );
    }),
    t.EdgeView.config({
      isSvgElement: !0,
      priority: 1,
      bootstrap: ['render', 'source', 'target'],
      actions: {
        view: ['render'],
        markup: ['render'],
        attrs: ['update'],
        source: ['source', 'update'],
        target: ['target', 'update'],
        router: ['update'],
        connector: ['update'],
        labels: ['labels'],
        defaultLabel: ['labels'],
        vertices: ['vertices', 'update'],
        vertexMarkup: ['vertices'],
        toolMarkup: ['tools'],
        tools: ['widget'],
      },
      shortLength: 105,
      longLength: 155,
      toolsOffset: 40,
      doubleTools: !1,
      doubleToolsOffset: 65,
      sampleInterval: 50,
    }),
    t.EdgeView.registry.register('edge', t.EdgeView, !0),
    (t.NodeView = (function (e) {
      function r() {
        var n = (null !== e && e.apply(this, arguments)) || this;
        return (
          (n.scalableNode = null),
          (n.rotatableNode = null),
          (n.scalableSelector = 'scalable'),
          (n.rotatableSelector = 'rotatable'),
          (n.defaultPortMarkup = t.Markup.getPortMarkup()),
          (n.defaultPortLabelMarkup = t.Markup.getPortLabelMarkup()),
          (n.defaultPortContainerMarkup = t.Markup.getPortContainerMarkup()),
          (n.portsCache = {}),
          n
        );
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, Symbol.toStringTag, {
          get: function () {
            return r.toStringTag;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.getContainerClassName = function () {
          var t = [
            e.prototype.getContainerClassName.call(this),
            this.prefixClassName('node'),
          ];
          return (
            this.can('nodeMovable') ||
              t.push(this.prefixClassName('node-immovable')),
            t.join(' ')
          );
        }),
        (r.prototype.updateClassName = function (t) {
          var e = t.target;
          if (e.hasAttribute('magnet')) {
            var n = this.prefixClassName('port-unconnectable');
            this.can('magnetConnectable') ? su(e, n) : sl(e, n);
          } else
            (n = this.prefixClassName('node-immovable')),
              this.can('nodeMovable') ? this.removeClass(n) : this.addClass(n);
        }),
        (r.prototype.isNodeView = function () {
          return !0;
        }),
        (r.prototype.confirmUpdate = function (t, e) {
          var n = this;
          void 0 === e && (e = {});
          var i = t;
          return (
            this.hasAction(i, 'ports') &&
              (this.removePorts(), this.cleanPortsCache()),
            this.hasAction(i, 'render')
              ? (this.render(),
                (i = this.removeAction(i, [
                  'render',
                  'update',
                  'resize',
                  'translate',
                  'rotate',
                  'ports',
                  'tools',
                ])))
              : ((i = this.handleAction(
                  i,
                  'resize',
                  function () {
                    return n.resize(e);
                  },
                  'update'
                )),
                (i = this.handleAction(
                  i,
                  'update',
                  function () {
                    return n.update();
                  },
                  ce.useCSSSelector ? 'ports' : null
                )),
                (i = this.handleAction(i, 'translate', function () {
                  return n.translate();
                })),
                (i = this.handleAction(i, 'rotate', function () {
                  return n.rotate();
                })),
                (i = this.handleAction(i, 'ports', function () {
                  return n.renderPorts();
                })),
                (i = this.handleAction(i, 'tools', function () {
                  return n.renderTools();
                }))),
            i
          );
        }),
        (r.prototype.update = function (e) {
          this.cleanCache(), ce.useCSSSelector && this.removePorts();
          var n = this.cell,
            i = n.getSize(),
            r = n.getAttrs();
          this.updateAttrs(this.container, r, {
            attrs: e === r ? null : e,
            rootBBox: new t.Rectangle(0, 0, i.width, i.height),
            selectors: this.selectors,
            scalableNode: this.scalableNode,
            rotatableNode: this.rotatableNode,
          }),
            ce.useCSSSelector && this.renderPorts();
        }),
        (r.prototype.renderMarkup = function () {
          var t = this.cell.markup;
          if (t)
            return 'string' == typeof t
              ? this.renderStringMarkup(t)
              : this.renderJSONMarkup(t);
          throw TypeError('Invalid node markup.');
        }),
        (r.prototype.renderJSONMarkup = function (t) {
          var e = this.parseJSONMarkup(t, this.container),
            n = function (t) {
              return Array.isArray(t) ? t[0] : t;
            };
          (this.selectors = e.selectors),
            (this.rotatableNode = n(this.selectors[this.rotatableSelector])),
            (this.scalableNode = n(this.selectors[this.scalableSelector])),
            this.container.appendChild(e.fragment);
        }),
        (r.prototype.renderStringMarkup = function (e) {
          sS(this.container, t.Vector.toNodes(t.Vector.createVectors(e))),
            (this.rotatableNode = sw(
              this.container,
              '.' + this.rotatableSelector
            )),
            (this.scalableNode = sw(
              this.container,
              '.' + this.scalableSelector
            )),
            (this.selectors = {}),
            this.rootSelector &&
              (this.selectors[this.rootSelector] = this.container);
        }),
        (r.prototype.render = function () {
          return (
            this.empty(),
            this.renderMarkup(),
            this.scalableNode && this.update(),
            this.resize(),
            this.rotatableNode
              ? (this.rotate(), this.translate())
              : this.updateTransform(),
            ce.useCSSSelector || this.renderPorts(),
            this.renderTools(),
            this
          );
        }),
        (r.prototype.resize = function (t) {
          if ((void 0 === t && (t = {}), this.scalableNode))
            return this.updateSize(t);
          this.cell.getAngle() && this.rotate(), this.update();
        }),
        (r.prototype.translate = function () {
          if (this.rotatableNode) return this.updateTranslation();
          this.updateTransform();
        }),
        (r.prototype.rotate = function () {
          if (this.rotatableNode)
            return this.updateRotation(), void this.update();
          this.updateTransform();
        }),
        (r.prototype.getTranslationString = function () {
          var t = this.cell.getPosition();
          return 'translate(' + t.x + ',' + t.y + ')';
        }),
        (r.prototype.getRotationString = function () {
          var t = this.cell.getAngle();
          if (t) {
            var e = this.cell.getSize();
            return 'rotate(' + t + ',' + e.width / 2 + ',' + e.height / 2 + ')';
          }
        }),
        (r.prototype.updateTransform = function () {
          var t = this.getTranslationString(),
            e = this.getRotationString();
          e && (t += ' ' + e), this.container.setAttribute('transform', t);
        }),
        (r.prototype.updateRotation = function () {
          if (null != this.rotatableNode) {
            var t = this.getRotationString();
            null != t
              ? this.rotatableNode.setAttribute('transform', t)
              : this.rotatableNode.removeAttribute('transform');
          }
        }),
        (r.prototype.updateTranslation = function () {
          this.container.setAttribute('transform', this.getTranslationString());
        }),
        (r.prototype.updateSize = function (t) {
          void 0 === t && (t = {});
          var e = this.cell,
            n = e.getSize(),
            r = e.getAngle(),
            o = this.scalableNode,
            s = !1;
          o.getElementsByTagName('path').length > 0 && (s = !0);
          var a = ls(o, { recursive: s }),
            l = n.width / (a.width || 1),
            u = n.height / (a.height || 1);
          o.setAttribute('transform', 'scale(' + l + ',' + u + ')');
          var c = this.rotatableNode;
          if (null != c) {
            var h = c.getAttribute('transform');
            if (h) {
              c.setAttribute(
                'transform',
                h +
                  ' rotate(' +
                  -r +
                  ',' +
                  n.width / 2 +
                  ',' +
                  n.height / 2 +
                  ')'
              );
              var p = ls(o, { target: this.graph.view.stage });
              e.prop('position', { x: p.x, y: p.y }, i({ updated: !0 }, t)),
                this.translate(),
                this.rotate();
            }
          }
          this.update();
        }),
        (r.prototype.findPortElem = function (t, e) {
          var n = t ? this.portsCache[t] : null;
          if (!n) return null;
          var i = n.portContentElement,
            r = n.portContentSelectors || {};
          return this.findOne(e, i, r);
        }),
        (r.prototype.initializePorts = function () {
          this.cleanPortsCache();
        }),
        (r.prototype.refreshPorts = function () {
          this.removePorts(), this.cleanPortsCache(), this.renderPorts();
        }),
        (r.prototype.cleanPortsCache = function () {
          this.portsCache = {};
        }),
        (r.prototype.removePorts = function () {
          var t = this;
          Object.keys(this.portsCache).forEach(function (e) {
            sA(t.portsCache[e].portElement);
          });
        }),
        (r.prototype.renderPorts = function () {
          var t = this,
            e = this.getPortsContainer(),
            n = [];
          e.childNodes.forEach(function (t) {
            n.push(t);
          });
          var i = rp(this.cell.getParsedPorts(), 'zIndex');
          i.auto &&
            i.auto.forEach(function (i) {
              var r = t.getPortElement(i);
              e.append(r), n.push(r);
            }),
            Object.keys(i).forEach(function (e) {
              if ('auto' !== e) {
                var r = parseInt(e, 10);
                t.appendPorts(i[e], r, n);
              }
            }),
            this.updatePorts();
        }),
        (r.prototype.getPortsContainer = function () {
          return this.rotatableNode || this.container;
        }),
        (r.prototype.appendPorts = function (t, e, n) {
          var i = this,
            r = t.map(function (t) {
              return i.getPortElement(t);
            });
          n[e] || e < 0
            ? s4(n[Math.max(e, 0)], r)
            : sS(this.getPortsContainer(), r);
        }),
        (r.prototype.getPortElement = function (t) {
          var e = this.portsCache[t.id];
          return e ? e.portElement : this.createPortElement(t);
        }),
        (r.prototype.createPortElement = function (e) {
          var n = t.Markup.renderMarkup(this.getPortContainerMarkup()),
            r = n.elem;
          if (null == r) throw Error('Invalid port container markup.');
          var o = (n = t.Markup.renderMarkup(this.getPortMarkup(e))).elem,
            s = n.selectors;
          if (null == o) throw Error('Invalid port markup.');
          this.setAttrs({ port: e.id, 'port-group': e.group }, o);
          var a,
            l = (n = t.Markup.renderMarkup(this.getPortLabelMarkup(e.label)))
              .elem,
            u = n.selectors;
          if (null == l) throw Error('Invalid port label markup.');
          if (s && u) {
            for (var c in u)
              if (s[c] && c !== this.rootSelector)
                throw Error('Selectors within port must be unique.');
            a = i(i({}, s), u);
          } else a = s || u;
          var h = 'x6-port';
          return (
            e.group && (h += ' x6-port-' + e.group),
            sl(r, h),
            sl(o, 'x6-port-body'),
            sl(l, 'x6-port-label'),
            r.appendChild(o),
            r.appendChild(l),
            (this.portsCache[e.id] = {
              portElement: r,
              portSelectors: a,
              portLabelElement: l,
              portLabelSelectors: u,
              portContentElement: o,
              portContentSelectors: s,
            }),
            this.graph.hook.onPortRendered({
              port: e,
              node: this.cell,
              container: r,
              selectors: a,
              labelContainer: l,
              labelSelectors: u,
              contentContainer: o,
              contentSelectors: s,
            }),
            r
          );
        }),
        (r.prototype.updatePorts = function () {
          var t = this;
          this.updatePortGroup(),
            Object.keys(this.cell.getParsedGroups()).forEach(function (e) {
              return t.updatePortGroup(e);
            });
        }),
        (r.prototype.updatePortGroup = function (e) {
          for (
            var n = t.Rectangle.fromSize(this.cell.getSize()),
              i = this.cell.getPortsLayoutByGroup(e, n),
              r = 0,
              o = i.length;
            r < o;
            r += 1
          ) {
            var s = i[r],
              a = s.portId,
              l = this.portsCache[a] || {},
              u = s.portLayout;
            if (
              (this.applyPortTransform(l.portElement, u), null != s.portAttrs)
            ) {
              var c = { selectors: l.portSelectors || {} };
              s.portSize && (c.rootBBox = t.Rectangle.fromSize(s.portSize)),
                this.updateAttrs(l.portElement, s.portAttrs, c);
            }
            var h = s.labelLayout;
            h &&
              (this.applyPortTransform(l.portLabelElement, h, -(u.angle || 0)),
              h.attrs) &&
              ((c = { selectors: l.portLabelSelectors || {} }),
              s.labelSize && (c.rootBBox = t.Rectangle.fromSize(s.labelSize)),
              this.updateAttrs(l.portLabelElement, h.attrs, c));
          }
        }),
        (r.prototype.applyPortTransform = function (t, e, n) {
          void 0 === n && (n = 0);
          var i = e.angle,
            r = e.position;
          l$(
            t,
            a9()
              .rotate(n)
              .translate(r.x || 0, r.y || 0)
              .rotate(i || 0),
            { absolute: !0 }
          );
        }),
        (r.prototype.getPortContainerMarkup = function () {
          return (
            this.cell.getPortContainerMarkup() ||
            this.defaultPortContainerMarkup
          );
        }),
        (r.prototype.getPortMarkup = function (t) {
          return t.markup || this.cell.portMarkup || this.defaultPortMarkup;
        }),
        (r.prototype.getPortLabelMarkup = function (t) {
          return (
            t.markup || this.cell.portLabelMarkup || this.defaultPortLabelMarkup
          );
        }),
        (r.prototype.getEventArgs = function (t, e, n) {
          var i = this.cell;
          return null == e || null == n
            ? { e: t, view: this, node: i, cell: i }
            : { e: t, x: e, y: n, view: this, node: i, cell: i };
        }),
        (r.prototype.notifyMouseDown = function (t, n, i) {
          e.prototype.onMouseDown.call(this, t, n, i),
            this.notify('node:mousedown', this.getEventArgs(t, n, i));
        }),
        (r.prototype.notifyMouseMove = function (t, n, i) {
          e.prototype.onMouseMove.call(this, t, n, i),
            this.notify('node:mousemove', this.getEventArgs(t, n, i));
        }),
        (r.prototype.notifyMouseUp = function (t, n, i) {
          e.prototype.onMouseUp.call(this, t, n, i),
            this.notify('node:mouseup', this.getEventArgs(t, n, i));
        }),
        (r.prototype.onClick = function (t, n, i) {
          e.prototype.onClick.call(this, t, n, i),
            this.notify('node:click', this.getEventArgs(t, n, i));
        }),
        (r.prototype.onDblClick = function (t, n, i) {
          e.prototype.onDblClick.call(this, t, n, i),
            this.notify('node:dblclick', this.getEventArgs(t, n, i));
        }),
        (r.prototype.onContextMenu = function (t, n, i) {
          e.prototype.onContextMenu.call(this, t, n, i),
            this.notify('node:contextmenu', this.getEventArgs(t, n, i));
        }),
        (r.prototype.onMouseDown = function (t, e, n) {
          if (!this.isPropagationStopped(t)) {
            var i = t.target;
            sM(i) ||
              sD(i) ||
              (this.notifyMouseDown(t, e, n), this.startNodeDragging(t, e, n));
          }
        }),
        (r.prototype.onMouseMove = function (t, e, n) {
          var i = this.getEventData(t),
            r = i.action;
          if ('magnet' === r) this.dragMagnet(t, e, n);
          else {
            if ('move' === r) {
              var o = i.targetView || this;
              o.dragNode(t, e, n),
                o.notify('node:moving', {
                  e: t,
                  x: e,
                  y: n,
                  view: o,
                  cell: o.cell,
                  node: o.cell,
                });
            }
            this.notifyMouseMove(t, e, n);
          }
          this.setEventData(t, i);
        }),
        (r.prototype.onMouseUp = function (t, e, n) {
          var i = this.getEventData(t),
            r = i.action;
          if ('magnet' === r) this.stopMagnetDragging(t, e, n);
          else {
            var o = t.target;
            if (sM(o) || sD(o)) return;
            this.notifyMouseUp(t, e, n),
              'move' === r && (i.targetView || this).stopNodeDragging(t, e, n);
          }
          var s = i.targetMagnet;
          s && this.onMagnetClick(t, s, e, n), this.checkMouseleave(t);
        }),
        (r.prototype.onMouseOver = function (t) {
          e.prototype.onMouseOver.call(this, t),
            this.notify('node:mouseover', this.getEventArgs(t));
        }),
        (r.prototype.onMouseOut = function (t) {
          e.prototype.onMouseOut.call(this, t),
            this.notify('node:mouseout', this.getEventArgs(t));
        }),
        (r.prototype.onMouseEnter = function (t) {
          this.updateClassName(t),
            e.prototype.onMouseEnter.call(this, t),
            this.notify('node:mouseenter', this.getEventArgs(t));
        }),
        (r.prototype.onMouseLeave = function (t) {
          e.prototype.onMouseLeave.call(this, t),
            this.notify('node:mouseleave', this.getEventArgs(t));
        }),
        (r.prototype.onMouseWheel = function (t, n, r, o) {
          e.prototype.onMouseWheel.call(this, t, n, r, o),
            this.notify(
              'node:mousewheel',
              i({ delta: o }, this.getEventArgs(t, n, r))
            );
        }),
        (r.prototype.onMagnetClick = function (t, e, n, r) {
          this.graph.view.getMouseMovedCount(t) >
            this.graph.options.clickThreshold ||
            this.notify(
              'node:magnet:click',
              i({ magnet: e }, this.getEventArgs(t, n, r))
            );
        }),
        (r.prototype.onMagnetDblClick = function (t, e, n, r) {
          this.notify(
            'node:magnet:dblclick',
            i({ magnet: e }, this.getEventArgs(t, n, r))
          );
        }),
        (r.prototype.onMagnetContextMenu = function (t, e, n, r) {
          this.notify(
            'node:magnet:contextmenu',
            i({ magnet: e }, this.getEventArgs(t, n, r))
          );
        }),
        (r.prototype.onMagnetMouseDown = function (t, e, n, i) {
          this.startMagnetDragging(t, n, i);
        }),
        (r.prototype.onCustomEvent = function (t, n, r, o) {
          this.notify(
            'node:customevent',
            i({ name: n }, this.getEventArgs(t, r, o))
          ),
            e.prototype.onCustomEvent.call(this, t, n, r, o);
        }),
        (r.prototype.prepareEmbedding = function (t) {
          var e = this.getEventData(t).cell || this.cell,
            n = this.graph.findViewByCell(e),
            i = this.graph.snapToGrid(t.clientX, t.clientY);
          this.notify('node:embed', {
            e: t,
            node: e,
            view: n,
            cell: e,
            x: i.x,
            y: i.y,
            currentParent: e.getParent(),
          });
        }),
        (r.prototype.processEmbedding = function (e, n) {
          var i = this,
            r = n.cell || this.cell,
            o = n.graph || this.graph,
            s = o.options.embedding,
            a = s.findParent,
            l =
              'function' == typeof a
                ? oZ(a, o, { view: this, node: this.cell }).filter(function (
                    e
                  ) {
                    return (
                      t.Cell.isCell(e) &&
                      i.cell.id !== e.id &&
                      !e.isDescendantOf(i.cell)
                    );
                  })
                : o.model.getNodesUnderNode(r, { by: a });
          if (s.frontOnly && l.length > 0) {
            var u = rp(l, 'zIndex'),
              c = rS(
                Object.keys(u).map(function (t) {
                  return parseInt(t, 10);
                })
              );
            c && (l = u[c]);
          }
          l = l.filter(function (t) {
            return t.visible;
          });
          for (
            var h = null,
              p = n.candidateEmbedView,
              d = s.validate,
              f = l.length - 1;
            f >= 0;
            f -= 1
          ) {
            var g = l[f];
            if (p && p.cell.id === g.id) {
              h = p;
              break;
            }
            var $ = g.findView(o);
            if (
              oZ(d, o, {
                child: this.cell,
                parent: $.cell,
                childView: this,
                parentView: $,
              })
            ) {
              h = $;
              break;
            }
          }
          this.clearEmbedding(n),
            h && h.highlight(null, { type: 'embedding' }),
            (n.candidateEmbedView = h);
          var v = o.snapToGrid(e.clientX, e.clientY);
          this.notify('node:embedding', {
            e: e,
            cell: r,
            node: r,
            view: o.findViewByCell(r),
            x: v.x,
            y: v.y,
            currentParent: r.getParent(),
            candidateParent: h ? h.cell : null,
          });
        }),
        (r.prototype.clearEmbedding = function (t) {
          var e = t.candidateEmbedView;
          e &&
            (e.unhighlight(null, { type: 'embedding' }),
            (t.candidateEmbedView = null));
        }),
        (r.prototype.finalizeEmbedding = function (t, e) {
          this.graph.startBatch('embedding');
          var n = e.cell || this.cell,
            i = e.graph || this.graph,
            r = i.findViewByCell(n),
            o = n.getParent(),
            s = e.candidateEmbedView;
          if (
            (s
              ? (s.unhighlight(null, { type: 'embedding' }),
                (e.candidateEmbedView = null),
                (null != o && o.id === s.cell.id) ||
                  s.cell.insertChild(n, void 0, { ui: !0 }))
              : o && o.unembed(n, { ui: !0 }),
            i.model.getConnectedEdges(n, { deep: !0 }).forEach(function (t) {
              t.updateParent({ ui: !0 });
            }),
            r && s)
          ) {
            var a = i.snapToGrid(t.clientX, t.clientY);
            r.notify('node:embedded', {
              e: t,
              cell: n,
              x: a.x,
              y: a.y,
              node: n,
              view: i.findViewByCell(n),
              previousParent: o,
              currentParent: n.getParent(),
            });
          }
          this.graph.stopBatch('embedding');
        }),
        (r.prototype.getDelegatedView = function () {
          for (var t = this.cell, e = this; e && !t.isEdge(); ) {
            if (!t.hasParent() || e.can('stopDelegateOnDragging')) return e;
            (t = t.getParent()), (e = this.graph.renderer.findViewByCell(t));
          }
          return null;
        }),
        (r.prototype.startMagnetDragging = function (t, e, n) {
          if (this.can('magnetConnectable')) {
            t.stopPropagation();
            var i = t.currentTarget,
              r = this.graph;
            this.setEventData(t, { targetMagnet: i }),
              r.hook.validateMagnet(this, i, t)
                ? (r.options.magnetThreshold <= 0 &&
                    this.startConnectting(t, i, e, n),
                  this.setEventData(t, { action: 'magnet' }),
                  this.stopPropagation(t))
                : ((sa(i, 'x6-port-body') ||
                    d(i).closest('.x6-port-body').length > 0) &&
                    this.stopPropagation(t),
                  this.onMouseDown(t, e, n)),
              r.view.delegateDragEvents(t, this);
          }
        }),
        (r.prototype.startConnectting = function (t, e, n, i) {
          this.graph.model.startBatch('add-edge');
          var r = this.createEdgeFromMagnet(e, n, i);
          r.notifyMouseDown(t, n, i),
            r.setEventData(
              t,
              r.prepareArrowheadDragging('target', {
                x: n,
                y: i,
                isNewEdge: !0,
                fallbackAction: 'remove',
              })
            ),
            this.setEventData(t, { edgeView: r });
        }),
        (r.prototype.createEdgeFromMagnet = function (t, e, n) {
          var r = this.graph,
            o = r.model,
            s = r.hook.getDefaultEdge(this, t);
          return (
            s.setSource(
              i(
                i({}, s.getSource()),
                this.getEdgeTerminal(t, e, n, s, 'source')
              )
            ),
            s.setTarget(i(i({}, s.getTarget()), { x: e, y: n })),
            s.addTo(o, { async: !1, ui: !0 }),
            s.findView(r)
          );
        }),
        (r.prototype.dragMagnet = function (t, e, n) {
          var i = this.getEventData(t),
            r = i.edgeView;
          if (r)
            r.onMouseMove(t, e, n), this.autoScrollGraph(t.clientX, t.clientY);
          else {
            var o = this.graph,
              s = o.options.magnetThreshold,
              a = this.getEventTarget(t),
              l = i.targetMagnet;
            if ('onleave' === s) {
              if (l === a || l.contains(a)) return;
            } else if (o.view.getMouseMovedCount(t) <= s) return;
            this.startConnectting(t, l, e, n);
          }
        }),
        (r.prototype.stopMagnetDragging = function (t, e, n) {
          var i = this.eventData(t).edgeView;
          i && (i.onMouseUp(t, e, n), this.graph.model.stopBatch('add-edge'));
        }),
        (r.prototype.notifyUnhandledMouseDown = function (t, e, n) {
          this.notify('node:unhandled:mousedown', {
            e: t,
            x: e,
            y: n,
            view: this,
            cell: this.cell,
            node: this.cell,
          });
        }),
        (r.prototype.notifyNodeMove = function (t, e, n, i, r) {
          var o = this,
            s = [r],
            a = this.graph.selection.widget;
          if (a && a.options.movable) {
            var l = this.graph.getSelectedCells();
            l.includes(r) &&
              (s = l.filter(function (t) {
                return t.isNode();
              }));
          }
          s.forEach(function (r) {
            o.notify(t, {
              e: e,
              x: n,
              y: i,
              cell: r,
              node: r,
              view: r.findView(o.graph),
            });
          });
        }),
        (r.prototype.startNodeDragging = function (e, n, i) {
          var r = this.getDelegatedView();
          if (null == r || !r.can('nodeMovable'))
            return this.notifyUnhandledMouseDown(e, n, i);
          this.setEventData(e, { targetView: r, action: 'move' });
          var o = t.Point.create(r.cell.getPosition());
          r.setEventData(e, {
            moving: !1,
            offset: o.diff(n, i),
            restrict: this.graph.hook.getRestrictArea(r),
          });
        }),
        (r.prototype.dragNode = function (e, n, i) {
          var r = this.cell,
            o = this.graph,
            s = o.getGridSize(),
            a = this.getEventData(e),
            l = a.offset,
            u = a.restrict;
          a.moving ||
            ((a.moving = !0),
            this.addClass('node-moving'),
            this.notifyNodeMove('node:move', e, n, i, this.cell)),
            this.autoScrollGraph(e.clientX, e.clientY);
          var c = t.Util.snapToGrid(n + l.x, s),
            h = t.Util.snapToGrid(i + l.y, s);
          r.setPosition(c, h, { restrict: u, deep: !0, ui: !0 }),
            o.options.embedding.enabled &&
              (a.embedding || (this.prepareEmbedding(e), (a.embedding = !0)),
              this.processEmbedding(e, a));
        }),
        (r.prototype.stopNodeDragging = function (t, e, n) {
          var i = this.getEventData(t);
          i.embedding && this.finalizeEmbedding(t, i),
            i.moving &&
              (this.removeClass('node-moving'),
              this.notifyNodeMove('node:moved', t, e, n, this.cell)),
            (i.moving = !1),
            (i.embedding = !1);
        }),
        (r.prototype.autoScrollGraph = function (t, e) {
          var n = this.graph.scroller.widget;
          n && n.autoScroll(t, e);
        }),
        r
      );
    })(t.CellView)),
    ((pq = t.NodeView || (t.NodeView = {})).toStringTag = 'X6.' + pq.name),
    (pq.isNodeView = function (t) {
      if (null == t) return !1;
      if (t instanceof pq) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === pq.toStringTag) &&
        'function' == typeof n.isNodeView &&
        'function' == typeof n.isEdgeView &&
        'function' == typeof n.confirmUpdate &&
        'function' == typeof n.update &&
        'function' == typeof n.findPortElem &&
        'function' == typeof n.resize &&
        'function' == typeof n.rotate &&
        'function' == typeof n.translate
      );
    }),
    t.NodeView.config({
      isSvgElement: !0,
      priority: 0,
      bootstrap: ['render'],
      actions: {
        view: ['render'],
        markup: ['render'],
        attrs: ['update'],
        size: ['resize', 'ports', 'tools'],
        angle: ['rotate', 'tools'],
        position: ['translate', 'tools'],
        ports: ['ports'],
        tools: ['tools'],
      },
    }),
    t.NodeView.registry.register('node', t.NodeView, !0);
  var de,
    dn,
    di = p8('text'),
    dr = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return n(e, t), e;
    })(
      pj(
        'text',
        {
          view: di,
          attrs: {
            text: {
              fontSize: 18,
              fill: '#000000',
              stroke: null,
              refX: 0.5,
              refY: 0.5,
            },
          },
        },
        { noText: !0 }
      )
    );
  (de = dr || (dr = {})),
    (dn = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        (e.prototype.confirmUpdate = function (e, n) {
          void 0 === n && (n = {});
          var i = t.prototype.confirmUpdate.call(this, e, n);
          return (
            this.hasAction(i, 'scale') &&
              (this.resize(), (i = this.removeAction(i, 'scale'))),
            i
          );
        }),
        e
      );
    })(t.NodeView)),
    (de.View = dn),
    dn.config({ actions: { attrs: ['scale'] } }),
    t.NodeView.registry.register(di, dn);
  var ds,
    da,
    dl = (function (t) {
      function e(e, n) {
        void 0 === n && (n = {});
        var i = t.call(this) || this;
        return (
          (i.length = 0),
          (i.comparator = n.comparator || 'zIndex'),
          i.clean(),
          e && i.reset(e, { silent: !0 }),
          i
        );
      }
      return (
        n(e, t),
        (e.prototype.toJSON = function () {
          return this.cells.map(function (t) {
            return t.toJSON();
          });
        }),
        (e.prototype.add = function (t, e, n) {
          var r,
            o,
            a,
            l = this;
          'number' == typeof e
            ? ((o = e), (a = i({ merge: !1 }, n)))
            : ((o = this.length), (a = i({ merge: !1 }, e))),
            o > this.length && (o = this.length),
            o < 0 && (o += this.length + 1);
          var u = Array.isArray(t) ? t : [t],
            c = this.comparator && 'number' != typeof e && !1 !== a.sort,
            h = this.comparator || null,
            p = !1,
            d = [],
            f = [];
          return (
            u.forEach(function (t) {
              var e = l.get(t);
              e
                ? a.merge &&
                  !t.isSameStore(e) &&
                  (e.setProp(t.getProp(), n),
                  f.push(e),
                  c &&
                    !p &&
                    (p =
                      null == h || 'function' == typeof h
                        ? e.hasChanged()
                        : 'string' == typeof h
                        ? e.hasChanged(h)
                        : h.some(function (t) {
                            return e.hasChanged(t);
                          })))
                : (d.push(t), l.reference(t));
            }),
            d.length &&
              (c && (p = !0),
              (r = this.cells).splice.apply(r, s([o, 0], d, !1)),
              (this.length = this.cells.length)),
            p && this.sort({ silent: !0 }),
            a.silent ||
              (d.forEach(function (t, e) {
                var n = { cell: t, index: o + e, options: a };
                l.trigger('added', n), a.dryrun || t.notify('added', i({}, n));
              }),
              p && this.trigger('sorted'),
              (d.length || f.length) &&
                this.trigger('updated', {
                  added: d,
                  merged: f,
                  removed: [],
                  options: a,
                })),
            this
          );
        }),
        (e.prototype.remove = function (t, e) {
          void 0 === e && (e = {});
          var n = Array.isArray(t) ? t : [t],
            i = this.removeCells(n, e);
          return (
            !e.silent &&
              i.length > 0 &&
              this.trigger('updated', {
                options: e,
                removed: i,
                added: [],
                merged: [],
              }),
            Array.isArray(t) ? i : i[0]
          );
        }),
        (e.prototype.removeCells = function (t, e) {
          for (var n = [], i = 0; i < t.length; i += 1) {
            var r = this.get(t[i]);
            if (null != r) {
              var o = this.cells.indexOf(r);
              this.cells.splice(o, 1),
                (this.length -= 1),
                delete this.map[r.id],
                n.push(r),
                this.unreference(r),
                e.dryrun || r.remove(),
                e.silent ||
                  (this.trigger('removed', { cell: r, index: o, options: e }),
                  e.dryrun ||
                    r.notify('removed', { cell: r, index: o, options: e }));
            }
          }
          return n;
        }),
        (e.prototype.reset = function (t, e) {
          var n = this;
          void 0 === e && (e = {});
          var r = this.cells.slice();
          if (
            (r.forEach(function (t) {
              return n.unreference(t);
            }),
            this.clean(),
            this.add(t, i({ silent: !0 }, e)),
            !e.silent)
          ) {
            var o = this.cells.slice();
            this.trigger('reseted', { options: e, previous: r, current: o });
            var s = [],
              a = [];
            o.forEach(function (t) {
              r.some(function (e) {
                return e.id === t.id;
              }) || s.push(t);
            }),
              r.forEach(function (t) {
                o.some(function (e) {
                  return e.id === t.id;
                }) || a.push(t);
              }),
              this.trigger('updated', {
                options: e,
                added: s,
                removed: a,
                merged: [],
              });
          }
          return this;
        }),
        (e.prototype.push = function (t, e) {
          return this.add(t, this.length, e);
        }),
        (e.prototype.pop = function (t) {
          var e = this.at(this.length - 1);
          return this.remove(e, t);
        }),
        (e.prototype.unshift = function (t, e) {
          return this.add(t, 0, e);
        }),
        (e.prototype.shift = function (t) {
          var e = this.at(0);
          return this.remove(e, t);
        }),
        (e.prototype.get = function (t) {
          if (null == t) return null;
          var e = 'string' == typeof t || 'number' == typeof t ? t : t.id;
          return this.map[e] || null;
        }),
        (e.prototype.has = function (t) {
          return null != this.get(t);
        }),
        (e.prototype.at = function (t) {
          return t < 0 && (t += this.length), this.cells[t] || null;
        }),
        (e.prototype.first = function () {
          return this.at(0);
        }),
        (e.prototype.last = function () {
          return this.at(-1);
        }),
        (e.prototype.indexOf = function (t) {
          return this.cells.indexOf(t);
        }),
        (e.prototype.toArray = function () {
          return this.cells.slice();
        }),
        (e.prototype.sort = function (t) {
          return (
            void 0 === t && (t = {}),
            null != this.comparator &&
              ((this.cells = rq(this.cells, this.comparator)),
              t.silent || this.trigger('sorted')),
            this
          );
        }),
        (e.prototype.clone = function () {
          return new this.constructor(this.cells.slice(), {
            comparator: this.comparator,
          });
        }),
        (e.prototype.reference = function (t) {
          (this.map[t.id] = t), t.on('*', this.notifyCellEvent, this);
        }),
        (e.prototype.unreference = function (t) {
          t.off('*', this.notifyCellEvent, this), delete this.map[t.id];
        }),
        (e.prototype.notifyCellEvent = function (t, e) {
          var n = e.cell;
          this.trigger('cell:' + t, e),
            n &&
              (n.isNode()
                ? this.trigger('node:' + t, i(i({}, e), { node: n }))
                : n.isEdge() &&
                  this.trigger('edge:' + t, i(i({}, e), { edge: n })));
        }),
        (e.prototype.clean = function () {
          (this.length = 0), (this.cells = []), (this.map = {});
        }),
        e
      );
    })(t.Basecoat);
  (t.Model = (function (e) {
    function r(t) {
      void 0 === t && (t = []);
      var n = e.call(this) || this;
      return (
        (n.batches = {}),
        (n.addings = new WeakMap()),
        (n.nodes = {}),
        (n.edges = {}),
        (n.outgoings = {}),
        (n.incomings = {}),
        (n.collection = new dl(t)),
        n.setup(),
        n
      );
    }
    return (
      n(r, e),
      Object.defineProperty(r.prototype, Symbol.toStringTag, {
        get: function () {
          return r.toStringTag;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.notify = function (t, e) {
        this.trigger(t, e);
        var n = this.graph;
        return (
          n &&
            ('sorted' === t || 'reseted' === t || 'updated' === t
              ? n.trigger('model:' + t, e)
              : n.trigger(t, e)),
          this
        );
      }),
      (r.prototype.setup = function () {
        var t = this,
          e = this.collection;
        e.on('sorted', function () {
          return t.notify('sorted', null);
        }),
          e.on('updated', function (e) {
            return t.notify('updated', e);
          }),
          e.on('cell:change:zIndex', function () {
            return t.sortOnChangeZ();
          }),
          e.on('added', function (e) {
            var n = e.cell;
            t.onCellAdded(n);
          }),
          e.on('removed', function (e) {
            var n = e.cell;
            t.onCellRemoved(n, e.options),
              t.notify('cell:removed', e),
              n.isNode()
                ? t.notify('node:removed', i(i({}, e), { node: n }))
                : n.isEdge() &&
                  t.notify('edge:removed', i(i({}, e), { edge: n }));
          }),
          e.on('reseted', function (e) {
            t.onReset(e.current), t.notify('reseted', e);
          }),
          e.on('edge:change:source', function (e) {
            var n = e.edge;
            return t.onEdgeTerminalChanged(n, 'source');
          }),
          e.on('edge:change:target', function (e) {
            var n = e.edge;
            t.onEdgeTerminalChanged(n, 'target');
          });
      }),
      (r.prototype.sortOnChangeZ = function () {
        this.collection.sort();
      }),
      (r.prototype.onCellAdded = function (t) {
        var e = t.id;
        t.isEdge()
          ? (t.updateParent(),
            (this.edges[e] = !0),
            this.onEdgeTerminalChanged(t, 'source'),
            this.onEdgeTerminalChanged(t, 'target'))
          : (this.nodes[e] = !0);
      }),
      (r.prototype.onCellRemoved = function (t, e) {
        var n = t.id;
        if (t.isEdge()) {
          delete this.edges[n];
          var i,
            r,
            o = t.getSource(),
            s = t.getTarget();
          o &&
            o.cell &&
            (r = (i = this.outgoings[o.cell]) ? i.indexOf(n) : -1) >= 0 &&
            (i.splice(r, 1), 0 === i.length && delete this.outgoings[o.cell]),
            s &&
              s.cell &&
              (r = (i = this.incomings[s.cell]) ? i.indexOf(n) : -1) >= 0 &&
              (i.splice(r, 1), 0 === i.length && delete this.incomings[s.cell]);
        } else delete this.nodes[n];
        e.clear ||
          (e.disconnectEdges
            ? this.disconnectConnectedEdges(t, e)
            : this.removeConnectedEdges(t, e)),
          t.model === this && (t.model = null);
      }),
      (r.prototype.onReset = function (t) {
        var e = this;
        (this.nodes = {}),
          (this.edges = {}),
          (this.outgoings = {}),
          (this.incomings = {}),
          t.forEach(function (t) {
            return e.onCellAdded(t);
          });
      }),
      (r.prototype.onEdgeTerminalChanged = function (e, n) {
        var i = 'source' === n ? this.outgoings : this.incomings,
          r = e.previous(n);
        if (r && r.cell) {
          var o = t.Cell.isCell(r.cell) ? r.cell.id : r.cell;
          (l = (a = i[o]) ? a.indexOf(e.id) : -1) >= 0 &&
            (a.splice(l, 1), 0 === a.length && delete i[o]);
        }
        var s = e.getTerminal(n);
        if (s && s.cell) {
          var a,
            l,
            u = t.Cell.isCell(s.cell) ? s.cell.id : s.cell;
          -1 === (l = (a = i[u] || []).indexOf(e.id)) && a.push(e.id),
            (i[u] = a);
        }
      }),
      (r.prototype.prepareCell = function (t, e) {
        return (
          t.model || (e && e.dryrun) || (t.model = this),
          null == t.zIndex &&
            t.setZIndex(this.getMaxZIndex() + 1, { silent: !0 }),
          t
        );
      }),
      (r.prototype.resetCells = function (t, e) {
        var n = this;
        return (
          void 0 === e && (e = {}),
          t.map(function (t) {
            return n.prepareCell(t, i(i({}, e), { dryrun: !0 }));
          }),
          this.collection.reset(t, e),
          t.map(function (t) {
            return n.prepareCell(t, { options: e });
          }),
          this
        );
      }),
      (r.prototype.clear = function (t) {
        void 0 === t && (t = {});
        var e = this.getCells();
        if (0 === e.length) return this;
        var n = i(i({}, t), { clear: !0 });
        return (
          this.batchUpdate(
            'clear',
            function () {
              for (
                var t = e.sort(function (t, e) {
                  return (t.isEdge() ? 1 : 2) - (e.isEdge() ? 1 : 2);
                });
                t.length > 0;

              ) {
                var i = t.shift();
                i && i.remove(n);
              }
            },
            n
          ),
          this
        );
      }),
      (r.prototype.addNode = function (e, n) {
        void 0 === n && (n = {});
        var i = t.Node.isNode(e) ? e : this.createNode(e);
        return this.addCell(i, n), i;
      }),
      (r.prototype.createNode = function (e) {
        return t.Node.create(e);
      }),
      (r.prototype.addEdge = function (e, n) {
        void 0 === n && (n = {});
        var i = t.Edge.isEdge(e) ? e : this.createEdge(e);
        return this.addCell(i, n), i;
      }),
      (r.prototype.createEdge = function (e) {
        return t.Edge.create(e);
      }),
      (r.prototype.addCell = function (t, e) {
        var n = this;
        return (
          void 0 === e && (e = {}),
          Array.isArray(t)
            ? this.addCells(t, e)
            : (this.collection.has(t) ||
                this.addings.has(t) ||
                (this.addings.set(t, !0),
                this.collection.add(this.prepareCell(t, e), e),
                t.eachChild(function (t) {
                  return n.addCell(t, e);
                }),
                this.addings.delete(t)),
              this)
        );
      }),
      (r.prototype.addCells = function (t, e) {
        var n = this;
        void 0 === e && (e = {});
        var r = t.length;
        if (0 === r) return this;
        var o = i(i({}, e), { position: r - 1, maxPosition: r - 1 });
        return (
          this.startBatch('add', i(i({}, o), { cells: t })),
          t.forEach(function (t) {
            n.addCell(t, o), (o.position -= 1);
          }),
          this.stopBatch('add', i(i({}, o), { cells: t })),
          this
        );
      }),
      (r.prototype.removeCell = function (t, e) {
        void 0 === e && (e = {});
        var n = 'string' == typeof t ? this.getCell(t) : t;
        return n && this.has(n) ? this.collection.remove(n, e) : null;
      }),
      (r.prototype.updateCellId = function (t, e) {
        this.startBatch('update', { id: e }), t.prop('id', e);
        var n = t.clone({ keepId: !0 });
        return (
          this.addCell(n),
          this.getConnectedEdges(t).forEach(function (n) {
            var r = n.getSourceCell(),
              o = n.getTargetCell();
            r === t && n.setSource(i(i({}, n.getSource()), { cell: e })),
              o === t && n.setTarget(i(i({}, n.getTarget()), { cell: e }));
          }),
          this.removeCell(t),
          this.stopBatch('update', { id: e }),
          n
        );
      }),
      (r.prototype.removeCells = function (t, e) {
        var n = this;
        return (
          void 0 === e && (e = {}),
          t.length
            ? this.batchUpdate('remove', function () {
                return t.map(function (t) {
                  return n.removeCell(t, e);
                });
              })
            : []
        );
      }),
      (r.prototype.removeConnectedEdges = function (t, e) {
        void 0 === e && (e = {});
        var n = this.getConnectedEdges(t);
        return (
          n.forEach(function (t) {
            t.remove(e);
          }),
          n
        );
      }),
      (r.prototype.disconnectConnectedEdges = function (t, e) {
        void 0 === e && (e = {});
        var n = 'string' == typeof t ? t : t.id;
        this.getConnectedEdges(t).forEach(function (t) {
          var i = t.getSourceCell(),
            r = t.getTargetCell();
          i && i.id === n && t.setSource({ x: 0, y: 0 }, e),
            r && r.id === n && t.setTarget({ x: 0, y: 0 }, e);
        });
      }),
      (r.prototype.has = function (t) {
        return this.collection.has(t);
      }),
      (r.prototype.total = function () {
        return this.collection.length;
      }),
      (r.prototype.indexOf = function (t) {
        return this.collection.indexOf(t);
      }),
      (r.prototype.getCell = function (t) {
        return this.collection.get(t);
      }),
      (r.prototype.getCells = function () {
        return this.collection.toArray();
      }),
      (r.prototype.getFirstCell = function () {
        return this.collection.first();
      }),
      (r.prototype.getLastCell = function () {
        return this.collection.last();
      }),
      (r.prototype.getMinZIndex = function () {
        var t = this.collection.first();
        return (t && t.getZIndex()) || 0;
      }),
      (r.prototype.getMaxZIndex = function () {
        var t = this.collection.last();
        return (t && t.getZIndex()) || 0;
      }),
      (r.prototype.getCellsFromCache = function (t) {
        var e = this;
        return t
          ? Object.keys(t)
              .map(function (t) {
                return e.getCell(t);
              })
              .filter(function (t) {
                return null != t;
              })
          : [];
      }),
      (r.prototype.getNodes = function () {
        return this.getCellsFromCache(this.nodes);
      }),
      (r.prototype.getEdges = function () {
        return this.getCellsFromCache(this.edges);
      }),
      (r.prototype.getOutgoingEdges = function (t) {
        var e = this,
          n = 'string' == typeof t ? t : t.id,
          i = this.outgoings[n];
        return i
          ? i
              .map(function (t) {
                return e.getCell(t);
              })
              .filter(function (t) {
                return t && t.isEdge();
              })
          : null;
      }),
      (r.prototype.getIncomingEdges = function (t) {
        var e = this,
          n = 'string' == typeof t ? t : t.id,
          i = this.incomings[n];
        return i
          ? i
              .map(function (t) {
                return e.getCell(t);
              })
              .filter(function (t) {
                return t && t.isEdge();
              })
          : null;
      }),
      (r.prototype.getConnectedEdges = function (t, e) {
        var n = this;
        void 0 === e && (e = {});
        var i = [],
          r = 'string' == typeof t ? this.getCell(t) : t;
        if (null == r) return i;
        var o = {},
          s = e.indirect,
          a = e.incoming,
          l = e.outgoing;
        null == a && null == l && (a = l = !0);
        var u = function (t, e) {
          var r = e ? n.getOutgoingEdges(t) : n.getIncomingEdges(t);
          if (
            (null != r &&
              r.forEach(function (t) {
                o[t.id] ||
                  (i.push(t),
                  (o[t.id] = !0),
                  s && (a && u(t, !1), l && u(t, !0)));
              }),
            s && t.isEdge())
          ) {
            var c = e ? t.getTargetCell() : t.getSourceCell();
            c && c.isEdge() && (o[c.id] || (i.push(c), u(c, e)));
          }
        };
        if ((l && u(r, !0), a && u(r, !1), e.deep)) {
          var c = r.getDescendants({ deep: !0 }),
            h = {};
          c.forEach(function (t) {
            t.isNode() && (h[t.id] = !0);
          });
          var p = function (t, r) {
            var s = r ? n.getOutgoingEdges(t.id) : n.getIncomingEdges(t.id);
            null != s &&
              s.forEach(function (t) {
                if (!o[t.id]) {
                  var n = t.getSourceCell(),
                    r = t.getTargetCell();
                  (!e.enclosed && n && h[n.id] && r && h[r.id]) ||
                    (i.push(t), (o[t.id] = !0));
                }
              });
          };
          c.forEach(function (t) {
            t.isEdge() || (l && p(t, !0), a && p(t, !1));
          });
        }
        return i;
      }),
      (r.prototype.isBoundary = function (t, e) {
        var n = 'string' == typeof t ? this.getCell(t) : t,
          i = e ? this.getIncomingEdges(n) : this.getOutgoingEdges(n);
        return null == i || 0 === i.length;
      }),
      (r.prototype.getBoundaryNodes = function (t) {
        var e = this,
          n = [];
        return (
          Object.keys(this.nodes).forEach(function (i) {
            if (e.isBoundary(i, t)) {
              var r = e.getCell(i);
              r && n.push(r);
            }
          }),
          n
        );
      }),
      (r.prototype.getRoots = function () {
        return this.getBoundaryNodes(!0);
      }),
      (r.prototype.getLeafs = function () {
        return this.getBoundaryNodes(!1);
      }),
      (r.prototype.isRoot = function (t) {
        return this.isBoundary(t, !0);
      }),
      (r.prototype.isLeaf = function (t) {
        return this.isBoundary(t, !1);
      }),
      (r.prototype.getNeighbors = function (t, e) {
        void 0 === e && (e = {});
        var n = e.incoming,
          i = e.outgoing;
        null == n && null == i && (n = i = !0);
        var r = this.getConnectedEdges(t, e).reduce(function (r, o) {
          var s = o.hasLoop(e),
            a = o.getSourceCell(),
            l = o.getTargetCell();
          return (
            n &&
              a &&
              a.isNode() &&
              !r[a.id] &&
              ((!s && (a === t || (e.deep && a.isDescendantOf(t)))) ||
                (r[a.id] = a)),
            i &&
              l &&
              l.isNode() &&
              !r[l.id] &&
              ((!s && (l === t || (e.deep && l.isDescendantOf(t)))) ||
                (r[l.id] = l)),
            r
          );
        }, {});
        if (t.isEdge()) {
          if (n) {
            var o = t.getSourceCell();
            o && o.isNode() && !r[o.id] && (r[o.id] = o);
          }
          if (i) {
            var s = t.getTargetCell();
            s && s.isNode() && !r[s.id] && (r[s.id] = s);
          }
        }
        return Object.keys(r).map(function (t) {
          return r[t];
        });
      }),
      (r.prototype.isNeighbor = function (t, e, n) {
        void 0 === n && (n = {});
        var i = n.incoming,
          r = n.outgoing;
        return (
          null == i && null == r && (i = r = !0),
          this.getConnectedEdges(t, n).some(function (t) {
            var n = t.getSourceCell(),
              o = t.getTargetCell();
            return !(!i || !n || n.id !== e.id) || !(!r || !o || o.id !== e.id);
          })
        );
      }),
      (r.prototype.getSuccessors = function (t, e) {
        var n = this;
        void 0 === e && (e = {});
        var r = [];
        return (
          this.search(
            t,
            function (i, o) {
              i !== t && n.matchDistance(o, e.distance) && r.push(i);
            },
            i(i({}, e), { outgoing: !0 })
          ),
          r
        );
      }),
      (r.prototype.isSuccessor = function (t, e, n) {
        var r = this;
        void 0 === n && (n = {});
        var o = !1;
        return (
          this.search(
            t,
            function (i, s) {
              if (i === e && i !== t && r.matchDistance(s, n.distance))
                return (o = !0), !1;
            },
            i(i({}, n), { outgoing: !0 })
          ),
          o
        );
      }),
      (r.prototype.getPredecessors = function (t, e) {
        var n = this;
        void 0 === e && (e = {});
        var r = [];
        return (
          this.search(
            t,
            function (i, o) {
              i !== t && n.matchDistance(o, e.distance) && r.push(i);
            },
            i(i({}, e), { incoming: !0 })
          ),
          r
        );
      }),
      (r.prototype.isPredecessor = function (t, e, n) {
        var r = this;
        void 0 === n && (n = {});
        var o = !1;
        return (
          this.search(
            t,
            function (i, s) {
              if (i === e && i !== t && r.matchDistance(s, n.distance))
                return (o = !0), !1;
            },
            i(i({}, n), { incoming: !0 })
          ),
          o
        );
      }),
      (r.prototype.matchDistance = function (t, e) {
        return (
          null == e ||
          ('function' == typeof e
            ? e(t)
            : !(!Array.isArray(e) || !e.includes(t)) || t === e)
        );
      }),
      (r.prototype.getCommonAncestor = function () {
        for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
        var i = [];
        return (
          e.forEach(function (t) {
            t && (Array.isArray(t) ? i.push.apply(i, t) : i.push(t));
          }),
          t.Cell.getCommonAncestor.apply(t.Cell, i)
        );
      }),
      (r.prototype.getSubGraph = function (t, e) {
        var n = this;
        void 0 === e && (e = {});
        var i = [],
          r = {},
          o = [],
          s = [],
          a = function (t) {
            r[t.id] ||
              (i.push(t),
              (r[t.id] = t),
              t.isEdge() && s.push(t),
              t.isNode() && o.push(t));
          };
        return (
          t.forEach(function (t) {
            a(t),
              e.deep &&
                t.getDescendants({ deep: !0 }).forEach(function (t) {
                  return a(t);
                });
          }),
          s.forEach(function (t) {
            var e = t.getSourceCell(),
              n = t.getTargetCell();
            e &&
              !r[e.id] &&
              (i.push(e), (r[e.id] = e), e.isNode() && o.push(e)),
              n &&
                !r[n.id] &&
                (i.push(n), (r[n.id] = n), n.isNode() && o.push(n));
          }),
          o.forEach(function (t) {
            n.getConnectedEdges(t, e).forEach(function (t) {
              var e = t.getSourceCell(),
                n = t.getTargetCell();
              !r[t.id] &&
                e &&
                r[e.id] &&
                n &&
                r[n.id] &&
                (i.push(t), (r[t.id] = t));
            });
          }),
          i
        );
      }),
      (r.prototype.cloneSubGraph = function (t, e) {
        void 0 === e && (e = {});
        var n = this.getSubGraph(t, e);
        return this.cloneCells(n);
      }),
      (r.prototype.cloneCells = function (e) {
        return t.Cell.cloneCells(e);
      }),
      (r.prototype.getNodesFromPoint = function (t, e) {
        var n = 'number' == typeof t ? { x: t, y: e || 0 } : t;
        return this.getNodes().filter(function (t) {
          return t.getBBox().containsPoint(n);
        });
      }),
      (r.prototype.getNodesInArea = function (e, n, i, r, o) {
        var s =
            'number' == typeof e
              ? new t.Rectangle(e, n, i, r)
              : t.Rectangle.create(e),
          a = 'number' == typeof e ? o : n,
          l = a && a.strict;
        return this.getNodes().filter(function (t) {
          var e = t.getBBox();
          return l ? s.containsRect(e) : s.isIntersectWithRect(e);
        });
      }),
      (r.prototype.getEdgesInArea = function (e, n, i, r, o) {
        var s =
            'number' == typeof e
              ? new t.Rectangle(e, n, i, r)
              : t.Rectangle.create(e),
          a = 'number' == typeof e ? o : n,
          l = a && a.strict;
        return this.getEdges().filter(function (t) {
          var e = t.getBBox();
          return (
            0 === e.width ? e.inflate(1, 0) : 0 === e.height && e.inflate(0, 1),
            l ? s.containsRect(e) : s.isIntersectWithRect(e)
          );
        });
      }),
      (r.prototype.getNodesUnderNode = function (t, e) {
        void 0 === e && (e = {});
        var n = t.getBBox();
        return (
          null == e.by || 'bbox' === e.by
            ? this.getNodesInArea(n)
            : this.getNodesFromPoint(n[e.by])
        ).filter(function (e) {
          return t.id !== e.id && !e.isDescendantOf(t);
        });
      }),
      (r.prototype.getAllCellsBBox = function () {
        return this.getCellsBBox(this.getCells());
      }),
      (r.prototype.getCellsBBox = function (e, n) {
        return void 0 === n && (n = {}), t.Cell.getCellsBBox(e, n);
      }),
      (r.prototype.search = function (t, e, n) {
        void 0 === n && (n = {}),
          n.breadthFirst
            ? this.breadthFirstSearch(t, e, n)
            : this.depthFirstSearch(t, e, n);
      }),
      (r.prototype.breadthFirstSearch = function (t, e, n) {
        void 0 === n && (n = {});
        var i = [],
          r = {},
          o = {};
        i.push(t), (o[t.id] = 0);
        for (
          var s = function () {
              var t = i.shift();
              return null == t || r[t.id]
                ? 'continue'
                : ((r[t.id] = !0),
                  !1 === oZ(e, a, t, o[t.id])
                    ? 'continue'
                    : void a.getNeighbors(t, n).forEach(function (e) {
                        (o[e.id] = o[t.id] + 1), i.push(e);
                      }));
            },
            a = this;
          i.length > 0;

        )
          s();
      }),
      (r.prototype.depthFirstSearch = function (t, e, n) {
        void 0 === n && (n = {});
        var i = [],
          r = {},
          o = {};
        i.push(t), (o[t.id] = 0);
        for (
          var s = function () {
              var t = i.pop();
              if (
                null == t ||
                r[t.id] ||
                ((r[t.id] = !0), !1 === oZ(e, a, t, o[t.id]))
              )
                return 'continue';
              var s = a.getNeighbors(t, n),
                l = i.length;
              s.forEach(function (e) {
                (o[e.id] = o[t.id] + 1), i.splice(l, 0, e);
              });
            },
            a = this;
          i.length > 0;

        )
          s();
      }),
      (r.prototype.getShortestPath = function (e, n, i) {
        void 0 === i && (i = {});
        var r = {};
        this.getEdges().forEach(function (t) {
          var e = t.getSourceCellId(),
            n = t.getTargetCellId();
          e &&
            n &&
            (r[e] || (r[e] = []),
            r[n] || (r[n] = []),
            r[e].push(n),
            i.directed || r[n].push(e));
        });
        var o = 'string' == typeof e ? e : e.id,
          s = t.Dijkstra.run(r, o, i.weight),
          a = [],
          l = 'string' == typeof n ? n : n.id;
        for (s[l] && a.push(l); (l = s[l]); ) a.unshift(l);
        return a;
      }),
      (r.prototype.translate = function (t, e, n) {
        return (
          this.getCells()
            .filter(function (t) {
              return !t.hasParent();
            })
            .forEach(function (i) {
              return i.translate(t, e, n);
            }),
          this
        );
      }),
      (r.prototype.resize = function (t, e, n) {
        return this.resizeCells(t, e, this.getCells(), n);
      }),
      (r.prototype.resizeCells = function (t, e, n, i) {
        void 0 === i && (i = {});
        var r = this.getCellsBBox(n);
        if (r) {
          var o = Math.max(t / r.width, 0),
            s = Math.max(e / r.height, 0),
            a = r.getOrigin();
          n.forEach(function (t) {
            return t.scale(o, s, a, i);
          });
        }
        return this;
      }),
      (r.prototype.toJSON = function (t) {
        return void 0 === t && (t = {}), r.toJSON(this.getCells(), t);
      }),
      (r.prototype.parseJSON = function (t) {
        return r.fromJSON(t);
      }),
      (r.prototype.fromJSON = function (t, e) {
        void 0 === e && (e = {});
        var n = this.parseJSON(t);
        return this.resetCells(n, e), this;
      }),
      (r.prototype.startBatch = function (t, e) {
        return (
          void 0 === e && (e = {}),
          (this.batches[t] = (this.batches[t] || 0) + 1),
          this.notify('batch:start', { name: t, data: e }),
          this
        );
      }),
      (r.prototype.stopBatch = function (t, e) {
        return (
          void 0 === e && (e = {}),
          (this.batches[t] = (this.batches[t] || 0) - 1),
          this.notify('batch:stop', { name: t, data: e }),
          this
        );
      }),
      (r.prototype.batchUpdate = function (t, e, n) {
        void 0 === n && (n = {}), this.startBatch(t, n);
        var i = e();
        return this.stopBatch(t, n), i;
      }),
      (r.prototype.hasActiveBatch = function (t) {
        var e = this;
        return (
          void 0 === t && (t = Object.keys(this.batches)),
          (Array.isArray(t) ? t : [t]).some(function (t) {
            return e.batches[t] > 0;
          })
        );
      }),
      r
    );
  })(t.Basecoat)),
    ((ds = t.Model || (t.Model = {})).toStringTag = 'X6.' + ds.name),
    (ds.isModel = function (t) {
      if (null == t) return !1;
      if (t instanceof ds) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === ds.toStringTag) &&
        'function' == typeof n.addNode &&
        'function' == typeof n.addEdge &&
        null != n.collection
      );
    }),
    ((da = t.Model || (t.Model = {})).toJSON = function (t, e) {
      return (
        void 0 === e && (e = {}),
        {
          cells: t.map(function (t) {
            return t.toJSON(e);
          }),
        }
      );
    }),
    (da.fromJSON = function (e) {
      var n = [];
      return (
        Array.isArray(e)
          ? n.push.apply(n, e)
          : (e.cells && n.push.apply(n, e.cells),
            e.nodes &&
              e.nodes.forEach(function (t) {
                null == t.shape && (t.shape = 'rect'), n.push(t);
              }),
            e.edges &&
              e.edges.forEach(function (t) {
                null == t.shape && (t.shape = 'edge'), n.push(t);
              })),
        n.map(function (e) {
          var n = e.shape;
          if (n) {
            if (t.Node.registry.exist(n)) return t.Node.create(e);
            if (t.Edge.registry.exist(n)) return t.Edge.create(e);
          }
          throw Error(
            'The `shape` should be specified when creating a node/edge instance'
          );
        })
      );
    });
  var du,
    dc,
    dh,
    dp,
    dd,
    df,
    dg = '.text-block-content',
    d$ = p8('text-block'),
    d0 = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'content', {
          get: function () {
            return this.getContent();
          },
          set: function (t) {
            this.setContent(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.getContent = function () {
          return this.store.get('content', '');
        }),
        (r.prototype.setContent = function (t, e) {
          void 0 === e && (e = {}), this.store.set('content', t, e);
        }),
        (r.prototype.setup = function () {
          var t = this;
          e.prototype.setup.call(this),
            this.store.on('change:*', function (e) {
              var n = e.key;
              'content' === n
                ? t.updateContent(t.getContent())
                : 'size' === n && t.updateSize(t.getSize());
            }),
            this.updateSize(this.getSize()),
            this.updateContent(this.getContent());
        }),
        (r.prototype.updateSize = function (e) {
          var n;
          t.Platform.SUPPORT_FOREIGNOBJECT &&
            this.setAttrs(
              (((n = { foreignObject: i({}, e) })[dg] = { style: i({}, e) }), n)
            );
        }),
        (r.prototype.updateContent = function (e) {
          var n, i;
          t.Platform.SUPPORT_FOREIGNOBJECT
            ? this.setAttrs((((n = {})[dg] = { html: e ? oG(e) : '' }), n))
            : this.setAttrs((((i = {})[dg] = { text: e }), i));
        }),
        r
      );
    })(t.Node);
  (du = d0 || (d0 = {})).config({
    type: d$,
    view: d$,
    markup: [
      '<g class="rotatable">',
      '<g class="scalable"><rect/></g>',
      t.Platform.SUPPORT_FOREIGNOBJECT
        ? [
            '<foreignObject>',
            '<body xmlns="http://www.w3.org/1999/xhtml">',
            '<div class="' + dg.substr(1) + '" />',
            '</body>',
            '</foreignObject>',
          ].join('')
        : '<text class="' + dg.substr(1) + '"/>',
      '</g>',
    ].join(''),
    attrs:
      (((dc = {
        '.': { fill: '#ffffff', stroke: 'none' },
        rect: { fill: '#ffffff', stroke: '#000000', width: 80, height: 100 },
        text: {
          fill: '#000000',
          fontSize: 14,
          fontFamily: 'Arial, helvetica, sans-serif',
        },
        body: {
          style: {
            background: 'transparent',
            position: 'static',
            margin: 0,
            padding: 0,
          },
        },
        foreignObject: { style: { overflow: 'hidden' } },
      })[dg] = {
        refX: 0.5,
        refY: 0.5,
        yAlign: 'middle',
        xAlign: 'middle',
        style: {
          textAlign: 'center',
          verticalAlign: 'middle',
          display: 'table-cell',
          padding: '0 5px',
          margin: 0,
        },
      }),
      dc),
  }),
    t.Node.registry.register(d$, du),
    (dh = d0 || (d0 = {})),
    (dp = 'content'),
    (dd = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(r, e),
        (r.prototype.confirmUpdate = function (t, n) {
          void 0 === n && (n = {});
          var i = e.prototype.confirmUpdate.call(this, t, n);
          return (
            this.hasAction(i, dp) &&
              (this.updateContent(), (i = this.removeAction(i, dp))),
            i
          );
        }),
        (r.prototype.update = function (n) {
          if (t.Platform.SUPPORT_FOREIGNOBJECT)
            e.prototype.update.call(this, n);
          else {
            var r = this.cell,
              o = i({}, n || r.getAttrs());
            delete o[dg],
              e.prototype.update.call(this, o),
              (n && !r$(n, dg)) || this.updateContent(n);
          }
        }),
        (r.prototype.updateContent = function (n) {
          var i;
          if (t.Platform.SUPPORT_FOREIGNOBJECT)
            e.prototype.update.call(this, n);
          else {
            var r = this.cell,
              o = (n || r.getAttrs())[dg],
              s = aM(r.getContent(), r.getSize(), o, {
                svgDocument: this.graph.view.svg,
              }),
              a = (((i = {})[dg] = rk({}, o, { text: s })), i);
            e.prototype.update.call(this, a);
          }
        }),
        r
      );
    })(t.NodeView)),
    (dh.View = dd),
    (df = dd = dh.View || (dh.View = {})).config({
      bootstrap: ['render', dp],
      actions: t.Platform.SUPPORT_FOREIGNOBJECT
        ? {}
        : { size: dp, content: dp },
    }),
    t.NodeView.registry.register(d$, df);
  var dv = pI.define({ shape: 'empty' });
  function dy(t, e, n) {
    void 0 === n && (n = {});
    var r,
      o,
      s,
      a = {
        constructorName: t,
        markup:
          ((r = t),
          void 0 === (o = n.selector) && (o = 'body'),
          [
            { tagName: r, selector: o },
            { tagName: 'text', selector: 'label' },
          ]),
        attrs: (((s = {})[t] = i({}, pI.bodyAttr)), s),
      };
    return (n.parent || pI).define(rk(a, e, { shape: t }));
  }
  var dm = dy('rect', {
      attrs: { body: { refWidth: '100%', refHeight: '100%' } },
    }),
    d_ = t.Node.define({
      shape: 'rect-headered',
      markup: [
        { tagName: 'rect', selector: 'body' },
        { tagName: 'rect', selector: 'header' },
        { tagName: 'text', selector: 'headerText' },
        { tagName: 'text', selector: 'bodyText' },
      ],
      attrs: {
        body: i(i({}, pI.bodyAttr), { refWidth: '100%', refHeight: '100%' }),
        header: i(i({}, pI.bodyAttr), {
          refWidth: '100%',
          height: 30,
          stroke: '#000000',
        }),
        headerText: i(i({}, pI.labelAttr), {
          refX: '50%',
          refY: 15,
          fontSize: 16,
        }),
        bodyText: i(i({}, pI.labelAttr), { refY2: 15 }),
      },
    }),
    dC = dy('circle', {
      attrs: { body: { refCx: '50%', refCy: '50%', refR: '50%' } },
    }),
    db = pI.define({
      shape: 'cylinder',
      overwrite: !0,
      markup: [
        { tagName: 'path', selector: 'body' },
        { tagName: 'ellipse', selector: 'top' },
        { tagName: 'text', selector: 'label' },
      ],
      attrs: {
        body: i(i({}, pI.bodyAttr), { lateral: 10 }),
        top: i(i({}, pI.bodyAttr), {
          refCx: '50%',
          refRx: '50%',
          cy: 10,
          ry: 10,
        }),
      },
      attrHooks: {
        lateral: {
          set: function (t, e) {
            var n = e.refBBox,
              i = oq(t);
            i && (t = parseFloat(t) / 100);
            var r = n.x,
              o = n.y,
              s = n.width,
              a = n.height,
              l = i ? a * t : t,
              u = 0.551784 * (s / 2),
              c = 0.551784 * l,
              h = r + s / 2,
              p = r + s,
              d = o + l,
              f = d - l,
              g = o + a - l,
              $ = o + a;
            return {
              d: [
                'M',
                r,
                d,
                'L',
                r,
                g,
                'C',
                r,
                g + c,
                h - u,
                $,
                h,
                $,
                'C',
                h + u,
                $,
                p,
                g + c,
                p,
                g,
                'L',
                p,
                d,
                'C',
                p,
                d - c,
                h + u,
                f,
                h,
                f,
                'C',
                h - u,
                f,
                r,
                d - c,
                r,
                d,
                'Z',
              ].join(' '),
            };
          },
        },
      },
      knob: {
        enabled: !0,
        position: function (t) {
          return { x: 0, y: t.node.attr('body/lateral') };
        },
        onMouseMove: function (t) {
          var e = t.node,
            n = t.data,
            i = t.deltaY;
          if (0 !== i) {
            var r = e.getBBox(),
              o = e.attr('body/lateral');
            null == n.round && (n.round = o);
            var s = r.height / 2,
              a = n2(n.round + i, 0, s);
            a !== o && e.attr({ body: { lateral: a }, top: { cy: a, ry: a } });
          }
        },
      },
    }),
    dx = dy('ellipse', {
      attrs: {
        body: { refCx: '50%', refCy: '50%', refRx: '50%', refRy: '50%' },
      },
    }),
    dw = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'points', {
          get: function () {
            return this.getPoints();
          },
          set: function (t) {
            this.setPoints(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.getPoints = function () {
          return this.getAttrByPath('body/refPoints');
        }),
        (e.prototype.setPoints = function (t, n) {
          return (
            null == t
              ? this.removePoints()
              : this.setAttrByPath('body/refPoints', e.pointsToString(t), n),
            this
          );
        }),
        (e.prototype.removePoints = function () {
          return this.removeAttrByPath('body/refPoints'), this;
        }),
        e
      );
    })(pI);
  !(function (e) {
    function n(e) {
      return 'string' == typeof e
        ? e
        : e
            .map(function (e) {
              return Array.isArray(e)
                ? e.join(',')
                : t.Point.isPointLike(e)
                ? e.x + ', ' + e.y
                : '';
            })
            .join(' ');
    }
    (e.pointsToString = n),
      e.config({
        propHooks: function (t) {
          var e = t.points,
            i = r(t, ['points']);
          if (e) {
            var o = n(e);
            o && oN(i, 'attrs/body/refPoints', o);
          }
          return i;
        },
      });
  })(dw || (dw = {}));
  var d1,
    dP,
    dA,
    dE,
    dS,
    dk = dy('polygon', {}, { parent: dw }),
    d4 = dy('polyline', {}, { parent: dw }),
    dT = pI.define({
      shape: 'path',
      markup: [
        { tagName: 'rect', selector: 'bg' },
        { tagName: 'path', selector: 'body' },
        { tagName: 'text', selector: 'label' },
      ],
      attrs: {
        bg: {
          refWidth: '100%',
          refHeight: '100%',
          fill: 'none',
          stroke: 'none',
          pointerEvents: 'all',
        },
        body: { fill: 'none', stroke: '#000', strokeWidth: 2 },
      },
      propHooks: function (t) {
        var e = t.path,
          n = r(t, ['path']);
        return e && oN(n, 'attrs/body/refD', e), n;
      },
    }),
    d3 = pI.define({
      shape: 'text-block',
      markup: [
        { tagName: 'rect', selector: 'body' },
        t.Platform.SUPPORT_FOREIGNOBJECT
          ? {
              tagName: 'foreignObject',
              selector: 'foreignObject',
              children: [
                {
                  tagName: 'div',
                  ns: sg.xhtml,
                  selector: 'label',
                  style: {
                    width: '100%',
                    height: '100%',
                    position: 'static',
                    backgroundColor: 'transparent',
                    textAlign: 'center',
                    margin: 0,
                    padding: '0px 5px',
                    boxSizing: 'border-box',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                  },
                },
              ],
            }
          : {
              tagName: 'text',
              selector: 'label',
              attrs: { textAnchor: 'middle' },
            },
      ],
      attrs: {
        body: i(i({}, pI.bodyAttr), { refWidth: '100%', refHeight: '100%' }),
        foreignObject: { refWidth: '100%', refHeight: '100%' },
        label: { style: { fontSize: 14 } },
      },
      propHooks: function (t) {
        var e = t.text,
          n = r(t, ['text']);
        return e && oN(n, 'attrs/label/text', e), n;
      },
      attrHooks: {
        text: {
          set: function (t, e) {
            var n = e.cell,
              r = e.view,
              o = e.refBBox,
              s = e.elem,
              a = e.attrs;
            if (!(s instanceof HTMLElement)) {
              var l = a.style || {},
                u = i({ textVerticalAnchor: 'middle' }, l);
              return (
                oZ(
                  uB.presets.textWrap.set,
                  this,
                  { text: t, width: -5, height: '100%' },
                  { cell: n, view: r, elem: s, refBBox: o, attrs: u }
                ),
                { fill: l.color || null }
              );
            }
            s.textContent = t;
          },
          position: function (t, e) {
            var n = e.refBBox;
            if (e.elem instanceof SVGElement) return n.getCenter();
          },
        },
      },
    }),
    dM = dy(
      'image',
      {
        attrs: { image: { refWidth: '100%', refHeight: '100%' } },
        propHooks: pG(),
      },
      { selector: 'image' }
    ),
    dD = dy('image-bordered', {
      markup: [
        { tagName: 'rect', selector: 'background', attrs: { stroke: 'none' } },
        { tagName: 'image', selector: 'image' },
        { tagName: 'rect', selector: 'border', attrs: { fill: 'none' } },
        { tagName: 'text', selector: 'label' },
      ],
      attrs: {
        background: {
          refWidth: -1,
          refHeight: -1,
          x: 0.5,
          y: 0.5,
          fill: '#ffffff',
        },
        border: {
          refWidth: '100%',
          refHeight: '100%',
          stroke: '#333333',
          strokeWidth: 2,
        },
        image: { refWidth: -1, refHeight: -1, x: 0.5, y: 0.5 },
      },
      propHooks: pG(),
    }),
    d2 = dy('image-embedded', {
      markup: [
        { tagName: 'rect', selector: 'body' },
        { tagName: 'image', selector: 'image' },
        { tagName: 'text', selector: 'label' },
      ],
      attrs: {
        body: {
          refWidth: '100%',
          refHeight: '100%',
          stroke: '#333333',
          fill: '#FFFFFF',
          strokeWidth: 2,
        },
        image: {
          refWidth: '30%',
          refHeight: -20,
          x: 10,
          y: 10,
          preserveAspectRatio: 'xMidYMin',
        },
      },
      propHooks: pG(),
    }),
    dN = dy('image-inscribed', {
      propHooks: pG(),
      markup: [
        { tagName: 'ellipse', selector: 'background' },
        { tagName: 'image', selector: 'image' },
        { tagName: 'ellipse', selector: 'border', attrs: { fill: 'none' } },
        { tagName: 'text', selector: 'label' },
      ],
      attrs: {
        border: {
          refRx: '50%',
          refRy: '50%',
          refCx: '50%',
          refCy: '50%',
          stroke: '#333333',
          strokeWidth: 2,
        },
        background: {
          refRx: '50%',
          refRy: '50%',
          refCx: '50%',
          refCy: '50%',
          fill: '#ffffff',
        },
        image: {
          refWidth: '68%',
          refHeight: '68%',
          refX: '16%',
          refY: '16%',
          preserveAspectRatio: 'xMidYMid',
        },
      },
    }),
    dL = t.Edge.define({
      shape: 'edge',
      markup: [
        {
          tagName: 'path',
          selector: 'wrap',
          groupSelector: 'lines',
          attrs: {
            fill: 'none',
            cursor: 'pointer',
            stroke: 'transparent',
            strokeLinecap: 'round',
          },
        },
        {
          tagName: 'path',
          selector: 'line',
          groupSelector: 'lines',
          attrs: { fill: 'none', pointerEvents: 'none' },
        },
      ],
      attrs: {
        lines: { connection: !0, strokeLinejoin: 'round' },
        wrap: { strokeWidth: 10 },
        line: { stroke: '#333', strokeWidth: 2, targetMarker: 'classic' },
      },
    }),
    d5 = t.Edge.define({
      shape: 'shadow-edge',
      markup: [
        { tagName: 'path', selector: 'shadow', attrs: { fill: 'none' } },
        {
          tagName: 'path',
          selector: 'line',
          attrs: { fill: 'none', cursor: 'pointer' },
        },
      ],
      attrs: {
        line: {
          connection: !0,
          stroke: '#FF0000',
          strokeWidth: 20,
          strokeLinejoin: 'round',
          targetMarker: {
            name: 'path',
            stroke: 'none',
            d: 'M 0 -10 -10 0 0 10 z',
            offsetX: -5,
          },
          sourceMarker: {
            name: 'path',
            stroke: 'none',
            d: 'M -10 -10 0 0 -10 10 0 10 0 -10 z',
            offsetX: -5,
          },
        },
        shadow: {
          connection: !0,
          refX: 3,
          refY: 6,
          stroke: '#000000',
          strokeOpacity: 0.2,
          strokeWidth: 20,
          strokeLinejoin: 'round',
          targetMarker: {
            name: 'path',
            d: 'M 0 -10 -10 0 0 10 z',
            stroke: 'none',
            offsetX: -5,
          },
          sourceMarker: {
            name: 'path',
            stroke: 'none',
            d: 'M -10 -10 0 0 -10 10 0 10 0 -10 z',
            offsetX: -5,
          },
        },
      },
    }),
    d6 = t.Edge.define({
      shape: 'double-edge',
      markup: [
        { tagName: 'path', selector: 'outline', attrs: { fill: 'none' } },
        {
          tagName: 'path',
          selector: 'line',
          attrs: { fill: 'none', cursor: 'pointer' },
        },
      ],
      attrs: {
        line: {
          connection: !0,
          stroke: '#dddddd',
          strokeWidth: 4,
          strokeLinejoin: 'round',
          targetMarker: {
            tagName: 'path',
            stroke: '#000000',
            d: 'M 10 -3 10 -10 -2 0 10 10 10 3',
          },
        },
        outline: {
          connection: !0,
          stroke: '#000000',
          strokeWidth: 6,
          strokeLinejoin: 'round',
        },
      },
    }),
    d7 = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'html', {
          get: function () {
            return this.getHTML();
          },
          set: function (t) {
            this.setHTML(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.getHTML = function () {
          return this.store.get('html');
        }),
        (e.prototype.setHTML = function (t, e) {
          return (
            void 0 === e && (e = {}),
            null == t ? this.removeHTML(e) : this.store.set('html', t, e),
            this
          );
        }),
        (e.prototype.removeHTML = function (t) {
          return void 0 === t && (t = {}), this.store.remove('html', t);
        }),
        e
      );
    })(pI);
  (d1 = d7 || (d7 = {})),
    (dP = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        (e.prototype.init = function () {
          var e = this;
          t.prototype.init.call(this),
            this.cell.on('change:*', function () {
              e.graph.hook.shouldUpdateHTMLComponent(e.cell) &&
                e.renderHTMLComponent();
            });
        }),
        (e.prototype.confirmUpdate = function (n) {
          var i = this,
            r = t.prototype.confirmUpdate.call(this, n);
          return this.handleAction(r, e.action, function () {
            return i.renderHTMLComponent();
          });
        }),
        (e.prototype.renderHTMLComponent = function () {
          var t = this.selectors && this.selectors.foContent;
          if (t) {
            var e = this.$(t).empty(),
              n = this.graph.hook.getHTMLComponent(this.cell);
            n && ('string' == typeof n ? e.html(n) : e.append(n));
          }
        }),
        e
      );
    })(t.NodeView)),
    (d1.View = dP),
    ((dA = dP = d1.View || (d1.View = {})).action = 'html'),
    dA.config({ bootstrap: [dA.action], actions: { html: dA.action } }),
    t.NodeView.registry.register('html-view', dA),
    (dE = d7 || (d7 = {})).config({
      view: 'html-view',
      markup: [
        { tagName: 'rect', selector: 'body' },
        i({}, t.Markup.getForeignObjectMarkup()),
        { tagName: 'text', selector: 'label' },
      ],
      attrs: {
        body: {
          fill: 'none',
          stroke: 'none',
          refWidth: '100%',
          refHeight: '100%',
        },
        fo: { refWidth: '100%', refHeight: '100%' },
      },
    }),
    t.Node.registry.register('html', dE),
    ((d7 || (d7 = {})).componentRegistry = l5.create({
      type: 'html componnet',
    }));
  var dF,
    dz = Object.freeze({
      __proto__: null,
      Empty: dv,
      Rect: dm,
      HeaderedRect: d_,
      Circle: dC,
      Cylinder: db,
      Ellipse: dx,
      Polygon: dk,
      Polyline: d4,
      Path: dT,
      TextBlock: d3,
      Image: dM,
      BorderedImage: dD,
      EmbeddedImage: d2,
      InscribedImage: dN,
      Edge: dL,
      ShadowEdge: d5,
      DoubleEdge: d6,
      get HTML() {
        return d7;
      },
    }),
    dB = (function (t) {
      function e(n) {
        var r = t.call(this) || this;
        return (
          (r.delay = 10),
          (r.throttle = 2),
          (r.threshold = 5),
          (r.changeCount = 0),
          (r.timestamp = 0),
          (r.options = i(i({}, e.defaultOptions), n)),
          r.graph.model.on('cell:change:*', r.onModelChanged, r),
          r
        );
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'graph', {
          get: function () {
            return this.options.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.onModelChanged = function () {
          if (!this.disabled) {
            var t = (new Date().getTime() - this.timestamp) / 1e3;
            t > this.delay ||
            (this.changeCount >= this.threshold && t > this.throttle)
              ? (this.save(), this.reset())
              : (this.changeCount += 1);
          }
        }),
        (e.prototype.save = function () {
          this.trigger('save');
        }),
        (e.prototype.reset = function () {
          (this.changeCount = 0), (this.timestamp = new Date().getTime());
        }),
        (e.prototype.dispose = function () {
          this.graph.model.off('cell:change:*', this.onModelChanged, this);
        }),
        o([cF.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(cF);
  (dF = dB || (dB = {})).defaultOptions = {
    delay: 10,
    throttle: 2,
    threshold: 5,
  };
  var dO,
    dV,
    dR,
    dI,
    d8,
    dG,
    dj,
    dH = (function (t) {
      function e(e) {
        var n = t.call(this) || this;
        return (n.graph = e), n.init(), n;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'options', {
          get: function () {
            return this.graph.options;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'model', {
          get: function () {
            return this.graph.model;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'view', {
          get: function () {
            return this.graph.view;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.init = function () {}),
        e
      );
    })(t.Disposable),
    dU = (function (e) {
      function i(n) {
        var r = e.call(this) || this;
        r.graph = n;
        var o = t.Markup.parseJSONMarkup(i.markup),
          s = o.selectors,
          a = o.fragment;
        return (
          (r.background = s.background),
          (r.grid = s.grid),
          (r.svg = s.svg),
          (r.defs = s.defs),
          (r.viewport = s.viewport),
          (r.primer = s.primer),
          (r.stage = s.stage),
          (r.decorator = s.decorator),
          (r.overlay = s.overlay),
          (r.container = r.options.container),
          (r.restore = i.snapshoot(r.container)),
          r.$(r.container).addClass(r.prefixClassName('graph')).append(a),
          r.delegateEvents(),
          r
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'model', {
          get: function () {
            return this.graph.model;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'options', {
          get: function () {
            return this.graph.options;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.delegateEvents = function () {
          var t = this.constructor;
          return e.prototype.delegateEvents.call(this, t.events), this;
        }),
        (i.prototype.guard = function (e, n) {
          return (
            ('mousedown' === e.type && 2 === e.button) ||
            !(!this.options.guard || !this.options.guard(e, n)) ||
            (e.data && void 0 !== e.data.guarded
              ? e.data.guarded
              : !(n && n.cell && t.Cell.isCell(n.cell)) &&
                this.svg !== e.target &&
                this.container !== e.target &&
                !d.contains(this.svg, e.target))
          );
        }),
        (i.prototype.findView = function (t) {
          return this.graph.renderer.findViewByElem(t);
        }),
        (i.prototype.onDblClick = function (t) {
          this.options.preventDefaultDblClick && t.preventDefault();
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          if (!this.guard(e, n)) {
            var i = this.graph.snapToGrid(e.clientX, e.clientY);
            n
              ? n.onDblClick(e, i.x, i.y)
              : this.graph.trigger('blank:dblclick', { e: e, x: i.x, y: i.y });
          }
        }),
        (i.prototype.onClick = function (t) {
          if (this.getMouseMovedCount(t) <= this.options.clickThreshold) {
            var e = this.normalizeEvent(t),
              n = this.findView(e.target);
            if (!this.guard(e, n)) {
              var i = this.graph.snapToGrid(e.clientX, e.clientY);
              n
                ? n.onClick(e, i.x, i.y)
                : this.graph.trigger('blank:click', { e: e, x: i.x, y: i.y });
            }
          }
        }),
        (i.prototype.isPreventDefaultContextMenu = function (t, e) {
          var n = this.options.preventDefaultContextMenu;
          return (
            'function' == typeof n && (n = oZ(n, this.graph, { view: e })), n
          );
        }),
        (i.prototype.onContextMenu = function (t) {
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          if (
            (this.isPreventDefaultContextMenu(e, n) && t.preventDefault(),
            !this.guard(e, n))
          ) {
            var i = this.graph.snapToGrid(e.clientX, e.clientY);
            n
              ? n.onContextMenu(e, i.x, i.y)
              : this.graph.trigger('blank:contextmenu', {
                  e: e,
                  x: i.x,
                  y: i.y,
                });
          }
        }),
        (i.prototype.delegateDragEvents = function (t, e) {
          null == t.data && (t.data = {}),
            this.setEventData(t, {
              currentView: e || null,
              mouseMovedCount: 0,
              startPosition: { x: t.clientX, y: t.clientY },
            });
          var n = this.constructor;
          this.delegateDocumentEvents(n.documentEvents, t.data),
            this.undelegateEvents();
        }),
        (i.prototype.getMouseMovedCount = function (t) {
          return this.getEventData(t).mouseMovedCount || 0;
        }),
        (i.prototype.onMouseDown = function (t) {
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          if (!this.guard(e, n)) {
            this.options.preventDefaultMouseDown && e.preventDefault();
            var i = this.graph.snapToGrid(e.clientX, e.clientY);
            n
              ? n.onMouseDown(e, i.x, i.y)
              : (this.options.preventDefaultBlankAction &&
                  ['touchstart'].includes(e.type) &&
                  e.preventDefault(),
                this.graph.trigger('blank:mousedown', {
                  e: e,
                  x: i.x,
                  y: i.y,
                })),
              this.delegateDragEvents(e, n);
          }
        }),
        (i.prototype.onMouseMove = function (t) {
          var e = this.getEventData(t),
            n = e.startPosition;
          if (
            (!n || n.x !== t.clientX || n.y !== t.clientY) &&
            (null == e.mouseMovedCount && (e.mouseMovedCount = 0),
            (e.mouseMovedCount += 1),
            !(e.mouseMovedCount <= this.options.moveThreshold))
          ) {
            var i = this.normalizeEvent(t),
              r = this.graph.snapToGrid(i.clientX, i.clientY),
              o = e.currentView;
            o
              ? o.onMouseMove(i, r.x, r.y)
              : this.graph.trigger('blank:mousemove', { e: i, x: r.x, y: r.y }),
              this.setEventData(i, e);
          }
        }),
        (i.prototype.onMouseUp = function (t) {
          this.undelegateDocumentEvents();
          var e = this.normalizeEvent(t),
            n = this.graph.snapToGrid(e.clientX, e.clientY),
            i = this.getEventData(t).currentView;
          i
            ? i.onMouseUp(e, n.x, n.y)
            : this.graph.trigger('blank:mouseup', { e: e, x: n.x, y: n.y }),
            t.isPropagationStopped() ||
              this.onClick(d.Event(t, { type: 'click', data: t.data })),
            t.stopImmediatePropagation(),
            this.delegateEvents();
        }),
        (i.prototype.onMouseOver = function (t) {
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          if (!this.guard(e, n)) {
            if (n) n.onMouseOver(e);
            else {
              if (this.container === e.target) return;
              this.graph.trigger('blank:mouseover', { e: e });
            }
          }
        }),
        (i.prototype.onMouseOut = function (t) {
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          if (!this.guard(e, n)) {
            if (n) n.onMouseOut(e);
            else {
              if (this.container === e.target) return;
              this.graph.trigger('blank:mouseout', { e: e });
            }
          }
        }),
        (i.prototype.onMouseEnter = function (t) {
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          if (!this.guard(e, n)) {
            var i = this.graph.renderer.findViewByElem(e.relatedTarget);
            if (n) {
              if (i === n) return;
              n.onMouseEnter(e);
            } else {
              if (i) return;
              this.graph.trigger('graph:mouseenter', { e: e });
            }
          }
        }),
        (i.prototype.onMouseLeave = function (t) {
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          if (!this.guard(e, n)) {
            var i = this.graph.renderer.findViewByElem(e.relatedTarget);
            if (n) {
              if (i === n) return;
              n.onMouseLeave(e);
            } else {
              if (i) return;
              this.graph.trigger('graph:mouseleave', { e: e });
            }
          }
        }),
        (i.prototype.onMouseWheel = function (t) {
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          if (!this.guard(e, n)) {
            var i = e.originalEvent,
              r = this.graph.snapToGrid(i.clientX, i.clientY),
              o = Math.max(-1, Math.min(1, i.wheelDelta || -i.detail));
            n
              ? n.onMouseWheel(e, r.x, r.y, o)
              : this.graph.trigger('blank:mousewheel', {
                  e: e,
                  delta: o,
                  x: r.x,
                  y: r.y,
                });
          }
        }),
        (i.prototype.onCustomEvent = function (t) {
          var e = t.currentTarget,
            n = e.getAttribute('event') || e.getAttribute('data-event');
          if (n) {
            var i = this.findView(e);
            if (i) {
              var r = this.normalizeEvent(t);
              if (this.guard(r, i)) return;
              var o = this.graph.snapToGrid(r.clientX, r.clientY);
              i.onCustomEvent(r, n, o.x, o.y);
            }
          }
        }),
        (i.prototype.handleMagnetEvent = function (t, e) {
          var n = t.currentTarget,
            i = n.getAttribute('magnet');
          if (i && 'false' !== i.toLowerCase()) {
            var r = this.findView(n);
            if (r) {
              var o = this.normalizeEvent(t);
              if (this.guard(o, r)) return;
              var s = this.graph.snapToGrid(o.clientX, o.clientY);
              oZ(e, this.graph, r, o, n, s.x, s.y);
            }
          }
        }),
        (i.prototype.onMagnetMouseDown = function (t) {
          this.handleMagnetEvent(t, function (t, e, n, i, r) {
            t.onMagnetMouseDown(e, n, i, r);
          });
        }),
        (i.prototype.onMagnetDblClick = function (t) {
          this.handleMagnetEvent(t, function (t, e, n, i, r) {
            t.onMagnetDblClick(e, n, i, r);
          });
        }),
        (i.prototype.onMagnetContextMenu = function (t) {
          var e = this.normalizeEvent(t),
            n = this.findView(e.target);
          this.isPreventDefaultContextMenu(e, n) && e.preventDefault(),
            this.handleMagnetEvent(e, function (t, e, n, i, r) {
              t.onMagnetContextMenu(e, n, i, r);
            });
        }),
        (i.prototype.onLabelMouseDown = function (t) {
          var e = t.currentTarget,
            n = this.findView(e);
          if (n) {
            var i = this.normalizeEvent(t);
            if (this.guard(i, n)) return;
            var r = this.graph.snapToGrid(i.clientX, i.clientY);
            n.onLabelMouseDown(i, r.x, r.y);
          }
        }),
        (i.prototype.onImageDragStart = function () {
          return !1;
        }),
        (i.prototype.dispose = function () {
          this.undelegateEvents(),
            this.undelegateDocumentEvents(),
            this.restore(),
            (this.restore = function () {});
        }),
        o([t.View.dispose()], i.prototype, 'dispose', null),
        i
      );
    })(t.View);
  (dV = dU || (dU = {})),
    (dR = ce.prefixCls + '-graph'),
    (dV.markup = [
      {
        ns: sg.xhtml,
        tagName: 'div',
        selector: 'background',
        className: dR + '-background',
      },
      {
        ns: sg.xhtml,
        tagName: 'div',
        selector: 'grid',
        className: dR + '-grid',
      },
      {
        ns: sg.svg,
        tagName: 'svg',
        selector: 'svg',
        className: dR + '-svg',
        attrs: { width: '100%', height: '100%', 'xmlns:xlink': sg.xlink },
        children: [
          { tagName: 'defs', selector: 'defs' },
          {
            tagName: 'g',
            selector: 'viewport',
            className: dR + '-svg-viewport',
            children: [
              {
                tagName: 'g',
                selector: 'primer',
                className: dR + '-svg-primer',
              },
              { tagName: 'g', selector: 'stage', className: dR + '-svg-stage' },
              {
                tagName: 'g',
                selector: 'decorator',
                className: dR + '-svg-decorator',
              },
              {
                tagName: 'g',
                selector: 'overlay',
                className: dR + '-svg-overlay',
              },
            ],
          },
        ],
      },
    ]),
    (dV.snapshoot = function (t) {
      var e = t.cloneNode();
      return (
        t.childNodes.forEach(function (t) {
          return e.appendChild(t);
        }),
        function () {
          for (sE(t); t.attributes.length > 0; )
            t.removeAttribute(t.attributes[0].name);
          for (var n = 0, i = e.attributes.length; n < i; n += 1) {
            var r = e.attributes[n];
            t.setAttribute(r.name, r.value);
          }
          e.childNodes.forEach(function (e) {
            return t.appendChild(e);
          });
        }
      );
    }),
    (dI = dU || (dU = {})),
    (dG = ce.prefixCls),
    (dI.events =
      (((d8 = {
        dblclick: 'onDblClick',
        contextmenu: 'onContextMenu',
        touchstart: 'onMouseDown',
        mousedown: 'onMouseDown',
        mouseover: 'onMouseOver',
        mouseout: 'onMouseOut',
        mouseenter: 'onMouseEnter',
        mouseleave: 'onMouseLeave',
        mousewheel: 'onMouseWheel',
        DOMMouseScroll: 'onMouseWheel',
      })['mouseenter  .' + dG + '-cell'] = 'onMouseEnter'),
      (d8['mouseleave  .' + dG + '-cell'] = 'onMouseLeave'),
      (d8['mouseenter  .' + dG + '-cell-tools'] = 'onMouseEnter'),
      (d8['mouseleave  .' + dG + '-cell-tools'] = 'onMouseLeave'),
      (d8['mousedown   .' + dG + '-cell [event]'] = 'onCustomEvent'),
      (d8['touchstart  .' + dG + '-cell [event]'] = 'onCustomEvent'),
      (d8['mousedown   .' + dG + '-cell [data-event]'] = 'onCustomEvent'),
      (d8['touchstart  .' + dG + '-cell [data-event]'] = 'onCustomEvent'),
      (d8['dblclick    .' + dG + '-cell [magnet]'] = 'onMagnetDblClick'),
      (d8['contextmenu .' + dG + '-cell [magnet]'] = 'onMagnetContextMenu'),
      (d8['mousedown   .' + dG + '-cell [magnet]'] = 'onMagnetMouseDown'),
      (d8['touchstart  .' + dG + '-cell [magnet]'] = 'onMagnetMouseDown'),
      (d8['dblclick    .' + dG + '-cell [data-magnet]'] = 'onMagnetDblClick'),
      (d8['contextmenu .' + dG + '-cell [data-magnet]'] =
        'onMagnetContextMenu'),
      (d8['mousedown   .' + dG + '-cell [data-magnet]'] = 'onMagnetMouseDown'),
      (d8['touchstart  .' + dG + '-cell [data-magnet]'] = 'onMagnetMouseDown'),
      (d8['dragstart   .' + dG + '-cell image'] = 'onImageDragStart'),
      (d8['mousedown   .' + dG + '-edge .' + dG + '-edge-label'] =
        'onLabelMouseDown'),
      (d8['touchstart  .' + dG + '-edge .' + dG + '-edge-label'] =
        'onLabelMouseDown'),
      d8)),
    (dI.documentEvents = {
      mousemove: 'onMouseMove',
      touchmove: 'onMouseMove',
      mouseup: 'onMouseUp',
      touchend: 'onMouseUp',
      touchcancel: 'onMouseUp',
    }),
    ((dO || (dO = {})).checkScroller = function (t, e) {
      return function (n, i, r) {
        var o = r.value;
        r.value = function () {
          for (var n = [], r = 0; r < arguments.length; r++)
            n[r] = arguments[r];
          if (null == this.scroller.widget) {
            var a = "Shoule enable scroller to use method '" + i + "'";
            if (!1 !== t) throw (console.error(a), Error(a));
            return !1 !== e && console.warn(a), this;
          }
          return o.call.apply(o, s([this], n, !1));
        };
      };
    });
  var dq,
    d9,
    dW,
    dX = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        (e.prototype.init = function () {
          ce.autoInsertCSS && e.ensure();
        }),
        (e.prototype.dispose = function () {
          e.clean();
        }),
        o([e.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(dH);
  (dq = dX || (dX = {})),
    (dW = 0),
    (dq.ensure = function () {
      if (!((dW += 1) > 1 || t.Platform.isApplyingHMR())) {
        (d9 = document.createElement('style')).setAttribute('type', 'text/css'),
          (d9.textContent =
            ".x6-graph {\n  position: relative;\n  outline: none;\n  touch-action: none;\n}\n.x6-graph-background,\n.x6-graph-grid,\n.x6-graph-svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-background-stage,\n.x6-graph-grid-stage,\n.x6-graph-svg-stage {\n  user-select: none;\n}\n.x6-graph.x6-graph-pannable {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph.x6-graph-panning {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-node {\n  cursor: move;\n  /* stylelint-disable-next-line */\n}\n.x6-node.x6-node-immovable {\n  cursor: default;\n}\n.x6-node * {\n  -webkit-user-drag: none;\n}\n.x6-node .scalable * {\n  vector-effect: non-scaling-stroke;\n}\n.x6-node [magnet='true'] {\n  cursor: crosshair;\n  transition: opacity 0.3s;\n}\n.x6-node [magnet='true']:hover {\n  opacity: 0.7;\n}\n.x6-node foreignObject {\n  display: block;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-node foreignObject > body {\n  position: static;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-edge .source-marker,\n.x6-edge .target-marker {\n  vector-effect: non-scaling-stroke;\n}\n.x6-edge .connection {\n  stroke-linejoin: round;\n  fill: none;\n}\n.x6-edge .connection-wrap {\n  cursor: move;\n  opacity: 0;\n  fill: none;\n  stroke: #000;\n  stroke-width: 15;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n.x6-edge .connection-wrap:hover {\n  opacity: 0.4;\n  stroke-opacity: 0.4;\n}\n.x6-edge .vertices {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .vertices .vertex {\n  fill: #1abc9c;\n}\n.x6-edge .vertices .vertex :hover {\n  fill: #34495e;\n  stroke: none;\n}\n.x6-edge .vertices .vertex-remove {\n  cursor: pointer;\n  fill: #fff;\n}\n.x6-edge .vertices .vertex-remove-area {\n  cursor: pointer;\n  opacity: 0.1;\n}\n.x6-edge .vertices .vertex-group:hover .vertex-remove-area {\n  opacity: 1;\n}\n.x6-edge .arrowheads {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .arrowheads .arrowhead {\n  fill: #1abc9c;\n}\n.x6-edge .arrowheads .arrowhead :hover {\n  fill: #f39c12;\n  stroke: none;\n}\n.x6-edge .tools {\n  cursor: pointer;\n  opacity: 0;\n}\n.x6-edge .tools .tool-options {\n  display: none;\n}\n.x6-edge .tools .tool-remove circle {\n  fill: #f00;\n}\n.x6-edge .tools .tool-remove path {\n  fill: #fff;\n}\n.x6-edge:hover .vertices,\n.x6-edge:hover .arrowheads,\n.x6-edge:hover .tools {\n  opacity: 1;\n}\n.x6-highlight-opacity {\n  opacity: 0.3;\n}\n@keyframes halo-pie-visibility {\n  0% {\n    visibility: hidden;\n  }\n  100% {\n    visibility: visible;\n  }\n}\n@keyframes halo-pie-opening {\n  0% {\n    transform: scale(0.4) rotate(-20deg);\n  }\n  100% {\n    transform: scale(1) rotate(0);\n  }\n}\n.x6-widget-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: 0 0;\n  background-size: 20px 20px;\n  cursor: pointer;\n  user-select: none;\n  pointer-events: auto;\n  -webkit-user-drag: none;\n  user-drag: none;\n  /* stylelint-disable-line */\n}\n.x6-widget-handle.hidden {\n  display: none;\n}\n.x6-widget-handle-selected {\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 3px;\n}\n.x6-widget-handle-remove {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n  cursor: pointer;\n}\n.x6-widget-handle-remove:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-rotate {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');\n  cursor: move;\n}\n.x6-widget-handle-rotate:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-resize {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');\n  cursor: se-resize;\n}\n.x6-widget-handle-resize:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');\n}\n.x6-widget-handle-clone {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n  cursor: move;\n}\n.x6-widget-handle-clone:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-link {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');\n  cursor: move;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n.x6-widget-handle-link:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-fork {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n  cursor: move;\n}\n.x6-widget-handle-fork:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-unlink {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-unlink:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-direction {\n  background-image: url(\"data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\");\n}\n.x6-widget-handle-direction:hover {\n  background-image: url(\"data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\");\n}\n.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {\n  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-se {\n  right: -25px;\n  bottom: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-nw {\n  top: -21px;\n  left: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-n {\n  top: -22px;\n  left: 50%;\n  margin-left: -10px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-e {\n  top: -webkit-calc(40%);\n  top: calc(50% - 10px);\n  right: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-ne {\n  top: -21px;\n  right: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-w {\n  top: 50%;\n  left: -25px;\n  margin-top: -10px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-sw {\n  bottom: -25px;\n  left: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-s {\n  bottom: -24px;\n  left: 50%;\n  margin-left: -10px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {\n  width: 15px;\n  height: 15px;\n  font-size: 15px;\n  background-size: 15px 15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {\n  right: -19px;\n  bottom: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {\n  top: -19px;\n  left: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {\n  top: -19px;\n  margin-left: -7.5px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {\n  top: -webkit-calc(42%);\n  top: calc(50% - 8px);\n  right: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {\n  top: -19px;\n  right: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {\n  left: -19px;\n  margin-top: -8px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {\n  bottom: -19px;\n  left: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {\n  bottom: -19px;\n  margin-left: -7.5px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {\n  width: 10px;\n  height: 10px;\n  font-size: 10px;\n  background-size: 10px 10px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {\n  right: -15px;\n  bottom: -13px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {\n  top: -13px;\n  left: -15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {\n  top: -13px;\n  margin-left: -5px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {\n  top: -webkit-calc(45%);\n  top: calc(50% - 5px);\n  right: -15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {\n  top: -13px;\n  right: -15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {\n  left: -15px;\n  margin-top: -5px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {\n  bottom: -13px;\n  left: -15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {\n  bottom: -13px;\n  margin-left: -5px;\n}\n.x6-widget-handle-toolbar {\n  position: absolute;\n  top: -50px;\n  display: table-row;\n  padding: 7px 5px;\n}\n.x6-widget-handle-toolbar::after {\n  position: absolute;\n  top: 100%;\n  left: 10px;\n  width: 0;\n  height: 0;\n  margin-top: 4px;\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n  content: '';\n}\n.x6-widget-handle-toolbar .x6-widget-handle {\n  position: relative;\n  display: table-cell;\n  min-width: 20px;\n  margin: 0 2px;\n  background-position: 3px 3px;\n  background-size: 16px 16px;\n}\n.x6-widget-handle-toolbar .x6-widget-handle::after {\n  position: absolute;\n  bottom: -11px;\n  width: 100%;\n  content: '';\n}\n.x6-widget-handle-pie {\n  position: absolute;\n  top: -webkit-calc(0%);\n  top: calc(50% - 50px);\n  right: -50px;\n  z-index: 1;\n  display: none;\n  width: 100px;\n  height: 100px;\n  margin: -2px -2px 0 0;\n  border-radius: 50%;\n  cursor: default;\n  pointer-events: visiblePainted;\n}\n.x6-widget-handle-pie .x6-widget-handle {\n  width: 1px;\n  height: auto;\n  pointer-events: visiblePainted;\n}\n.x6-widget-handle-pie-slice-svg {\n  width: 100%;\n  height: 100%;\n  overflow: visible !important;\n}\n.x6-widget-handle-pie-slice-img,\n.x6-widget-handle-pie-slice-txt {\n  display: none;\n  pointer-events: none;\n}\n.x6-widget-handle-pie[data-pie-toggle-position='e'] {\n  top: calc(50% - 50px);\n  right: -50px;\n  left: auto;\n}\n.x6-widget-handle-pie[data-pie-toggle-position='w'] {\n  top: calc(50% - 50px);\n  right: auto;\n  left: -52px;\n}\n.x6-widget-handle-pie[data-pie-toggle-position='n'] {\n  top: -50px;\n  right: auto;\n  bottom: auto;\n  left: calc(50% - 52px);\n}\n.x6-widget-handle-pie[data-pie-toggle-position='s'] {\n  top: auto;\n  right: auto;\n  bottom: -52px;\n  left: calc(50% - 52px);\n}\n.x6-widget-handle-pie-opened {\n  display: block;\n  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;\n  animation-timing-function: step-end, ease;\n  animation-delay: 0s, 0.1s;\n}\n.x6-widget-handle-pie-toggle {\n  position: absolute;\n  top: -webkit-calc(35%);\n  top: calc(50% - 15px);\n  right: -15px;\n  z-index: 2;\n  display: block;\n  box-sizing: border-box;\n  width: 30px;\n  height: 30px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 20px 20px;\n  border-radius: 50%;\n  cursor: pointer;\n  user-select: none;\n  pointer-events: visiblePainted;\n  -webkit-user-drag: none;\n  user-drag: none;\n  /* stylelint-disable-line */\n}\n.x6-widget-handle-pie-toggle-pos-e {\n  top: -webkit-calc(35%);\n  top: calc(50% - 15px);\n  right: -15px;\n  bottom: auto;\n  left: auto;\n}\n.x6-widget-handle-pie-toggle-pos-w {\n  top: -webkit-calc(35%);\n  top: calc(50% - 15px);\n  right: auto;\n  bottom: auto;\n  left: -15px;\n}\n.x6-widget-handle-pie-toggle-pos-n {\n  top: -15px;\n  right: auto;\n  bottom: auto;\n  left: -webkit-calc(35%);\n  left: calc(50% - 15px);\n}\n.x6-widget-handle-pie-toggle-pos-s {\n  top: auto;\n  right: auto;\n  bottom: -15px;\n  left: -webkit-calc(35%);\n  left: calc(50% - 15px);\n}\n.x6-widget-handle-pie-toggle-opened {\n  transition: 0.1s background-image;\n}\n.x6-widget-handle-toolbar {\n  position: static;\n  display: inline-block;\n  margin-top: -50px;\n  margin-left: 45px;\n  white-space: nowrap;\n  vertical-align: top;\n  background-color: #f5f5f5;\n  border-bottom: 3px solid #333;\n  border-radius: 5px;\n  box-shadow: 0 1px 2px #222;\n}\n.x6-widget-handle-toolbar::after {\n  top: -12px;\n  left: 55px;\n  margin-top: 0;\n  border-top: 6px solid #333;\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n}\n.x6-widget-handle-toolbar .x6-widget-handle {\n  display: inline-block;\n  vertical-align: top;\n}\n.x6-widget-handle-toolbar .x6-widget-handle:hover::after {\n  border-bottom: 4px solid #fc6cb8;\n}\n.x6-widget-handle-toolbar .x6-widget-handle-rotate {\n  position: absolute;\n  top: 100%;\n  right: 100%;\n  margin-top: 3px;\n  margin-right: 6px;\n}\n.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,\n.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {\n  border-bottom: none;\n}\n.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {\n  margin-left: 4px;\n}\n.x6-widget-handle-pie {\n  box-sizing: content-box;\n  background-color: #f5f5f5;\n  border: 2px solid #404040;\n}\n.x6-widget-handle-pie-slice {\n  fill: transparent;\n  stroke: #e9e9e9;\n  stroke-width: 1;\n}\n.x6-widget-handle-pie-slice:hover {\n  fill: #fff;\n}\n.x6-widget-handle-pie-slice-img {\n  display: block;\n}\n.x6-widget-handle-selected .x6-widget-handle-pie-slice {\n  fill: #fff;\n}\n.x6-widget-handle-pie-toggle {\n  background-color: #f6f6f6;\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');\n  background-size: 16px 16px;\n  border: 2px solid #3b425f;\n}\n.x6-widget-handle-pie-toggle:hover {\n  background-color: #fff;\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');\n  border-color: #fd6eb6;\n}\n.x6-widget-handle-pie-toggle-opened {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');\n}\n.x6-widget-handle-pie-toggle-opened:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');\n}\n.x6-widget-dnd {\n  position: absolute;\n  top: -10000px;\n  left: -10000px;\n  z-index: 999999;\n  display: none;\n  cursor: move;\n  opacity: 0.7;\n  pointer-events: 'cursor';\n}\n.x6-widget-dnd.dragging {\n  display: inline-block;\n}\n.x6-widget-dnd.dragging * {\n  pointer-events: none !important;\n}\n.x6-widget-dnd .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n.x6-widget-halo {\n  position: absolute;\n  pointer-events: none;\n}\n.x6-widget-halo-content {\n  position: absolute;\n  top: 100%;\n  padding: 6px;\n  font-size: 10px;\n  line-height: 14px;\n  text-align: center;\n  border-radius: 6px;\n}\n.x6-widget-halo-handles + .x6-widget-halo-content {\n  right: -20px;\n  left: -20px;\n  margin-top: 30px;\n}\n.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {\n  margin-top: 25px;\n}\n.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {\n  margin-top: 20px;\n}\n.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {\n  right: 0;\n  left: 0;\n  margin-top: 10px;\n}\n.x6-widget-halo-content {\n  color: #fff;\n  background-color: #6a6b8a;\n}\n.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {\n  position: absolute;\n  right: 100%;\n  bottom: 100%;\n  margin-right: 6px;\n  margin-bottom: 3px;\n}\n.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {\n  background-color: #fff;\n  border-radius: 50%;\n}\n.x6-widget-halo.type-edge .x6-widget-handle-toolbar {\n  margin-top: -60px;\n  margin-left: -18px;\n}\n.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {\n  top: -22px;\n  left: -9px;\n}\n.x6-widget-minimap {\n  position: relative;\n  display: table-cell;\n  box-sizing: border-box;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  background-color: #fff;\n  user-select: none;\n}\n.x6-widget-minimap .x6-graph {\n  display: inline-block;\n  box-shadow: 0 0 4px 0 #eee;\n  cursor: pointer;\n}\n.x6-widget-minimap .x6-graph > svg {\n  pointer-events: none;\n  shape-rendering: optimizeSpeed;\n}\n.x6-widget-minimap .x6-graph .x6-node * {\n  /* stylelint-disable-next-line */\n  vector-effect: initial;\n}\n.x6-widget-minimap-viewport {\n  position: absolute;\n  box-sizing: content-box !important;\n  margin: -2px 0 0 -2px;\n  border: 2px solid #31d0c6;\n  cursor: move;\n}\n.x6-widget-minimap-viewport-zoom {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  box-sizing: border-box;\n  width: 12px;\n  height: 12px;\n  margin: 0 -6px -6px 0;\n  background-color: #fff;\n  border: 2px solid #31d0c6;\n  border-radius: 50%;\n  cursor: nwse-resize;\n}\n.x6-graph-scroller {\n  position: relative;\n  box-sizing: border-box;\n  overflow: scroll;\n  outline: none;\n}\n.x6-graph-scroller-content {\n  position: relative;\n}\n.x6-graph-scroller-background {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-scroller .x6-graph {\n  position: absolute;\n  display: inline-block;\n  margin: 0;\n  box-shadow: none;\n}\n.x6-graph-scroller .x6-graph > svg {\n  display: block;\n}\n.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {\n  box-shadow: 0 0 4px 0 #eee;\n}\n.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-graph-pagebreak {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-pagebreak-vertical {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  box-sizing: border-box;\n  width: 1px;\n  border-left: 1px dashed #bdbdbd;\n}\n.x6-graph-pagebreak-horizontal {\n  position: absolute;\n  right: 0;\n  left: 0;\n  box-sizing: border-box;\n  height: 1px;\n  border-top: 1px dashed #bdbdbd;\n}\n.x6-widget-selection {\n  position: absolute;\n  display: none;\n  width: 0;\n  height: 0;\n  touch-action: none;\n}\n.x6-widget-selection-rubberband {\n  display: block;\n  overflow: visible;\n  opacity: 0.3;\n}\n.x6-widget-selection-selected {\n  display: block;\n}\n.x6-widget-selection-box {\n  cursor: move;\n}\n.x6-widget-selection-inner[data-selection-length='0'],\n.x6-widget-selection-inner[data-selection-length='1'] {\n  display: none;\n}\n.x6-widget-selection-content {\n  position: absolute;\n  top: 100%;\n  right: -20px;\n  left: -20px;\n  margin-top: 30px;\n  padding: 6px;\n  line-height: 14px;\n  text-align: center;\n  border-radius: 6px;\n}\n.x6-widget-selection-content:empty {\n  display: none;\n}\n.x6-widget-selection-rubberband {\n  background-color: #3498db;\n  border: 2px solid #2980b9;\n}\n.x6-widget-selection-box {\n  box-sizing: content-box !important;\n  margin-top: -4px;\n  margin-left: -4px;\n  padding-right: 4px;\n  padding-bottom: 4px;\n  border: 2px dashed #feb663;\n  box-shadow: 2px 2px 5px #d3d3d3;\n}\n.x6-widget-selection-inner {\n  box-sizing: content-box !important;\n  margin-top: -8px;\n  margin-left: -8px;\n  padding-right: 12px;\n  padding-bottom: 12px;\n  border: 2px solid #feb663;\n  box-shadow: 2px 2px 5px #d3d3d3;\n}\n.x6-widget-selection-content {\n  color: #fff;\n  font-size: 10px;\n  background-color: #6a6b8a;\n}\n.x6-widget-snapline {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n}\n.x6-widget-snapline-vertical,\n.x6-widget-snapline-horizontal {\n  stroke: #2ecc71;\n  stroke-width: 1px;\n}\n.x6-widget-stencil {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-widget-stencil::after {\n  position: absolute;\n  top: 0;\n  display: block;\n  width: 100%;\n  height: 20px;\n  padding: 8px 0;\n  line-height: 20px;\n  text-align: center;\n  opacity: 0;\n  transition: top 0.1s linear, opacity 0.1s linear;\n  content: ' ';\n  pointer-events: none;\n}\n.x6-widget-stencil-content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: auto;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {\n  pointer-events: none;\n}\n.x6-widget-stencil-group {\n  padding: 0;\n  padding-bottom: 8px;\n  overflow: hidden;\n  user-select: none;\n}\n.x6-widget-stencil-group.collapsed {\n  height: auto;\n  padding-bottom: 0;\n}\n.x6-widget-stencil-group-title {\n  position: relative;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 4px;\n  cursor: pointer;\n}\n.x6-widget-stencil-title,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  user-select: none;\n}\n.x6-widget-stencil .unmatched {\n  opacity: 0.3;\n}\n.x6-widget-stencil .x6-node.unmatched {\n  display: none;\n}\n.x6-widget-stencil-group.unmatched {\n  display: none;\n}\n.x6-widget-stencil-search-text {\n  position: relative;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 100%;\n  height: 30px;\n  max-height: 30px;\n  line-height: 30px;\n  outline: 0;\n}\n.x6-widget-stencil.not-found::after {\n  opacity: 1;\n  content: attr(data-not-found-text);\n}\n.x6-widget-stencil.not-found.searchable::after {\n  top: 30px;\n}\n.x6-widget-stencil.not-found.searchable.collapsable::after {\n  top: 50px;\n}\n.x6-widget-stencil {\n  color: #333;\n  background: #f5f5f5;\n}\n.x6-widget-stencil-content {\n  position: absolute;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-content {\n  top: 32px;\n}\n.x6-widget-stencil.searchable > .x6-widget-stencil-content {\n  top: 80px;\n}\n.x6-widget-stencil.not-found::after {\n  position: absolute;\n}\n.x6-widget-stencil.not-found.searchable.collapsable::after {\n  top: 80px;\n}\n.x6-widget-stencil.not-found.searchable::after {\n  top: 60px;\n}\n.x6-widget-stencil-group {\n  height: auto;\n  margin-bottom: 1px;\n  padding: 0;\n  transition: none;\n}\n.x6-widget-stencil-group .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n.x6-widget-stencil-group.collapsed {\n  height: auto;\n  max-height: 31px;\n}\n.x6-widget-stencil-title,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  position: relative;\n  left: 0;\n  box-sizing: border-box;\n  width: 100%;\n  height: 32px;\n  padding: 0 5px 0 8px;\n  color: #666;\n  font-weight: 700;\n  font-size: 12px;\n  line-height: 32px;\n  cursor: default;\n  transition: all 0.3;\n}\n.x6-widget-stencil-title:hover,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {\n  color: #444;\n}\n.x6-widget-stencil-title {\n  background: #e9e9e9;\n}\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  background: #ededed;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {\n  padding-left: 32px;\n  cursor: pointer;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {\n  position: absolute;\n  top: 6px;\n  left: 8px;\n  display: block;\n  width: 18px;\n  height: 18px;\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: 0 0;\n  border: none;\n  content: ' ';\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');\n  opacity: 0.4;\n  transition: all 0.3s;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {\n  opacity: 0.6;\n}\n.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');\n  opacity: 0.4;\n}\n.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,\n.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {\n  opacity: 0.6;\n}\n.x6-widget-stencil input[type='search'] {\n  -webkit-appearance: textfield;\n}\n.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,\n.x6-widget-stencil input[type='search']::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n.x6-widget-stencil-search-text {\n  display: block;\n  width: 90%;\n  margin: 8px 5%;\n  padding-left: 8px;\n  color: #333;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  border-radius: 12px;\n  outline: 0;\n}\n.x6-widget-stencil-search-text:focus {\n  outline: 0;\n}\n.x6-widget-stencil::after {\n  color: #808080;\n  font-weight: 600;\n  font-size: 12px;\n  background: 0 0;\n}\n.x6-widget-transform {\n  position: absolute;\n  box-sizing: content-box !important;\n  margin: -5px 0 0 -5px;\n  padding: 4px;\n  border: 1px dashed #000;\n  border-radius: 5px;\n  user-select: none;\n  pointer-events: none;\n}\n.x6-widget-transform > div {\n  position: absolute;\n  box-sizing: border-box;\n  background-color: #fff;\n  border: 1px solid #000;\n  transition: background-color 0.2s;\n  pointer-events: auto;\n  -webkit-user-drag: none;\n  user-drag: none;\n  /* stylelint-disable-line */\n}\n.x6-widget-transform > div:hover {\n  background-color: #d3d3d3;\n}\n.x6-widget-transform-cursor-n {\n  cursor: n-resize;\n}\n.x6-widget-transform-cursor-s {\n  cursor: s-resize;\n}\n.x6-widget-transform-cursor-e {\n  cursor: e-resize;\n}\n.x6-widget-transform-cursor-w {\n  cursor: w-resize;\n}\n.x6-widget-transform-cursor-ne {\n  cursor: ne-resize;\n}\n.x6-widget-transform-cursor-nw {\n  cursor: nw-resize;\n}\n.x6-widget-transform-cursor-se {\n  cursor: se-resize;\n}\n.x6-widget-transform-cursor-sw {\n  cursor: sw-resize;\n}\n.x6-widget-transform-resize {\n  width: 10px;\n  height: 10px;\n  border-radius: 6px;\n}\n.x6-widget-transform-resize[data-position='top-left'] {\n  top: -5px;\n  left: -5px;\n}\n.x6-widget-transform-resize[data-position='top-right'] {\n  top: -5px;\n  right: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom-left'] {\n  bottom: -5px;\n  left: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom-right'] {\n  right: -5px;\n  bottom: -5px;\n}\n.x6-widget-transform-resize[data-position='top'] {\n  top: -5px;\n  left: 50%;\n  margin-left: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom'] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -5px;\n}\n.x6-widget-transform-resize[data-position='left'] {\n  top: 50%;\n  left: -5px;\n  margin-top: -5px;\n}\n.x6-widget-transform-resize[data-position='right'] {\n  top: 50%;\n  right: -5px;\n  margin-top: -5px;\n}\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {\n  display: none;\n}\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {\n  display: none;\n}\n.x6-widget-transform.no-resize .x6-widget-transform-resize {\n  display: none;\n}\n.x6-widget-transform-rotate {\n  top: -20px;\n  left: -20px;\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  cursor: crosshair;\n}\n.x6-widget-transform.no-rotate .x6-widget-transform-rotate {\n  display: none;\n}\n.x6-widget-transform-active {\n  border-color: transparent;\n  pointer-events: all;\n}\n.x6-widget-transform-active > div {\n  display: none;\n}\n.x6-widget-transform-active > .x6-widget-transform-active-handle {\n  display: block;\n  background-color: #808080;\n}\n.x6-widget-knob {\n  position: absolute;\n  box-sizing: border-box;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n  margin-left: -8px;\n  cursor: pointer;\n  user-select: none;\n}\n.x6-widget-knob::before,\n.x6-widget-knob::after {\n  position: absolute;\n  transform: rotate(45deg);\n  content: '';\n}\n.x6-widget-knob::before {\n  top: 4px;\n  left: 4px;\n  box-sizing: border-box;\n  width: 8px;\n  height: 8px;\n  background-color: #fff;\n}\n.x6-widget-knob::after {\n  top: 5px;\n  left: 5px;\n  box-sizing: border-box;\n  width: 6px;\n  height: 6px;\n  background-color: #fca000;\n}\n.x6-graph-print {\n  position: relative;\n}\n.x6-graph-print .x6-graph-print-ready {\n  display: none;\n}\n.x6-graph-print .x6-graph-print-preview {\n  overflow: hidden !important;\n  background: #fff !important;\n}\n@media print {\n  html,\n  html > body.x6-graph-printing {\n    position: relative !important;\n    width: 100% !important;\n    height: 100% !important;\n    margin: 0 !important;\n    padding: 0 !important;\n  }\n  html > body.x6-graph-printing > * {\n    display: none !important;\n  }\n  html > body.x6-graph-printing > .x6-graph-print {\n    display: block !important;\n  }\n  .x6-graph-print {\n    top: 0 !important;\n    left: 0 !important;\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden !important;\n    page-break-after: always;\n    background: #fff !important;\n  }\n  .x6-graph-print .x6-graph-print-ready {\n    display: none;\n  }\n}\n.x6-cell-tool-editor {\n  position: relative;\n  display: inline-block;\n  min-height: 1em;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  white-space: normal;\n  text-align: center;\n  vertical-align: top;\n  overflow-wrap: normal;\n  outline: none;\n  transform-origin: 0 0;\n  -webkit-user-drag: none;\n}\n.x6-edge-tool-editor {\n  border: 1px solid #275fc5;\n  border-radius: 2px;\n}\n");
        var e = document.querySelector('head');
        e && e.insertBefore(d9, e.firstChild);
      }
    }),
    (dq.clean = function () {
      (dW -= 1) > 0 ||
        (d9 && d9.parentNode && d9.parentNode.removeChild(d9), (d9 = null));
    });
  var dY,
    dJ,
    dZ,
    dK = (function () {
      function e() {}
      return (
        Object.defineProperty(e.prototype, 'handleClassName', {
          get: function () {
            return dY.handle;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'pie', {
          get: function () {
            return i(i({}, e.defaultPieOptions), this.handleOptions.pie);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.initHandles = function () {
          var t,
            e = this;
          if (
            ((this.handles = []),
            this.handleOptions.handles &&
              this.handleOptions.handles.forEach(function (t) {
                return e.addHandle(t);
              }),
            'pie' === this.handleOptions.type)
          ) {
            if (this.pie.toggles) {
              var n = dY.pieToggle;
              (this.$pieToggles = {}),
                this.pie.toggles.forEach(function (t) {
                  var i = e.$('<div/>');
                  e.applyAttrs(i, t.attrs),
                    i
                      .addClass(n)
                      .addClass(n + '-pos-' + (t.position || 'e'))
                      .attr('data-name', t.name)
                      .appendTo(e.container),
                    (e.$pieToggles[t.name] = i);
                });
            }
            this.setPieIcons();
          }
          if (this.$handleContainer) {
            var i = this.handleOptions.type || 'surround';
            this.$handleContainer
              .addClass(dY.wrap)
              .addClass(dY.animate)
              .addClass(dY.handle + '-' + i);
          }
          this.delegateEvents(
            (((t = {})['mousedown .' + dY.handle] = 'onHandleMouseDown'),
            (t['touchstart .' + dY.handle] = 'onHandleMouseDown'),
            (t['mousedown .' + dY.pieToggle] = 'onPieToggleMouseDown'),
            (t['touchstart .' + dY.pieToggle] = 'onPieToggleMouseDown'),
            t)
          );
        }),
        (e.prototype.onHandleMouseDown = function (t) {
          var e = this.$(t.currentTarget)
            .closest('.' + dY.handle)
            .attr('data-action');
          e &&
            (t.preventDefault(),
            t.stopPropagation(),
            this.setEventData(t, {
              action: e,
              clientX: t.clientX,
              clientY: t.clientY,
              startX: t.clientX,
              startY: t.clientY,
            }),
            'mousedown' === t.type && 2 === t.button
              ? this.triggerHandleAction(e, 'contextmenu', t)
              : (this.triggerHandleAction(e, 'mousedown', t),
                this.delegateDocumentEvents(
                  {
                    mousemove: 'onHandleMouseMove',
                    touchmove: 'onHandleMouseMove',
                    mouseup: 'onHandleMouseUp',
                    touchend: 'onHandleMouseUp',
                    touchcancel: 'onHandleMouseUp',
                  },
                  t.data
                )));
        }),
        (e.prototype.onHandleMouseMove = function (t) {
          var e = this.getEventData(t).action;
          e && this.triggerHandleAction(e, 'mousemove', t);
        }),
        (e.prototype.onHandleMouseUp = function (t) {
          var e = this.getEventData(t).action;
          e &&
            (this.triggerHandleAction(e, 'mouseup', t),
            this.undelegateDocumentEvents());
        }),
        (e.prototype.triggerHandleAction = function (t, e, n, r) {
          n.preventDefault(), n.stopPropagation();
          var o = this.normalizeEvent(n),
            s = this.getEventData(o),
            a = this.graph.snapToGrid(o.clientX, o.clientY),
            l = this.graph.snapToGrid(s.clientX, s.clientY),
            u = a.x - l.x,
            c = a.y - l.y;
          this.trigger(
            'action:' + t + ':' + e,
            i(
              {
                e: o,
                dx: u,
                dy: c,
                x: a.x,
                y: a.y,
                offsetX: n.clientX - s.startX,
                offsetY: n.clientY - s.startY,
              },
              r
            )
          ),
            (s.clientX = n.clientX),
            (s.clientY = n.clientY);
        }),
        (e.prototype.onPieToggleMouseDown = function (t) {
          t.stopPropagation();
          var e = this.$(t.target)
            .closest('.' + dY.pieToggle)
            .attr('data-name');
          this.isOpen(e) || (this.isOpen() && this.toggleState()),
            this.toggleState(e);
        }),
        (e.prototype.setPieIcons = function () {
          var e = this;
          'pie' === this.handleOptions.type &&
            this.$handleContainer.find('.' + dY.handle).each(function (n, i) {
              var r = e.$(i),
                o = r.attr('data-action'),
                s = dY.pieSlice,
                a = e.getHandle(o);
              if (!a || !a.icon) {
                var l = window
                  .getComputedStyle(i, ':before')
                  .getPropertyValue('content');
                if (l && 'none' !== l) {
                  var u = r.find('.' + s + '-txt');
                  u.length &&
                    t.Vector.create(u[0]).text(l.replace(/['"]/g, ''));
                }
                var c = r.css('background-image');
                if (c) {
                  var h = c.match(/url\(['"]?([^'"]+)['"]?\)/);
                  if (h) {
                    var p = h[1],
                      d = r.find('.' + s + '-img');
                    d.length > 0 && t.Vector.create(d[0]).attr('xlink:href', p);
                  }
                }
              }
            });
        }),
        (e.prototype.getHandleIdx = function (t) {
          return this.handles.findIndex(function (e) {
            return e.name === t;
          });
        }),
        (e.prototype.hasHandle = function (t) {
          return this.getHandleIdx(t) >= 0;
        }),
        (e.prototype.getHandle = function (t) {
          return this.handles.find(function (e) {
            return e.name === t;
          });
        }),
        (e.prototype.renderHandle = function (e) {
          var n = this.$('<div/>')
            .addClass(dY.handle + ' ' + dY.handle + '-' + e.name)
            .attr('data-action', e.name)
            .prop('draggable', !1);
          if ('pie' === this.handleOptions.type) {
            var i = this.getHandleIdx(e.name),
              r = this.pie,
              o = r.outerRadius,
              s = r.innerRadius,
              a = (o + s) / 2,
              l = new t.Point(o, o),
              u = t.Angle.toRad(r.sliceAngle),
              c = i * u + t.Angle.toRad(r.startAngle),
              h = a8(s, o, c, c + u),
              p = t.Vector.create('svg').addClass(dY.pieSlice + '-svg'),
              d = t.Vector.create('path')
                .addClass(dY.pieSlice)
                .attr('d', h)
                .translate(o, o),
              f = t.Point.fromPolar(a, -c - u / 2, l).toJSON(),
              g = r.iconSize,
              $ = t.Vector.create('image')
                .attr(f)
                .addClass(dY.pieSlice + '-img');
            f.y = f.y + g - 2;
            var v = t.Vector.create('text', { 'font-size': g })
              .attr(f)
              .addClass(dY.pieSlice + '-txt');
            $.attr({ width: g, height: g }),
              $.translate(-g / 2, -g / 2),
              v.translate(-g / 2, -g / 2),
              p.append([d, $, v]),
              n.append(p.node);
          } else
            n.addClass(dY.handle + '-pos-' + e.position),
              e.content &&
                ('string' == typeof e.content
                  ? n.html(e.content)
                  : n.append(e.content));
          return (
            this.updateHandleIcon(n, e.icon), this.applyAttrs(n, e.attrs), n
          );
        }),
        (e.prototype.addHandle = function (t) {
          var e = this;
          if (!this.hasHandle(t.name)) {
            this.handles.push(t);
            var n = t.events;
            n &&
              Object.keys(n).forEach(function (i) {
                var r = n[i],
                  o = 'action:' + t.name + ':' + i;
                'string' == typeof r ? e.on(o, e[r], e) : e.on(o, r);
              }),
              this.$handleContainer &&
                this.$handleContainer.append(this.renderHandle(t));
          }
          return this;
        }),
        (e.prototype.addHandles = function (t) {
          var e = this;
          return (
            t.forEach(function (t) {
              return e.addHandle(t);
            }),
            this
          );
        }),
        (e.prototype.removeHandles = function () {
          for (; this.handles.length; ) this.removeHandle(this.handles[0].name);
          return this;
        }),
        (e.prototype.removeHandle = function (t) {
          var e = this,
            n = this.getHandleIdx(t),
            i = this.handles[n];
          return (
            i &&
              (i.events &&
                Object.keys(i.events).forEach(function (n) {
                  e.off('action:' + t + ':' + n);
                }),
              this.getHandleElem(t).remove(),
              this.handles.splice(n, 1)),
            this
          );
        }),
        (e.prototype.changeHandle = function (t, e) {
          var n = this.getHandle(t);
          return (
            n && (this.removeHandle(t), this.addHandle(i(i({}, n), e))), this
          );
        }),
        (e.prototype.toggleHandle = function (t, e) {
          var n = this.getHandle(t);
          if (n) {
            var i = this.getHandleElem(t),
              r = dY.handle + '-selected';
            void 0 === e && (e = !i.hasClass(r)), i.toggleClass(r, e);
            var o = e ? n.iconSelected : n.icon;
            o && this.updateHandleIcon(i, o);
          }
          return this;
        }),
        (e.prototype.selectHandle = function (t) {
          return this.toggleHandle(t, !0);
        }),
        (e.prototype.deselectHandle = function (t) {
          return this.toggleHandle(t, !1);
        }),
        (e.prototype.deselectAllHandles = function () {
          var t = this;
          return (
            this.handles.forEach(function (e) {
              return t.deselectHandle(e.name);
            }),
            this
          );
        }),
        (e.prototype.getHandleElem = function (t) {
          return this.$handleContainer.find('.' + dY.handle + '-' + t);
        }),
        (e.prototype.updateHandleIcon = function (t, e) {
          if ('pie' === this.handleOptions.type) {
            var n = t.find('.' + dY.pieSliceImg);
            this.$(n[0]).attr('xlink:href', e || '');
          } else t.css('background-image', e ? 'url(' + e + ')' : '');
        }),
        (e.prototype.isRendered = function () {
          return null != this.$handleContainer;
        }),
        (e.prototype.isOpen = function (t) {
          return (
            !!this.isRendered() &&
            (t
              ? this.$pieToggles[t].hasClass(dY.pieToggleOpened)
              : this.$handleContainer.hasClass('' + dY.pieOpended))
          );
        }),
        (e.prototype.toggleState = function (t) {
          var e = this;
          if (this.isRendered()) {
            var n = this.$handleContainer;
            if (
              (Object.keys(this.$pieToggles).forEach(function (t) {
                e.$pieToggles[t].removeClass(dY.pieToggleOpened);
              }),
              this.isOpen())
            )
              this.trigger('pie:close', { name: t }),
                n.removeClass(dY.pieOpended);
            else {
              if ((this.trigger('pie:open', { name: t }), t)) {
                var i = this.pie.toggles,
                  r =
                    i &&
                    i.find(function (e) {
                      return e.name === t;
                    });
                r &&
                  n.attr({
                    'data-pie-toggle-name': r.name,
                    'data-pie-toggle-position': r.position,
                  }),
                  this.$pieToggles[t].addClass(dY.pieToggleOpened);
              }
              n.addClass(dY.pieOpended);
            }
          }
        }),
        (e.prototype.applyAttrs = function (e, n) {
          if (n) {
            var i = t.View.$(e);
            Object.keys(n).forEach(function (t) {
              var e = i.find(t).addBack().filter(t),
                o = n[t],
                s = o.class,
                a = r(o, ['class']);
              s && e.addClass(s), e.attr(a);
            });
          }
        }),
        e
      );
    })();
  ((dK || (dK = {})).defaultPieOptions = {
    innerRadius: 20,
    outerRadius: 50,
    sliceAngle: 45,
    startAngle: 0,
    iconSize: 14,
    toggles: [{ name: 'default', position: 'e' }],
  }),
    ((dZ = dY || (dY = {})).handle =
      t.View.prototype.prefixClassName('widget-handle')),
    (dZ.wrap = dZ.handle + '-wrap'),
    (dZ.animate = dZ.handle + '-animate'),
    (dZ.pieOpended = dZ.handle + '-pie-opened'),
    (dZ.pieToggle = dZ.handle + '-pie-toggle'),
    (dZ.pieToggleOpened = dZ.handle + '-pie-toggle-opened'),
    (dZ.pieSlice = dZ.handle + '-pie-slice'),
    (dZ.pieSliceImg = dZ.handle + '-pie-slice-img');
  var dQ,
    ft,
    fe,
    fn,
    fi = (function (e) {
      function i(t) {
        var n = e.call(this) || this,
          i = t,
          o = i.view,
          s = i.cell,
          a = i.node,
          l = i.edge,
          u = i.graph,
          c = r(i, ['view', 'cell', 'node', 'edge', 'graph']);
        o
          ? ((n.view = o),
            (n.cell = o.cell),
            (n.graph = o.graph),
            (n.model = n.graph.model))
          : (s || l || a) &&
            u &&
            ((n.cell = a || l || s),
            (n.view = u.renderer.findViewByCell(n.cell)),
            (n.graph = u),
            (n.model = n.graph.model));
        var h = n.constructor;
        return (
          !1 !== t.clearAll && h.removeInstances(n.graph),
          h.register(n),
          n.init(c),
          n
        );
      }
      return (
        n(i, e),
        (i.ensureCache = function () {
          return (
            this.instanceCache.has(this) || this.instanceCache.set(this, {}),
            this.instanceCache.get(this)
          );
        }),
        (i.register = function (t, e) {
          null == e && (e = t.graph);
          var n = this.ensureCache(),
            i = n[e.view.cid];
          null == i && (i = n[e.view.cid] = {}), (i[t.cid] = t);
        }),
        (i.unregister = function (t, e) {
          null == e && (e = t.graph);
          var n = this.ensureCache();
          n[e.view.cid] && delete n[e.view.cid][t.cid];
        }),
        (i.removeInstances = function (t) {
          var e = this.ensureCache()[t.view.cid];
          e &&
            Object.keys(e).forEach(function (t) {
              var n = e[t];
              n && n.remove();
            });
        }),
        (i.getInstances = function (t) {
          return this.ensureCache()[t.view.cid] || {};
        }),
        (i.prototype.init = function (t) {}),
        (i.prototype.render = function () {
          return this;
        }),
        (i.prototype.startListening = function () {
          !1 !== this.options.clearOnBlankMouseDown &&
            this.graph.on('blank:mousedown', this.remove, this);
        }),
        (i.prototype.stopListening = function () {
          !1 !== this.options.clearOnBlankMouseDown &&
            this.graph.off('blank:mousedown', this.remove, this);
        }),
        (i.prototype.remove = function () {
          return (
            this.stopListening(),
            this.constructor.unregister(this),
            e.prototype.remove.call(this)
          );
        }),
        (i.prototype.dispose = function () {
          this.remove();
        }),
        (i.instanceCache = new WeakMap()),
        o([t.View.dispose()], i.prototype, 'dispose', null),
        i
      );
    })(t.View),
    fr = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'node', {
          get: function () {
            return this.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'metadata', {
          get: function () {
            var t = this.cell.prop('knob');
            return Array.isArray(t)
              ? null != this.options.index
                ? t[this.options.index]
                : null
              : t;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.init = function (t) {
          (this.options = i({}, t)), this.render(), this.startListening();
        }),
        (r.prototype.startListening = function () {
          this.delegateEvents({
            mousedown: 'onMouseDown',
            touchstart: 'onMouseDown',
          }),
            this.model.on('*', this.update, this),
            this.graph.on('scale', this.update, this),
            this.graph.on('translate', this.update, this),
            this.model.on('reseted', this.remove, this),
            this.node.on('removed', this.remove, this),
            this.view.on('node:resize:mousedown', this.onTransform, this),
            this.view.on('node:rotate:mousedown', this.onTransform, this),
            this.view.on('node:resize:mouseup', this.onTransformed, this),
            this.view.on('node:rotate:mouseup', this.onTransformed, this),
            this.view.on('cell:knob:mousedown', this.onKnobMouseDown, this),
            this.view.on('cell:knob:mouseup', this.onKnobMouseUp, this),
            e.prototype.startListening.call(this);
        }),
        (r.prototype.stopListening = function () {
          this.undelegateEvents(),
            this.model.off('*', this.update, this),
            this.graph.off('scale', this.update, this),
            this.graph.off('translate', this.update, this),
            this.model.off('reseted', this.remove, this),
            this.node.off('removed', this.remove, this),
            this.view.off('node:resize:mousedown', this.onTransform, this),
            this.view.off('node:rotate:mousedown', this.onTransform, this),
            this.view.off('node:resize:mouseup', this.onTransformed, this),
            this.view.off('node:rotate:mouseup', this.onTransformed, this),
            this.view.off('cell:knob:mousedown', this.onKnobMouseDown, this),
            this.view.off('cell:knob:mouseup', this.onKnobMouseUp, this),
            e.prototype.stopListening.call(this);
        }),
        (r.prototype.render = function () {
          return (
            (this.container = document.createElement('div')),
            sl(this.container, this.prefixClassName('widget-knob')),
            this.options.className &&
              sl(this.container, this.options.className),
            this.view.addClass(dQ.KNOB),
            this.graph.container.appendChild(this.container),
            this.update(),
            this
          );
        }),
        (r.prototype.remove = function () {
          return this.view.removeClass(dQ.KNOB), e.prototype.remove.call(this);
        }),
        (r.prototype.update = function () {
          if (this.metadata) {
            var e = this.metadata,
              n = e.update,
              r = e.position,
              o = { knob: this, cell: this.cell, node: this.node };
            if (r) {
              var s = r.call(this.graph, i({}, o));
              if (s) {
                var a = this.graph.matrix(),
                  l = this.node.getBBox(),
                  u = t.Angle.normalize(this.node.getAngle()),
                  c = t.Point.create(s);
                0 !== u && c.rotate(-u, { x: l.width / 2, y: l.height / 2 }),
                  c.translate(l).scale(a.a, a.d).translate(a.e, a.f),
                  (this.container.style.left = c.x + 'px'),
                  (this.container.style.top = c.y + 'px');
              }
            }
            n && n.call(this.graph, i({}, o));
          }
        }),
        (r.prototype.hide = function () {
          this.container.style.display = 'none';
        }),
        (r.prototype.show = function () {
          this.container.style.display = '';
        }),
        (r.prototype.onTransform = function () {
          this.hide();
        }),
        (r.prototype.onTransformed = function () {
          this.show();
        }),
        (r.prototype.onKnobMouseDown = function (t) {
          var e = t.knob;
          this.cid !== e.cid && this.hide();
        }),
        (r.prototype.onKnobMouseUp = function () {
          this.show();
        }),
        (r.prototype.notify = function (t, e) {
          if (this.view) {
            var n = this.view.normalizeEvent(e),
              i = this.graph.snapToGrid(n.clientX, n.clientY);
            this.view.notify('cell:' + t, {
              e: n,
              view: this.view,
              node: this.node,
              cell: this.cell,
              x: i.x,
              y: i.y,
              knob: this,
            }),
              this.cell.isNode()
                ? this.view.notify('node:' + t, {
                    e: n,
                    view: this.view,
                    node: this.node,
                    cell: this.cell,
                    x: i.x,
                    y: i.y,
                    knob: this,
                  })
                : this.cell.isEdge() &&
                  this.view.notify('edge:' + t, {
                    e: n,
                    view: this.view,
                    edge: this.cell,
                    cell: this.cell,
                    x: i.x,
                    y: i.y,
                    knob: this,
                  });
          }
        }),
        (r.prototype.onMouseDown = function (t) {
          t.stopPropagation(),
            this.setEventData(t, {
              knobbing: !1,
              originX: t.clientX,
              originY: t.clientY,
              clientX: t.clientX,
              clientY: t.clientY,
            }),
            this.graph.view.undelegateEvents(),
            this.delegateDocumentEvents(dQ.documentEvents, t.data),
            this.metadata &&
              this.metadata.onMouseDown &&
              this.metadata.onMouseDown.call(this.graph, {
                e: t,
                data: this.getEventData(t),
                knob: this,
                cell: this.cell,
                node: this.node,
              }),
            this.notify('knob:mousedown', t);
        }),
        (r.prototype.onMouseMove = function (e) {
          var n = this.getEventData(e),
            i = this.graph.findViewByCell(this.node);
          if (
            (n.knobbing ||
              ((n.knobbing = !0),
              i && (i.addClass(dQ.KNOBBING), this.notify('knob', e)),
              this.model.startBatch('knob', { cid: this.cid })),
            (n.clientX = e.clientX),
            (n.clientY = e.clientY),
            this.metadata && this.metadata.onMouseMove)
          ) {
            var r = this.graph.matrix(),
              o = (e.clientX - n.originX) / r.a,
              s = (e.clientY - n.originY) / r.d,
              a = this.node.getAngle(),
              l = new t.Point(o, s).rotate(a);
            this.metadata.onMouseMove.call(this.graph, {
              e: e,
              data: n,
              deltaX: l.x,
              deltaY: l.y,
              knob: this,
              cell: this.cell,
              node: this.node,
            });
          }
          this.notify('knobbing', e), this.notify('knob:mousemove', e);
        }),
        (r.prototype.onMouseUp = function (t) {
          this.undelegateDocumentEvents(), this.graph.view.delegateEvents();
          var e = this.getEventData(t),
            n = this.graph.findViewByCell(this.node);
          e.knobbing &&
            (n && n.removeClass(dQ.KNOBBING),
            this.metadata &&
              this.metadata.onMouseUp &&
              this.metadata.onMouseUp.call(this.graph, {
                e: t,
                data: e,
                knob: this,
                cell: this.cell,
                node: this.node,
              }),
            this.model.stopBatch('knob', { cid: this.cid }),
            this.notify('knobbed', t)),
            this.notify('knob:mouseup', t);
        }),
        r
      );
    })(fi);
  ((fe = dQ || (dQ = {})).KNOB = 'has-widget-knob'),
    (fe.KNOBBING = 'node-knobbing'),
    (fe.documentEvents = {
      mousemove: 'onMouseMove',
      touchmove: 'onMouseMove',
      mouseup: 'onMouseUp',
      touchend: 'onMouseUp',
    }),
    ((fn = ft || (ft = {})).root = 'widget-minimap'),
    (fn.viewport = fn.root + '-viewport'),
    (fn.zoom = fn.viewport + '-zoom');
  var fo,
    fs,
    fa = (function (e) {
      function r(n) {
        var r = e.call(this) || this;
        (r.options = i(i({}, fo.defaultOptions), n)),
          (r.updateViewport = iq(r.updateViewport.bind(r), 0)),
          (r.container = document.createElement('div')),
          (r.$container = r
            .$(r.container)
            .addClass(r.prefixClassName(ft.root)));
        var o = document.createElement('div');
        r.container.appendChild(o),
          (r.$viewport = r.$('<div>').addClass(r.prefixClassName(ft.viewport))),
          r.options.scalable &&
            (r.zoomHandle = r
              .$('<div>')
              .addClass(r.prefixClassName(ft.zoom))
              .appendTo(r.$viewport)
              .get(0)),
          r.$container
            .append(r.$viewport)
            .css({
              width: r.options.width,
              height: r.options.height,
              padding: r.options.padding,
            }),
          r.options.container && r.options.container.appendChild(r.container),
          (r.sourceGraph = r.graph);
        var s = i(i({}, r.options.graphOptions), {
          container: o,
          model: r.sourceGraph.model,
          frozen: !0,
          async: r.sourceGraph.isAsync(),
          interacting: !1,
          grid: !1,
          background: !1,
          rotating: !1,
          resizing: !1,
          embedding: !1,
          selecting: !1,
          snapline: !1,
          clipboard: !1,
          history: !1,
          scroller: !1,
        });
        return (
          (r.targetGraph = r.options.createGraph
            ? r.options.createGraph(s)
            : new t.Graph(s)),
          r.targetGraph.renderer.unfreeze(),
          r.updatePaper(
            r.sourceGraph.options.width,
            r.sourceGraph.options.height
          ),
          r.startListening(),
          r
        );
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'graph', {
          get: function () {
            return this.options.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'scroller', {
          get: function () {
            return this.graph.scroller.widget;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'graphContainer', {
          get: function () {
            return this.scroller
              ? this.scroller.container
              : this.graph.container;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, '$graphContainer', {
          get: function () {
            return this.scroller
              ? this.scroller.$container
              : this.$(this.graph.container);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.startListening = function () {
          var t;
          this.scroller
            ? this.$graphContainer.on(
                'scroll' + this.getEventNamespace(),
                this.updateViewport
              )
            : (this.sourceGraph.on('translate', this.onTransform, this),
              this.sourceGraph.on('scale', this.onTransform, this),
              this.sourceGraph.on('model:updated', this.onModelUpdated, this)),
            this.sourceGraph.on('resize', this.updatePaper, this),
            this.delegateEvents(
              (((t = { mousedown: 'startAction', touchstart: 'startAction' })[
                'mousedown .' + this.prefixClassName('graph')
              ] = 'scrollTo'),
              (t['touchstart .' + this.prefixClassName('graph')] = 'scrollTo'),
              t)
            );
        }),
        (r.prototype.stopListening = function () {
          this.scroller
            ? this.$graphContainer.off(this.getEventNamespace())
            : (this.sourceGraph.off('translate', this.onTransform, this),
              this.sourceGraph.off('scale', this.onTransform, this),
              this.sourceGraph.off('model:updated', this.onModelUpdated, this)),
            this.sourceGraph.off('resize', this.updatePaper, this),
            this.undelegateEvents();
        }),
        (r.prototype.onRemove = function () {
          this.targetGraph.view.remove(),
            this.stopListening(),
            this.targetGraph.dispose();
        }),
        (r.prototype.onTransform = function (t) {
          (t.ui || this.targetGraphTransforming) && this.updateViewport();
        }),
        (r.prototype.onModelUpdated = function () {
          this.targetGraph.zoomToFit();
        }),
        (r.prototype.updatePaper = function (t, e) {
          'object' == typeof t
            ? ((n = t.width), (i = t.height))
            : ((n = t), (i = e));
          var n,
            i,
            r = this.sourceGraph.options,
            o = this.sourceGraph.transform.getScale(),
            s = this.options.width - 2 * this.options.padding,
            a = this.options.height - 2 * this.options.padding;
          (n /= o.sx), (i /= o.sy), (this.ratio = Math.min(s / n, a / i));
          var l = this.ratio,
            u = (r.x * l) / o.sx,
            c = (r.y * l) / o.sy;
          return (
            (n *= l),
            (i *= l),
            this.targetGraph.resizeGraph(n, i),
            this.targetGraph.translate(u, c),
            this.scroller
              ? this.targetGraph.scale(l, l)
              : this.targetGraph.zoomToFit(),
            this.updateViewport(),
            this
          );
        }),
        (r.prototype.updateViewport = function () {
          var t = this.sourceGraph.transform.getScale(),
            e = this.targetGraph.transform.getScale(),
            n = null;
          n = this.scroller
            ? this.scroller.clientToLocalPoint(0, 0)
            : this.graph.graphToLocal(0, 0);
          var i = this.$(this.targetGraph.container).position(),
            r = this.targetGraph.translate();
          (r.ty = r.ty || 0),
            (this.geometry = {
              top: i.top + n.y * e.sy + r.ty,
              left: i.left + n.x * e.sx + r.tx,
              width: (this.$graphContainer.innerWidth() * e.sx) / t.sx,
              height: (this.$graphContainer.innerHeight() * e.sy) / t.sy,
            }),
            this.$viewport.css(this.geometry);
        }),
        (r.prototype.startAction = function (t) {
          var e = this.normalizeEvent(t),
            n = e.target === this.zoomHandle ? 'zooming' : 'panning',
            i = this.sourceGraph.translate(),
            r = i.tx,
            o = i.ty,
            s = {
              action: n,
              clientX: e.clientX,
              clientY: e.clientY,
              scrollLeft: this.graphContainer.scrollLeft,
              scrollTop: this.graphContainer.scrollTop,
              zoom: this.sourceGraph.zoom(),
              scale: this.sourceGraph.transform.getScale(),
              geometry: this.geometry,
              translateX: r,
              translateY: o,
            };
          (this.targetGraphTransforming = !0),
            this.delegateDocumentEvents(fo.documentEvents, s);
        }),
        (r.prototype.doAction = function (t) {
          var e = this,
            n = this.normalizeEvent(t),
            i = n.clientX,
            r = n.clientY,
            o = n.data;
          switch (o.action) {
            case 'panning':
              var s = this.sourceGraph.transform.getScale(),
                a = (i - o.clientX) * s.sx,
                l = (r - o.clientY) * s.sy;
              this.scroller
                ? ((this.graphContainer.scrollLeft =
                    o.scrollLeft + a / this.ratio),
                  (this.graphContainer.scrollTop =
                    o.scrollTop + l / this.ratio))
                : this.sourceGraph.translate(
                    o.translateX - a / this.ratio,
                    o.translateY - l / this.ratio
                  );
              break;
            case 'zooming':
              var u = o.scale,
                c = o.geometry,
                h = 1 + (o.clientX - i) / c.width / u.sx;
              o.frameId && cancelAnimationFrame(o.frameId),
                (o.frameId = requestAnimationFrame(function () {
                  e.sourceGraph.zoom(h * o.zoom, {
                    absolute: !0,
                    minScale: e.options.minScale,
                    maxScale: e.options.maxScale,
                  });
                }));
          }
        }),
        (r.prototype.stopAction = function () {
          this.undelegateDocumentEvents(), (this.targetGraphTransforming = !1);
        }),
        (r.prototype.scrollTo = function (t) {
          var e,
            n,
            i = this.normalizeEvent(t),
            r = this.targetGraph.translate();
          if (((r.ty = r.ty || 0), null == i.offsetX)) {
            var o = this.$(this.targetGraph.container).offset();
            (e = i.pageX - o.left), (n = i.pageY - o.top);
          } else (e = i.offsetX), (n = i.offsetY);
          var s = (e - r.tx) / this.ratio,
            a = (n - r.ty) / this.ratio;
          this.sourceGraph.centerPoint(s, a);
        }),
        (r.prototype.dispose = function () {
          this.remove();
        }),
        o([t.View.dispose()], r.prototype, 'dispose', null),
        r
      );
    })(t.View);
  ((fs = fo || (fo = {})).defaultOptions = {
    width: 300,
    height: 200,
    padding: 10,
    scalable: !0,
    minScale: 0.01,
    maxScale: 16,
    graphOptions: {},
    createGraph: function (e) {
      return new t.Graph(e);
    },
  }),
    (fs.documentEvents = {
      mousemove: 'doAction',
      touchmove: 'doAction',
      mouseup: 'stopAction',
      touchend: 'stopAction',
    });
  var fl,
    fu = (function (e) {
      function s(t) {
        var n = e.call(this) || this,
          o = t.graph,
          s = r(t, ['graph']);
        return (
          (n.graph = o),
          (n.options = i({ tolerance: 10 }, s)),
          (n.offset = { x: 0, y: 0 }),
          n.render(),
          n.parseFilter(),
          n.disabled || n.startListening(),
          n
        );
      }
      return (
        n(s, e),
        Object.defineProperty(s.prototype, 'model', {
          get: function () {
            return this.graph.model;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(s.prototype, 'containerClassName', {
          get: function () {
            return this.prefixClassName('widget-snapline');
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(s.prototype, 'verticalClassName', {
          get: function () {
            return this.containerClassName + '-vertical';
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(s.prototype, 'horizontalClassName', {
          get: function () {
            return this.containerClassName + '-horizontal';
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(s.prototype, 'disabled', {
          get: function () {
            return (
              !0 !== this.options.enabled ||
              !0 !== this.graph.options.snapline.enabled
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (s.prototype.enable = function () {
          this.disabled &&
            ((this.options.enabled = !0),
            (this.graph.options.snapline.enabled = !0),
            this.startListening());
        }),
        (s.prototype.disable = function () {
          this.disabled ||
            ((this.options.enabled = !1),
            (this.graph.options.snapline.enabled = !1),
            this.stopListening());
        }),
        (s.prototype.setFilter = function (t) {
          (this.options.filter = t), this.parseFilter();
        }),
        (s.prototype.render = function () {
          var e = (this.containerWrapper = new t.Vector('svg')),
            n = (this.horizontal = new t.Vector('line')),
            i = (this.vertical = new t.Vector('line'));
          e.addClass(this.containerClassName),
            n.addClass(this.horizontalClassName),
            i.addClass(this.verticalClassName),
            e.setAttribute('width', '100%'),
            e.setAttribute('height', '100%'),
            n.setAttribute('display', 'none'),
            i.setAttribute('display', 'none'),
            e.append([n, i]),
            this.options.className && e.addClass(this.options.className),
            (this.container = this.containerWrapper.node);
        }),
        (s.prototype.startListening = function () {
          this.stopListening(),
            this.graph.on('node:mousedown', this.captureCursorOffset, this),
            this.graph.on('node:mousemove', this.snapOnMoving, this),
            this.model.on('batch:stop', this.onBatchStop, this),
            this.delegateDocumentEvents({ mouseup: 'hide', touchend: 'hide' });
        }),
        (s.prototype.stopListening = function () {
          this.graph.off('node:mousedown', this.captureCursorOffset, this),
            this.graph.off('node:mousemove', this.snapOnMoving, this),
            this.model.off('batch:stop', this.onBatchStop, this),
            this.undelegateDocumentEvents();
        }),
        (s.prototype.parseFilter = function () {
          var t = this;
          (this.filterShapes = {}),
            (this.filterCells = {}),
            (this.filterFunction = null);
          var e = this.options.filter;
          Array.isArray(e)
            ? e.forEach(function (e) {
                'string' == typeof e
                  ? (t.filterShapes[e] = !0)
                  : (t.filterCells[e.id] = !0);
              })
            : 'function' == typeof e && (this.filterFunction = e);
        }),
        (s.prototype.onBatchStop = function (t) {
          var e = t.name,
            n = t.data;
          'resize' === e && this.snapOnResizing(n.cell, n);
        }),
        (s.prototype.captureCursorOffset = function (t) {
          var e = t.view,
            n = t.x,
            i = t.y,
            r = e.getDelegatedView();
          if (r && this.isNodeMovable(r)) {
            var o = e.cell.getPosition();
            this.offset = { x: n - o.x, y: i - o.y };
          }
        }),
        (s.prototype.isNodeMovable = function (t) {
          return t && t.cell.isNode() && t.can('nodeMovable');
        }),
        (s.prototype.snapOnResizing = function (e, n) {
          var i = this;
          if (
            this.options.resizing &&
            !n.snapped &&
            n.ui &&
            n.direction &&
            n.trueDirection
          ) {
            var r = this.graph.renderer.findViewByCell(e);
            if (r && r.cell.isNode()) {
              var o,
                s,
                a,
                l,
                u,
                c,
                h = e.getBBox(),
                p = h.bbox(e.getAngle()),
                d = p.getTopLeft(),
                f = p.getBottomRight(),
                g = t.Angle.normalize(e.getAngle()),
                $ = this.options.tolerance || 0,
                v = { vertical: 0, horizontal: 0 },
                y = n.direction,
                m = n.trueDirection,
                _ = n.relativeDirection;
              -1 !== m.indexOf('right')
                ? (v.vertical = f.x)
                : (v.vertical = d.x),
                -1 !== m.indexOf('bottom')
                  ? (v.horizontal = f.y)
                  : (v.horizontal = d.y),
                this.model.getNodes().some(function (t) {
                  if (i.isIgnored(e, t)) return !1;
                  var n = t.getBBox().bbox(t.getAngle()),
                    r = n.getTopLeft(),
                    h = n.getBottomRight(),
                    d = { vertical: [r.x, h.x], horizontal: [r.y, h.y] },
                    g = {};
                  return (
                    Object.keys(d).forEach(function (t) {
                      var e = t,
                        n = d[e]
                          .map(function (t) {
                            return {
                              position: t,
                              distance: Math.abs(t - v[e]),
                            };
                          })
                          .filter(function (t) {
                            return t.distance <= $;
                          });
                      g[e] = rq(n, function (t) {
                        return t.distance;
                      });
                    }),
                    null == o &&
                      g.vertical.length > 0 &&
                      ((o = g.vertical[0].position),
                      (s = Math.min(p.y, n.y)),
                      (a = Math.max(f.y, h.y) - s)),
                    null == l &&
                      g.horizontal.length > 0 &&
                      ((l = g.horizontal[0].position),
                      (u = Math.min(p.x, n.x)),
                      (c = Math.max(f.x, h.x) - u)),
                    null != o && null != l
                  );
                }),
                this.hide();
              var C = 0,
                b = 0;
              (null == l && null == o) ||
                (null != o &&
                  (C = -1 !== m.indexOf('right') ? o - f.x : d.x - o),
                null != l &&
                  (b = -1 !== m.indexOf('bottom') ? l - f.y : d.y - l));
              var x = 0,
                w = 0;
              if (g % 90 == 0)
                90 === g || 270 === g ? ((x = b), (w = C)) : ((x = C), (w = b));
              else {
                var P =
                  g >= 0 && g < 90
                    ? 1
                    : g >= 90 && g < 180
                    ? 4
                    : g >= 180 && g < 270
                    ? 3
                    : 2;
                null != l &&
                  null != o &&
                  (C < b ? ((b = 0), (l = void 0)) : ((C = 0), (o = void 0)));
                var A = t.Angle.toRad(g % 90);
                C && (x = 3 === P ? C / Math.cos(A) : C / Math.sin(A)),
                  b && (w = 3 === P ? b / Math.cos(A) : b / Math.sin(A));
                var E = 1 === P || 3 === P;
                switch (_) {
                  case 'top':
                  case 'bottom':
                    w = b
                      ? b / (E ? Math.cos(A) : Math.sin(A))
                      : C / (E ? Math.sin(A) : Math.cos(A));
                    break;
                  case 'left':
                  case 'right':
                    x = C
                      ? C / (E ? Math.cos(A) : Math.sin(A))
                      : b / (E ? Math.sin(A) : Math.cos(A));
                }
              }
              switch (_) {
                case 'top':
                case 'bottom':
                  x = 0;
                  break;
                case 'left':
                case 'right':
                  w = 0;
              }
              var S = this.graph.getGridSize(),
                k = Math.max(h.width + x, S),
                T = Math.max(h.height + w, S);
              n.minWidth && n.minWidth > S && (k = Math.max(k, n.minWidth)),
                n.minHeight &&
                  n.minHeight > S &&
                  (T = Math.max(T, n.minHeight)),
                n.maxWidth && (k = Math.min(k, n.maxWidth)),
                n.maxHeight && (T = Math.min(T, n.maxHeight)),
                n.preserveAspectRatio &&
                  (w < x
                    ? (T = k * (h.height / h.width))
                    : (k = T * (h.width / h.height))),
                (k === h.width && T === h.height) ||
                  (e.resize(k, T, {
                    direction: y,
                    relativeDirection: _,
                    trueDirection: m,
                    snapped: !0,
                    snaplines: this.cid,
                    restrict: this.graph.hook.getRestrictArea(r),
                  }),
                  a && (a += T - h.height),
                  c && (c += k - h.width));
              var M = e.getBBox().bbox(g);
              o &&
                Math.abs(M.x - o) > 1 &&
                Math.abs(M.width + M.x - o) > 1 &&
                (o = void 0),
                l &&
                  Math.abs(M.y - l) > 1 &&
                  Math.abs(M.height + M.y - l) > 1 &&
                  (l = void 0),
                this.update({
                  verticalLeft: o,
                  verticalTop: s,
                  verticalHeight: a,
                  horizontalTop: l,
                  horizontalLeft: u,
                  horizontalWidth: c,
                });
            }
          }
        }),
        (s.prototype.snapOnMoving = function (e) {
          var n = this,
            i = e.view,
            r = e.e,
            o = e.x,
            s = e.y,
            a = i.getEventData(r).delegatedView || i;
          if (this.isNodeMovable(a)) {
            var l,
              u,
              c,
              h,
              p,
              d,
              f = a.cell,
              g = f.getSize(),
              $ = f.getPosition(),
              v = new t.Rectangle(
                o - this.offset.x,
                s - this.offset.y,
                g.width,
                g.height
              ),
              y = f.getAngle(),
              m = v.getCenter(),
              _ = v.bbox(y),
              C = _.getTopLeft(),
              b = _.getBottomRight(),
              x = this.options.tolerance || 0,
              w = 0,
              P = 0;
            if (
              (this.model.getNodes().some(function (t) {
                if (n.isIgnored(f, t)) return !1;
                var e = t.getBBox().bbox(t.getAngle()),
                  i = e.getCenter(),
                  r = e.getTopLeft(),
                  o = e.getBottomRight();
                return (
                  null == l &&
                    (Math.abs(i.x - m.x) < x
                      ? ((l = i.x), (w = 0.5))
                      : Math.abs(r.x - C.x) < x
                      ? ((l = r.x), (w = 0))
                      : Math.abs(r.x - b.x) < x
                      ? ((l = r.x), (w = 1))
                      : Math.abs(o.x - b.x) < x
                      ? ((l = o.x), (w = 1))
                      : Math.abs(o.x - C.x) < x && (l = o.x),
                    null != l &&
                      ((u = Math.min(_.y, e.y)), (c = Math.max(b.y, o.y) - u))),
                  null == h &&
                    (Math.abs(i.y - m.y) < x
                      ? ((h = i.y), (P = 0.5))
                      : Math.abs(r.y - C.y) < x
                      ? (h = r.y)
                      : Math.abs(r.y - b.y) < x
                      ? ((h = r.y), (P = 1))
                      : Math.abs(o.y - b.y) < x
                      ? ((h = o.y), (P = 1))
                      : Math.abs(o.y - C.y) < x && (h = o.y),
                    null != h &&
                      ((p = Math.min(_.x, e.x)), (d = Math.max(b.x, o.x) - p))),
                  null != l && null != h
                );
              }),
              this.hide(),
              null != h || null != l)
            ) {
              null != h && (_.y = h - P * _.height),
                null != l && (_.x = l - w * _.width);
              var A = _.getCenter(),
                E = A.x - v.width / 2,
                S = A.y - v.height / 2,
                k = E - $.x,
                T = S - $.y;
              (0 === k && 0 === T) ||
                (f.translate(k, T, {
                  snapped: !0,
                  restrict: this.graph.hook.getRestrictArea(a),
                }),
                d && (d += k),
                c && (c += T)),
                this.update({
                  verticalLeft: l,
                  verticalTop: u,
                  verticalHeight: c,
                  horizontalTop: h,
                  horizontalLeft: p,
                  horizontalWidth: d,
                });
            }
          }
        }),
        (s.prototype.isIgnored = function (t, e) {
          return (
            e.id === t.id ||
            e.isDescendantOf(t) ||
            this.filterShapes[e.shape] ||
            this.filterCells[e.id] ||
            (this.filterFunction && oZ(this.filterFunction, this.graph, e))
          );
        }),
        (s.prototype.update = function (e) {
          if (e.horizontalTop) {
            var n = this.graph.localToGraph(
                new t.Point(e.horizontalLeft, e.horizontalTop)
              ),
              i = this.graph.localToGraph(
                new t.Point(
                  e.horizontalLeft + e.horizontalWidth,
                  e.horizontalTop
                )
              );
            this.horizontal.setAttributes({
              x1: this.options.sharp ? '' + n.x : '0',
              y1: '' + n.y,
              x2: this.options.sharp ? '' + i.x : '100%',
              y2: '' + i.y,
              display: 'inherit',
            });
          } else this.horizontal.setAttribute('display', 'none');
          e.verticalLeft
            ? ((n = this.graph.localToGraph(
                new t.Point(e.verticalLeft, e.verticalTop)
              )),
              (i = this.graph.localToGraph(
                new t.Point(e.verticalLeft, e.verticalTop + e.verticalHeight)
              )),
              this.vertical.setAttributes({
                x1: '' + n.x,
                y1: this.options.sharp ? '' + n.y : '0',
                x2: '' + i.x,
                y2: this.options.sharp ? '' + i.y : '100%',
                display: 'inherit',
              }))
            : this.vertical.setAttribute('display', 'none'),
            this.show();
        }),
        (s.prototype.resetTimer = function () {
          this.timer && (clearTimeout(this.timer), (this.timer = null));
        }),
        (s.prototype.show = function () {
          return (
            this.resetTimer(),
            null == this.container.parentNode &&
              this.graph.container.appendChild(this.container),
            this
          );
        }),
        (s.prototype.hide = function () {
          var t = this;
          this.resetTimer(),
            this.vertical.setAttribute('display', 'none'),
            this.horizontal.setAttribute('display', 'none');
          var e = this.options.clean,
            n = 'number' == typeof e ? e : !1 !== e ? 3e3 : 0;
          return (
            n > 0 &&
              (this.timer = window.setTimeout(function () {
                null !== t.container.parentNode && t.unmount();
              }, n)),
            this
          );
        }),
        (s.prototype.onRemove = function () {
          this.stopListening(), this.hide();
        }),
        (s.prototype.dispose = function () {
          this.remove();
        }),
        o([t.View.dispose()], s.prototype, 'dispose', null),
        s
      );
    })(t.View),
    fc = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(r, e),
        (r.prototype.init = function () {
          this.resetUpdates(),
            this.startListening(),
            this.resetViews(this.model.getCells()),
            !this.isFrozen() && this.isAsync() && this.updateViewsAsync();
        }),
        (r.prototype.startListening = function () {
          this.model.on('sorted', this.onSortModel, this),
            this.model.on('reseted', this.onModelReseted, this),
            this.model.on('batch:stop', this.onBatchStop, this),
            this.model.on('cell:added', this.onCellAdded, this),
            this.model.on('cell:removed', this.onCellRemoved, this),
            this.model.on('cell:change:zIndex', this.onCellZIndexChanged, this),
            this.model.on(
              'cell:change:visible',
              this.onCellVisibleChanged,
              this
            );
        }),
        (r.prototype.stopListening = function () {
          this.model.off('sorted', this.onSortModel, this),
            this.model.off('reseted', this.onModelReseted, this),
            this.model.off('batch:stop', this.onBatchStop, this),
            this.model.off('cell:added', this.onCellAdded, this),
            this.model.off('cell:removed', this.onCellRemoved, this),
            this.model.off(
              'cell:change:zIndex',
              this.onCellZIndexChanged,
              this
            ),
            this.model.off(
              'cell:change:visible',
              this.onCellVisibleChanged,
              this
            );
        }),
        (r.prototype.resetUpdates = function () {
          this.updates = {
            priorities: [{}, {}, {}],
            mounted: {},
            mountedCids: [],
            unmounted: {},
            unmountedCids: [],
            count: 0,
            sort: !1,
            frozen: !1,
            freezeKey: null,
            animationId: null,
          };
        }),
        (r.prototype.onSortModel = function () {
          this.model.hasActiveBatch(r.SORT_DELAYING_BATCHES) ||
            this.sortViews();
        }),
        (r.prototype.onModelReseted = function (t) {
          var e = t.options;
          this.removeZPivots(), this.resetViews(this.model.getCells(), e);
        }),
        (r.prototype.onBatchStop = function (t) {
          var e = t.name,
            n = t.data;
          if (!this.isFrozen()) {
            var i = this.model;
            if (!this.isAsync()) {
              var o = r.UPDATE_DELAYING_BATCHES;
              o.includes(e) && !i.hasActiveBatch(o) && this.updateViews(n);
            }
            var s = r.SORT_DELAYING_BATCHES;
            s.includes(e) && !i.hasActiveBatch(s) && this.sortViews();
          }
        }),
        (r.prototype.onCellAdded = function (t) {
          var e = t.cell,
            n = t.options,
            i = n.position;
          this.isAsync() || 'number' != typeof i
            ? this.renderView(e, n)
            : (n.maxPosition === i && this.freeze({ key: 'addCells' }),
              this.renderView(e, n),
              0 === i && this.unfreeze({ key: 'addCells' }));
        }),
        (r.prototype.onCellRemoved = function (t) {
          var e = t.cell,
            n = t.options,
            i = this.findViewByCell(e);
          i && this.requestViewUpdate(i, r.FLAG_REMOVE, i.priority, n);
        }),
        (r.prototype.onCellZIndexChanged = function (t) {
          var e = t.cell,
            n = t.options;
          if ('approx' === this.options.sorting) {
            var i = this.findViewByCell(e);
            i && this.requestViewUpdate(i, r.FLAG_INSERT, i.priority, n);
          }
        }),
        (r.prototype.onCellVisibleChanged = function (t) {
          var e = t.cell,
            n = t.current,
            i = t.options;
          n || this.processEdgeOnTerminalVisibleChanged(e, !1);
          var r = this.findViewByCell(e);
          !n && r
            ? this.removeView(e)
            : n && null == r && this.renderView(e, i),
            n && this.processEdgeOnTerminalVisibleChanged(e, !0);
        }),
        (r.prototype.processEdgeOnTerminalVisibleChanged = function (t, e) {
          this.model.getConnectedEdges(t).forEach(function (n) {
            var i,
              r,
              o =
                ((i = n),
                (r = t),
                i.getSourceCellId() !== r.id
                  ? i.getSourceCell()
                  : i.getTargetCellId() !== r.id
                  ? i.getTargetCell()
                  : null);
            (null == o || o.isVisible()) && (e ? n.show() : n.hide());
          });
        }),
        (r.prototype.isEdgeTerminalVisible = function (t, e) {
          var n = 'source' === e ? t.getSourceCellId() : t.getTargetCellId(),
            i = n ? this.model.getCell(n) : null;
          return !(i && !i.isVisible());
        }),
        (r.prototype.requestConnectedEdgesUpdate = function (e, n) {
          if ((void 0 === n && (n = {}), t.CellView.isCellView(e)))
            for (
              var i = e.cell,
                r = this.model.getConnectedEdges(i),
                o = 0,
                s = r.length;
              o < s;
              o += 1
            ) {
              var a = r[o],
                l = this.findViewByCell(a);
              if (l) {
                var u = ['update'];
                a.getTargetCell() === i && u.push('target'),
                  a.getSourceCell() === i && u.push('source'),
                  this.scheduleViewUpdate(l, l.getFlag(u), l.priority, n);
              }
            }
        }),
        (r.prototype.forcePostponedViewUpdate = function (e, n) {
          if (!e || !t.CellView.isCellView(e)) return !1;
          var i = e.cell;
          if (i.isNode()) return !1;
          var r = e;
          if (i.isEdge() && 0 == (n & e.getFlag(['source', 'target']))) {
            var o = 0,
              s = this.findViewByCell(i.getSourceCell());
            s &&
              !this.isViewMounted(s) &&
              ((o = this.dumpView(s)), r.updateTerminalMagnet('source'));
            var a = 0,
              l = this.findViewByCell(i.getTargetCell());
            if (
              (l &&
                !this.isViewMounted(l) &&
                ((a = this.dumpView(l)), r.updateTerminalMagnet('target')),
              0 === o && 0 === a)
            )
              return !this.dumpView(r);
          }
          return !1;
        }),
        (r.prototype.scheduleViewUpdate = function (t, e, n, i) {
          void 0 === i && (i = {});
          var o = t.cid,
            s = this.updates,
            a = s.priorities[n];
          a || (a = s.priorities[n] = {});
          var l = a[o] || 0;
          (l & e) !== e &&
            (l || (s.count += 1),
            e & r.FLAG_REMOVE && l & r.FLAG_INSERT
              ? (a[o] ^= r.FLAG_INSERT)
              : e & r.FLAG_INSERT &&
                l & r.FLAG_REMOVE &&
                (a[o] ^= r.FLAG_REMOVE),
            (a[o] |= e),
            this.graph.hook.onViewUpdated(t, e, i));
        }),
        (r.prototype.requestViewUpdate = function (t, e, n, i) {
          void 0 === i && (i = {}), this.scheduleViewUpdate(t, e, n, i);
          var o = this.isAsync();
          if (
            !(
              this.isFrozen() ||
              (o && !1 !== i.async) ||
              this.model.hasActiveBatch(r.UPDATE_DELAYING_BATCHES)
            )
          ) {
            var s = this.updateViews(i);
            o && this.graph.trigger('render:done', { stats: s, options: i });
          }
        }),
        (r.prototype.dumpView = function (t, e) {
          if ((void 0 === e && (e = {}), null == t)) return 0;
          var n = t.cid,
            i = this.updates.priorities[t.priority],
            r = this.registerMountedView(t) | i[n];
          return delete i[n], r ? this.updateView(t, r, e) : 0;
        }),
        (r.prototype.dumpViews = function (t) {
          void 0 === t && (t = {}), this.checkView(t), this.updateViews(t);
        }),
        (r.prototype.requireView = function (t, e) {
          void 0 === e && (e = {});
          var n = this.findViewByCell(t);
          return null == n ? null : (this.dumpView(n, e), n);
        }),
        (r.prototype.updateView = function (e, n, i) {
          if ((void 0 === i && (i = {}), null == e)) return 0;
          if (t.CellView.isCellView(e)) {
            if (n & r.FLAG_REMOVE) return this.removeView(e.cell), 0;
            n & r.FLAG_INSERT && (this.insertView(e), (n ^= r.FLAG_INSERT));
          }
          return n ? e.confirmUpdate(n, i) : 0;
        }),
        (r.prototype.updateViews = function (t) {
          void 0 === t && (t = {});
          var e,
            n = 0,
            i = 0,
            o = r.MIN_PRIORITY;
          do
            (n += 1),
              (i += (e = this.updateViewsBatch(t)).updatedCount),
              (o = Math.min(e.priority, o));
          while (!e.empty);
          return { priority: o, batchCount: n, updatedCount: i };
        }),
        (r.prototype.updateViewsBatch = function (e) {
          void 0 === e && (e = {});
          var n = this.updates,
            i = n.priorities,
            o = e.batchSize || r.UPDATE_BATCH_SIZE,
            s = !0,
            a = r.MIN_PRIORITY,
            l = 0,
            u = 0,
            c = 0,
            h = 0,
            p = e.checkView || this.options.checkView;
          'function' != typeof p && (p = null);
          t: for (var d = 0, f = i.length; d < f; d += 1) {
            var g = i[d];
            for (var $ in g) {
              if (c >= o) {
                s = !1;
                break t;
              }
              var v = t.View.views[$];
              if (v) {
                var y = g[$];
                if (0 == (y & r.FLAG_REMOVE)) {
                  var m = $ in n.unmounted;
                  if (p && !oZ(p, this.graph, { view: v, unmounted: m })) {
                    m || (this.registerUnmountedView(v), v.unmount()),
                      (n.unmounted[$] |= y),
                      delete g[$],
                      (u += 1);
                    continue;
                  }
                  m && ((y |= r.FLAG_INSERT), (l += 1)),
                    (y |= this.registerMountedView(v));
                }
                var _ = v,
                  C = this.updateView(v, y, e);
                if (C > 0) {
                  var b = _.cell;
                  b &&
                    b.isEdge() &&
                    (_.hasAction(C, 'source') &&
                      !this.isEdgeTerminalVisible(b, 'source') &&
                      ((C = _.removeAction(C, 'source')), (C |= r.FLAG_REMOVE)),
                    _.hasAction(C, 'target') &&
                      !this.isEdgeTerminalVisible(b, 'target') &&
                      ((C = _.removeAction(C, 'target')),
                      (C |= r.FLAG_REMOVE)));
                }
                C > 0 &&
                ((g[$] = C), !this.graph.hook.onViewPostponed(_, C, e) || g[$])
                  ? ((h += 1), (s = !1))
                  : (a > d && (a = d), (c += 1), delete g[$]);
              } else delete g[$];
            }
          }
          return {
            empty: s,
            priority: a,
            mountedCount: l,
            unmountedCount: u,
            updatedCount: c,
            postponedCount: h,
          };
        }),
        (r.prototype.updateViewsAsync = function (t, e) {
          var n = this;
          void 0 === t && (t = {}),
            void 0 === e && (e = { processed: 0, priority: r.MIN_PRIORITY });
          var i = this.updates,
            o = i.animationId;
          if (o) {
            if ((sq(o), 0 === e.processed)) {
              var s = t.before;
              'function' == typeof s && oZ(s, this.graph, this.graph);
            }
            var a = this.updateViewsBatch(t),
              l = this.checkViewImpl({
                checkView: t.checkView,
                mountedBatchSize: r.MOUNT_BATCH_SIZE - a.mountedCount,
                unmountedBatchSize: r.MOUNT_BATCH_SIZE - a.unmountedCount,
              }),
              u = e.processed,
              c = i.count,
              h = l.mountedCount,
              p = l.unmountedCount;
            a.updatedCount > 0 &&
              ((u += a.updatedCount + a.unmountedCount),
              (e.priority = Math.min(a.priority, e.priority)),
              a.empty && 0 === h
                ? ((a.priority = e.priority),
                  (a.mountedCount += h),
                  (a.unmountedCount += p),
                  this.graph.trigger('render:done', { stats: a, options: t }),
                  (e.processed = 0),
                  (i.count = 0))
                : (e.processed = u));
            var d = t.progress;
            if (
              (c &&
                'function' == typeof d &&
                oZ(d, this.graph, { total: c, done: a.empty, current: u }),
              i.animationId !== o)
            )
              return;
          }
          i.animationId = sU(function () {
            n.updateViewsAsync(t, e);
          });
        }),
        (r.prototype.registerMountedView = function (t) {
          var e = t.cid,
            n = this.updates;
          if (e in n.mounted) return 0;
          (n.mounted[e] = !0), n.mountedCids.push(e);
          var i = n.unmounted[e] || 0;
          return delete n.unmounted[e], i;
        }),
        (r.prototype.registerUnmountedView = function (t) {
          var e = t.cid,
            n = this.updates;
          if (e in n.unmounted) return 0;
          n.unmounted[e] |= r.FLAG_INSERT;
          var i = n.unmounted[e];
          return n.unmountedCids.push(e), delete n.mounted[e], i;
        }),
        (r.prototype.isViewMounted = function (t) {
          return null != t && t.cid in this.updates.mounted;
        }),
        (r.prototype.getMountedViews = function () {
          return Object.keys(this.updates.mounted).map(function (e) {
            return t.CellView.views[e];
          });
        }),
        (r.prototype.getUnmountedViews = function () {
          return Object.keys(this.updates.unmounted).map(function (e) {
            return t.CellView.views[e];
          });
        }),
        (r.prototype.checkMountedViews = function (e, n) {
          var i = 0;
          if ('function' != typeof e) return i;
          for (
            var r = this.updates,
              o = r.mounted,
              s = r.mountedCids,
              a = null == n ? s.length : Math.min(s.length, n),
              l = 0;
            l < a;
            l += 1
          ) {
            var u = s[l];
            if (u in o) {
              var c = t.CellView.views[u];
              null != c &&
                (oZ(e, this.graph, { view: c, unmounted: !0 })
                  ? s.push(u)
                  : ((i += 1), this.registerUnmountedView(c) && c.unmount()));
            }
          }
          return s.splice(0, a), i;
        }),
        (r.prototype.checkUnmountedViews = function (e, n) {
          var i = 0;
          'function' != typeof e && (e = null);
          for (
            var r = this.updates,
              o = r.unmounted,
              s = r.unmountedCids,
              a = null == n ? s.length : Math.min(s.length, n),
              l = 0;
            l < a;
            l += 1
          ) {
            var u = s[l];
            if (u in o) {
              var c = t.CellView.views[u];
              if (null != c) {
                if (!e || oZ(e, this.graph, { view: c, unmounted: !1 })) {
                  i += 1;
                  var h = this.registerMountedView(c);
                  h &&
                    this.scheduleViewUpdate(c, h, c.priority, { mounting: !0 });
                } else s.push(u);
              }
            }
          }
          return s.splice(0, a), i;
        }),
        (r.prototype.checkViewImpl = function (t) {
          void 0 === t &&
            (t = {
              mountedBatchSize: Number.MAX_SAFE_INTEGER,
              unmountedBatchSize: Number.MAX_SAFE_INTEGER,
            });
          var e = t.checkView || this.options.checkView,
            n = this.checkMountedViews(e, t.unmountedBatchSize);
          return {
            mountedCount: this.checkUnmountedViews(
              e,
              n > 0
                ? Math.min(
                    this.updates.unmountedCids.length - n,
                    t.mountedBatchSize
                  )
                : t.mountedBatchSize
            ),
            unmountedCount: n,
          };
        }),
        (r.prototype.checkView = function (t) {
          return void 0 === t && (t = {}), this.checkViewImpl(t);
        }),
        (r.prototype.isFrozen = function () {
          return !!this.options.frozen;
        }),
        (r.prototype.freeze = function (t) {
          void 0 === t && (t = {});
          var e = t.key,
            n = this.updates,
            i = this.options.frozen,
            r = n.freezeKey;
          if (e && e !== r) {
            if (i && r) return;
            (n.frozen = i), (n.freezeKey = e);
          }
          this.options.frozen = !0;
          var o = n.animationId;
          (n.animationId = null),
            this.isAsync() && null != o && sq(o),
            this.graph.trigger('freeze', { key: e });
        }),
        (r.prototype.unfreeze = function (t) {
          var e = this;
          void 0 === t && (t = {});
          var n = t.key,
            r = this.updates,
            o = r.freezeKey;
          if (
            !(
              (n && o && n !== o) ||
              ((r.freezeKey = null), n && n === o && r.frozen)
            )
          ) {
            var s = function () {
              (e.options.frozen = r.frozen = !1),
                r.sort && (e.sortViews(), (r.sort = !1));
              var i = t.after;
              i && oZ(i, e.graph, e.graph),
                e.graph.trigger('unfreeze', { key: n });
            };
            if (this.isAsync()) {
              this.freeze();
              var a = t.progress;
              this.updateViewsAsync(
                i(i({}, t), {
                  progress: function (t) {
                    var n = t.done,
                      i = t.current,
                      r = t.total;
                    a && oZ(a, e.graph, { done: n, current: i, total: r }),
                      n && s();
                  },
                })
              );
            } else this.updateViews(t), s();
          }
        }),
        (r.prototype.isAsync = function () {
          return !!this.options.async;
        }),
        (r.prototype.setAsync = function (t) {
          this.options.async = t;
        }),
        (r.prototype.onRemove = function () {
          this.freeze(), this.removeViews();
        }),
        (r.prototype.resetViews = function (t, e) {
          void 0 === t && (t = []),
            void 0 === e && (e = {}),
            this.resetUpdates(),
            this.removeViews(),
            this.freeze({ key: 'reset' });
          for (var n = 0, i = t.length; n < i; n += 1) this.renderView(t[n], e);
          this.unfreeze({ key: 'reset' }), this.sortViews();
        }),
        (r.prototype.removeView = function (t) {
          var e = this.views[t.id];
          if (e) {
            var n = e.cid,
              i = this.updates,
              r = i.mounted,
              o = i.unmounted;
            e.remove(), delete this.views[t.id], delete r[n], delete o[n];
          }
          return e;
        }),
        (r.prototype.removeViews = function () {
          var t = this;
          this.views &&
            Object.keys(this.views).forEach(function (e) {
              var n = t.views[e];
              n && t.removeView(n.cell);
            }),
            (this.views = {});
        }),
        (r.prototype.renderView = function (t, e) {
          void 0 === e && (e = {});
          var n = t.id,
            i = this.views,
            o = 0,
            s = i[n];
          if (
            t.isVisible() &&
            (!t.isEdge() ||
              (this.isEdgeTerminalVisible(t, 'source') &&
                this.isEdgeTerminalVisible(t, 'target')))
          ) {
            if (s) o = r.FLAG_INSERT;
            else {
              var a = this.graph.hook.createCellView(t);
              a &&
                (((s = i[t.id] = a).graph = this.graph),
                (o = this.registerUnmountedView(s) | s.getBootstrapFlag()));
            }
            s && this.requestViewUpdate(s, o, s.priority, e);
          }
        }),
        (r.prototype.isExactSorting = function () {
          return 'exact' === this.options.sorting;
        }),
        (r.prototype.sortViews = function () {
          this.isExactSorting() &&
            (this.isFrozen()
              ? (this.updates.sort = !0)
              : this.sortViewsExact());
        }),
        (r.prototype.sortElements = function (t, e) {
          var n = t.map(function (t) {
            var e = t.parentNode,
              n = e.insertBefore(document.createTextNode(''), t.nextSibling);
            return function (t) {
              if (e === t)
                throw Error(
                  "You can't sort elements if any one is a descendant of another."
                );
              e.insertBefore(t, n), e.removeChild(n);
            };
          });
          t.sort(e).forEach(function (t, e) {
            return n[e](t);
          });
        }),
        (r.prototype.sortViewsExact = function () {
          var t = this.view
              .$(this.view.stage)
              .children('[data-cell-id]')
              .toArray(),
            e = this.model;
          this.sortElements(t, function (t, n) {
            var i = e.getCell(t.getAttribute('data-cell-id') || ''),
              r = e.getCell(n.getAttribute('data-cell-id') || ''),
              o = i.getZIndex() || 0,
              s = r.getZIndex() || 0;
            return o === s ? 0 : o < s ? -1 : 1;
          });
        }),
        (r.prototype.addZPivot = function (t) {
          void 0 === t && (t = 0), null == this.zPivots && (this.zPivots = {});
          var e = this.zPivots,
            n = e[t];
          if (n) return n;
          n = e[t] = document.createComment('z-index:' + (t + 1));
          var i = -1 / 0;
          for (var r in e) {
            var o = +r;
            o < t && o > i && (i = o);
          }
          var s = this.view.stage;
          if (i !== -1 / 0) {
            var a = e[i];
            s.insertBefore(n, a.nextSibling);
          } else s.insertBefore(n, s.firstChild);
          return n;
        }),
        (r.prototype.removeZPivots = function () {
          var t = this;
          this.zPivots &&
            Object.keys(this.zPivots).forEach(function (e) {
              var n = t.zPivots[e];
              n && n.parentNode && n.parentNode.removeChild(n);
            }),
            (this.zPivots = {});
        }),
        (r.prototype.insertView = function (t) {
          var e = this.view.stage;
          if ('approx' === this.options.sorting) {
            var n = t.cell.getZIndex(),
              i = this.addZPivot(n);
            e.insertBefore(t.container, i);
          } else e.appendChild(t.container);
        }),
        (r.prototype.findViewByCell = function (e) {
          if (null == e) return null;
          var n = t.Cell.isCell(e) ? e.id : e;
          return this.views[n];
        }),
        (r.prototype.findViewByElem = function (t) {
          if (null == t) return null;
          var e =
            'string' == typeof t
              ? this.view.stage.querySelector(t)
              : t instanceof Element
              ? t
              : t[0];
          if (e) {
            var n = this.view.findAttr('data-cell-id', e);
            if (n) return this.views[n];
          }
          return null;
        }),
        (r.prototype.findViewsFromPoint = function (t) {
          var e = this,
            n = { x: t.x, y: t.y };
          return this.model
            .getCells()
            .map(function (t) {
              return e.findViewByCell(t);
            })
            .filter(function (t) {
              return (
                null != t &&
                ls(t.container, { target: e.view.stage }).containsPoint(n)
              );
            });
        }),
        (r.prototype.findEdgeViewsInArea = function (e, n) {
          var i = this;
          void 0 === n && (n = {});
          var r = t.Rectangle.create(e);
          return this.model
            .getEdges()
            .map(function (t) {
              return i.findViewByCell(t);
            })
            .filter(function (t) {
              if (t) {
                var e = ls(t.container, { target: i.view.stage });
                return (
                  0 === e.width
                    ? e.inflate(1, 0)
                    : 0 === e.height && e.inflate(0, 1),
                  n.strict ? r.containsRect(e) : r.isIntersectWithRect(e)
                );
              }
              return !1;
            });
        }),
        (r.prototype.findViewsInArea = function (e, n) {
          var i = this;
          void 0 === n && (n = {});
          var r = t.Rectangle.create(e);
          return this.model
            .getNodes()
            .map(function (t) {
              return i.findViewByCell(t);
            })
            .filter(function (t) {
              if (t) {
                var e = ls(t.container, { target: i.view.stage });
                return n.strict ? r.containsRect(e) : r.isIntersectWithRect(e);
              }
              return !1;
            });
        }),
        (r.prototype.dispose = function () {
          this.resetUpdates(), this.stopListening();
        }),
        o([dH.dispose()], r.prototype, 'dispose', null),
        r
      );
    })(dH);
  ((fl = fc || (fc = {})).FLAG_INSERT = 1073741824),
    (fl.FLAG_REMOVE = 536870912),
    (fl.MOUNT_BATCH_SIZE = 1e3),
    (fl.UPDATE_BATCH_SIZE = 1e3),
    (fl.MIN_PRIORITY = 2),
    (fl.SORT_DELAYING_BATCHES = ['add', 'to-front', 'to-back']),
    (fl.UPDATE_DELAYING_BATCHES = ['translate']);
  var fh,
    fp = (function (e) {
      function i() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'elem', {
          get: function () {
            return this.view.background;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.init = function () {
          this.startListening(),
            this.options.background && this.draw(this.options.background);
        }),
        (i.prototype.startListening = function () {
          this.graph.on('scale', this.update, this),
            this.graph.on('translate', this.update, this);
        }),
        (i.prototype.stopListening = function () {
          this.graph.off('scale', this.update, this),
            this.graph.off('translate', this.update, this);
        }),
        (i.prototype.updateBackgroundImage = function (e) {
          void 0 === e && (e = {});
          var n = e.size || 'auto auto',
            i = e.position || 'center',
            r = this.graph.transform.getScale(),
            o = this.graph.translate();
          'object' == typeof i &&
            (i =
              o.tx +
              r.sx * (i.x || 0) +
              'px ' +
              (o.ty + r.sy * (i.y || 0)) +
              'px'),
            'object' == typeof n &&
              (n =
                (n = t.Rectangle.fromSize(n).scale(r.sx, r.sy)).width +
                'px ' +
                n.height +
                'px'),
            (this.elem.style.backgroundSize = n),
            (this.elem.style.backgroundPosition = i);
        }),
        (i.prototype.drawBackgroundImage = function (t, e) {
          if ((void 0 === e && (e = {}), t instanceof HTMLImageElement)) {
            var n = this.optionsCache;
            if (!n || n.image === e.image) {
              var i,
                r = e.opacity,
                o = e.size,
                s = e.repeat || 'no-repeat',
                a = uW.registry.get(s);
              if ('function' == typeof a) {
                var l = e.quality || 1;
                (t.width *= l), (t.height *= l);
                var u = a(t, e);
                if (!(u instanceof HTMLCanvasElement))
                  throw Error(
                    'Background pattern must return an HTML Canvas instance'
                  );
                (i = u.toDataURL('image/png')),
                  (s = e.repeat && s !== e.repeat ? e.repeat : 'repeat'),
                  'object' == typeof o
                    ? ((o.width *= u.width / t.width),
                      (o.height *= u.height / t.height))
                    : void 0 === o &&
                      (e.size = { width: u.width / l, height: u.height / l });
              } else
                (i = t.src),
                  void 0 === o &&
                    (e.size = { width: t.width, height: t.height });
              null != n &&
                'object' == typeof e.size &&
                e.image === n.image &&
                e.repeat === n.repeat &&
                e.quality === n.quality &&
                (n.size = iC(e.size));
              var c = this.elem.style;
              (c.backgroundImage = 'url(' + i + ')'),
                (c.backgroundRepeat = s),
                (c.opacity = null == r || r >= 1 ? '' : '' + r),
                this.updateBackgroundImage(e);
            }
          } else this.elem.style.backgroundImage = '';
        }),
        (i.prototype.updateBackgroundColor = function (t) {
          this.elem.style.backgroundColor = t || '';
        }),
        (i.prototype.updateBackgroundOptions = function (t) {
          this.graph.options.background = t;
        }),
        (i.prototype.update = function () {
          this.optionsCache && this.updateBackgroundImage(this.optionsCache);
        }),
        (i.prototype.draw = function (t) {
          var e = this,
            n = t || {};
          if (
            (this.updateBackgroundOptions(t),
            this.updateBackgroundColor(n.color),
            n.image)
          ) {
            this.optionsCache = iC(n);
            var i = document.createElement('img');
            (i.onload = function () {
              return e.drawBackgroundImage(i, t);
            }),
              i.setAttribute('crossorigin', 'anonymous'),
              (i.src = n.image);
          } else this.drawBackgroundImage(null), (this.optionsCache = null);
        }),
        (i.prototype.clear = function () {
          this.draw();
        }),
        (i.prototype.dispose = function () {
          this.clear(), this.stopListening();
        }),
        o([dH.dispose()], i.prototype, 'dispose', null),
        i
      );
    })(dH),
    fd = (function (e) {
      function s(t) {
        var n = e.call(this) || this;
        (n.padding = { left: 0, top: 0, right: 0, bottom: 0 }),
          (n.options = fh.getOptions(t));
        var i = n.graph.transform.getScale();
        (n.sx = i.sx), (n.sy = i.sy);
        var r = n.options.width || n.graph.options.width,
          o = n.options.height || n.graph.options.height;
        (n.container = document.createElement('div')),
          (n.$container = n
            .$(n.container)
            .addClass(n.prefixClassName(fh.containerClass))
            .css({ width: r, height: o })),
          n.options.pageVisible &&
            n.$container.addClass(n.prefixClassName(fh.pagedClass)),
          n.options.className && n.$container.addClass(n.options.className);
        var a = n.graph.container;
        a.parentNode && n.$container.insertBefore(a);
        var l = a.getAttribute('style');
        if (l) {
          var u = {};
          l.split(';').forEach(function (t) {
            var e = t.trim();
            if (e) {
              var n = e.split(':');
              n.length && (u[n[0].trim()] = n[1] ? n[1].trim() : '');
            }
          }),
            Object.keys(u).forEach(function (t) {
              'width' !== t &&
                'height' !== t &&
                ((a.style[t] = ''), (n.container.style[t] = u[t]));
            });
        }
        return (
          (n.content = document.createElement('div')),
          (n.$content = n
            .$(n.content)
            .addClass(n.prefixClassName(fh.contentClass))
            .css({
              width: n.graph.options.width,
              height: n.graph.options.height,
            })),
          (n.background = document.createElement('div')),
          (n.$background = n
            .$(n.background)
            .addClass(n.prefixClassName(fh.backgroundClass))),
          n.$content.append(n.background),
          n.options.pageVisible || n.$content.append(n.graph.view.grid),
          n.$content.append(a),
          n.$content.appendTo(n.container),
          n.startListening(),
          n.options.pageVisible || n.graph.grid.update(),
          (n.backgroundManager = new s.Background(n)),
          n.options.autoResize || n.update(),
          n
        );
      }
      return (
        n(s, e),
        Object.defineProperty(s.prototype, 'graph', {
          get: function () {
            return this.options.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(s.prototype, 'model', {
          get: function () {
            return this.graph.model;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (s.prototype.startListening = function () {
          var t = this.graph,
            e = this.model;
          t.on('scale', this.onScale, this),
            t.on('resize', this.onResize, this),
            t.on('before:print', this.storeScrollPosition, this),
            t.on('before:export', this.storeScrollPosition, this),
            t.on('after:print', this.restoreScrollPosition, this),
            t.on('after:export', this.restoreScrollPosition, this),
            t.on('render:done', this.onRenderDone, this),
            t.on('unfreeze', this.onUpdate, this),
            e.on('reseted', this.onUpdate, this),
            e.on('cell:added', this.onUpdate, this),
            e.on('cell:removed', this.onUpdate, this),
            e.on('cell:changed', this.onUpdate, this),
            e.on('batch:stop', this.onBatchStop, this),
            this.delegateBackgroundEvents();
        }),
        (s.prototype.stopListening = function () {
          var t = this.graph,
            e = this.model;
          t.off('scale', this.onScale, this),
            t.off('resize', this.onResize, this),
            t.off('beforeprint', this.storeScrollPosition, this),
            t.off('beforeexport', this.storeScrollPosition, this),
            t.off('afterprint', this.restoreScrollPosition, this),
            t.off('afterexport', this.restoreScrollPosition, this),
            t.off('render:done', this.onRenderDone, this),
            t.off('unfreeze', this.onUpdate, this),
            e.off('reseted', this.onUpdate, this),
            e.off('cell:added', this.onUpdate, this),
            e.off('cell:removed', this.onUpdate, this),
            e.off('cell:changed', this.onUpdate, this),
            e.off('batch:stop', this.onBatchStop, this),
            this.undelegateBackgroundEvents();
        }),
        (s.prototype.enableAutoResize = function () {
          this.options.autoResize = !0;
        }),
        (s.prototype.disableAutoResize = function () {
          this.options.autoResize = !1;
        }),
        (s.prototype.onUpdate = function () {
          !this.graph.isAsync() && this.options.autoResize && this.update();
        }),
        (s.prototype.onBatchStop = function (t) {
          !this.graph.isAsync() &&
            this.options.autoResize &&
            fc.UPDATE_DELAYING_BATCHES.includes(t.name) &&
            this.update();
        }),
        (s.prototype.delegateBackgroundEvents = function (t) {
          var e = this,
            n = t || dU.events;
          (this.delegatedHandlers = Object.keys(n).reduce(function (t, i) {
            var r = n[i];
            if (-1 === i.indexOf(' ')) {
              if ('function' == typeof r) t[i] = r;
              else {
                var o = e.graph.view[r];
                'function' == typeof o &&
                  ((o = o.bind(e.graph.view)), (t[i] = o));
              }
            }
            return t;
          }, {})),
            (this.onBackgroundEvent = this.onBackgroundEvent.bind(this)),
            Object.keys(this.delegatedHandlers).forEach(function (t) {
              e.delegateEvent(t, { guarded: !1 }, e.onBackgroundEvent);
            });
        }),
        (s.prototype.undelegateBackgroundEvents = function () {
          var t = this;
          Object.keys(this.delegatedHandlers).forEach(function (e) {
            t.undelegateEvent(e, t.onBackgroundEvent);
          });
        }),
        (s.prototype.onBackgroundEvent = function (t) {
          var e = !1,
            n = t.target;
          if (this.options.pageVisible)
            e = this.options.background
              ? this.background === n
              : this.content === n;
          else {
            var i = this.graph.view;
            e = i.background === n || i.grid === n;
          }
          if (e) {
            var r = this.delegatedHandlers[t.type];
            'function' == typeof r && r.apply(this.graph, arguments);
          }
        }),
        (s.prototype.onRenderDone = function (t) {
          var e = t.stats;
          this.options.autoResize && e.priority < 2 && this.update();
        }),
        (s.prototype.onResize = function () {
          this.cachedCenterPoint &&
            (this.centerPoint(
              this.cachedCenterPoint.x,
              this.cachedCenterPoint.y
            ),
            this.updatePageBreak());
        }),
        (s.prototype.onScale = function (t) {
          var e = t.sx,
            n = t.sy,
            i = t.ox,
            r = t.oy;
          this.updateScale(e, n),
            (i || r) && (this.centerPoint(i, r), this.updatePageBreak()),
            'function' ==
              typeof (
                this.options.autoResizeOptions ||
                this.options.fitTocontentOptions
              ) && this.update();
        }),
        (s.prototype.storeScrollPosition = function () {
          (this.cachedScrollLeft = this.container.scrollLeft),
            (this.cachedScrollTop = this.container.scrollTop);
        }),
        (s.prototype.restoreScrollPosition = function () {
          (this.container.scrollLeft = this.cachedScrollLeft),
            (this.container.scrollTop = this.cachedScrollTop),
            (this.cachedScrollLeft = null),
            (this.cachedScrollTop = null);
        }),
        (s.prototype.storeClientSize = function () {
          this.cachedClientSize = {
            width: this.container.clientWidth,
            height: this.container.clientHeight,
          };
        }),
        (s.prototype.restoreClientSize = function () {
          this.cachedClientSize = null;
        }),
        (s.prototype.beforeManipulation = function () {
          (t.Platform.IS_IE || t.Platform.IS_EDGE) &&
            this.$container.css('visibility', 'hidden');
        }),
        (s.prototype.afterManipulation = function () {
          (t.Platform.IS_IE || t.Platform.IS_EDGE) &&
            this.$container.css('visibility', 'visible');
        }),
        (s.prototype.updatePageSize = function (t, e) {
          null != t && (this.options.pageWidth = t),
            null != e && (this.options.pageHeight = e),
            this.updatePageBreak();
        }),
        (s.prototype.updatePageBreak = function () {
          if (
            (this.pageBreak &&
              this.pageBreak.parentNode &&
              this.pageBreak.parentNode.removeChild(this.pageBreak),
            (this.pageBreak = null),
            this.options.pageVisible && this.options.pageBreak)
          ) {
            var t = this.graph.options.width,
              e = this.graph.options.height,
              n = this.options.pageWidth * this.sx,
              i = this.options.pageHeight * this.sy;
            if (0 !== n && 0 !== i && (t > n || e > i)) {
              for (
                var r = !1,
                  o = document.createElement('div'),
                  s = 1,
                  a = Math.floor(t / n);
                s < a;
                s += 1
              )
                this.$('<div/>')
                  .addClass(this.prefixClassName('graph-pagebreak-vertical'))
                  .css({ left: s * n })
                  .appendTo(o),
                  (r = !0);
              for (s = 1, a = Math.floor(e / i); s < a; s += 1)
                this.$('<div/>')
                  .addClass(this.prefixClassName('graph-pagebreak-horizontal'))
                  .css({ top: s * i })
                  .appendTo(o),
                  (r = !0);
              r &&
                (sl(o, this.prefixClassName('graph-pagebreak')),
                this.$(this.graph.view.grid).after(o),
                (this.pageBreak = o));
            }
          }
        }),
        (s.prototype.update = function () {
          var t = this.getClientSize();
          this.cachedCenterPoint = this.clientToLocalPoint(
            t.width / 2,
            t.height / 2
          );
          var e =
            this.options.autoResizeOptions || this.options.fitTocontentOptions;
          'function' == typeof e && (e = oZ(e, this, this));
          var n = i(
            {
              gridWidth: this.options.pageWidth,
              gridHeight: this.options.pageHeight,
              allowNewOrigin: 'negative',
              contentArea: this.calcContextArea(e),
            },
            e
          );
          this.graph.fitToContent(this.getFitToContentOptions(n));
        }),
        (s.prototype.calcContextArea = function (e) {
          var n = null == e ? void 0 : e.direction;
          if (!n) return this.graph.transform.getContentArea(e);
          function i(t) {
            var e = t.getBBox();
            if (e && t.isNode()) {
              var n = t.getAngle();
              null != n && 0 !== n && (e = e.bbox(n));
            }
            return e;
          }
          var r = this.options.pageWidth || 1,
            o = this.options.pageHeight || 1,
            s = this.graph.getCells();
          return (
            n.includes('top') ||
              (s = s.filter(function (t) {
                return i(t).y >= 0;
              })),
            n.includes('left') ||
              (s = s.filter(function (t) {
                return i(t).x >= 0;
              })),
            n.includes('right') ||
              (s = s.filter(function (t) {
                var e = i(t);
                return e.x + e.width <= r;
              })),
            n.includes('bottom') ||
              (s = s.filter(function (t) {
                var e = i(t);
                return e.y + e.height <= o;
              })),
            this.model.getCellsBBox(s) || new t.Rectangle()
          );
        }),
        (s.prototype.getFitToContentOptions = function (e) {
          var n = this.sx,
            i = this.sy;
          return (
            e.gridWidth && (e.gridWidth *= n),
            e.gridHeight && (e.gridHeight *= i),
            e.minWidth && (e.minWidth *= n),
            e.minHeight && (e.minHeight *= i),
            'object' == typeof e.padding
              ? (e.padding = {
                  left: (e.padding.left || 0) * n,
                  right: (e.padding.right || 0) * n,
                  top: (e.padding.top || 0) * i,
                  bottom: (e.padding.bottom || 0) * i,
                })
              : 'number' == typeof e.padding && (e.padding *= n),
            this.options.autoResize || (e.contentArea = t.Rectangle.create()),
            e
          );
        }),
        (s.prototype.updateScale = function (t, e) {
          var n = this.graph.options,
            i = t / this.sx,
            r = e / this.sy;
          (this.sx = t),
            (this.sy = e),
            this.graph.translate(n.x * i, n.y * r),
            this.graph.resizeGraph(n.width * i, n.height * r);
        }),
        (s.prototype.scrollbarPosition = function (t, e, n) {
          if (null == t && null == e)
            return {
              left: this.container.scrollLeft,
              top: this.container.scrollTop,
            };
          var i = {};
          return (
            'number' == typeof t && (i.scrollLeft = t),
            'number' == typeof e && (i.scrollTop = e),
            n && n.animation
              ? this.$container.animate(i, n.animation)
              : this.$container.prop(i),
            this
          );
        }),
        (s.prototype.scrollToPoint = function (t, e, n) {
          var i = this.getClientSize(),
            r = this.graph.matrix(),
            o = {};
          return (
            'number' == typeof t &&
              (o.scrollLeft = t - i.width / 2 + r.e + (this.padding.left || 0)),
            'number' == typeof e &&
              (o.scrollTop = e - i.height / 2 + r.f + (this.padding.top || 0)),
            n && n.animation
              ? this.$container.animate(o, n.animation)
              : this.$container.prop(o),
            this
          );
        }),
        (s.prototype.scrollToContent = function (t) {
          var e = this.sx,
            n = this.sy,
            i = this.graph.getContentArea().getCenter();
          return this.scrollToPoint(i.x * e, i.y * n, t);
        }),
        (s.prototype.scrollToCell = function (t, e) {
          var n = this.sx,
            i = this.sy,
            r = t.getBBox().getCenter();
          return this.scrollToPoint(r.x * n, r.y * i, e);
        }),
        (s.prototype.center = function (t) {
          return this.centerPoint(t);
        }),
        (s.prototype.centerPoint = function (t, e, n) {
          var i,
            r = this.graph.matrix(),
            o = r.a,
            s = r.d,
            a = -r.e,
            l = -r.f,
            u = a + this.graph.options.width,
            c = l + this.graph.options.height;
          if (
            (this.storeClientSize(),
            'number' == typeof t || 'number' == typeof e)
          ) {
            i = n;
            var h = this.getVisibleArea().getCenter();
            'number' == typeof t ? (t *= o) : (t = h.x),
              'number' == typeof e ? (e *= s) : (e = h.y);
          } else (i = t), (t = (a + u) / 2), (e = (l + c) / 2);
          if (i && i.padding)
            return this.positionPoint({ x: t, y: e }, '50%', '50%', i);
          var p = this.getPadding(),
            d = this.getClientSize(),
            f = d.width / 2,
            g = d.height / 2,
            $ = f - p.left - t + a,
            v = f - p.right + t - u,
            y = g - p.top - e + l,
            m = g - p.bottom + e - c;
          this.addPadding(
            Math.max($, 0),
            Math.max(v, 0),
            Math.max(y, 0),
            Math.max(m, 0)
          );
          var _ = this.scrollToPoint(t, e, i || void 0);
          return this.restoreClientSize(), _;
        }),
        (s.prototype.centerContent = function (t) {
          return this.positionContent('center', t);
        }),
        (s.prototype.centerCell = function (t, e) {
          return this.positionCell(t, 'center', e);
        }),
        (s.prototype.positionContent = function (t, e) {
          var n = this.graph.getContentArea(e);
          return this.positionRect(n, t, e);
        }),
        (s.prototype.positionCell = function (t, e, n) {
          var i = t.getBBox();
          return this.positionRect(i, e, n);
        }),
        (s.prototype.positionRect = function (e, n, i) {
          var r = t.Rectangle.create(e);
          switch (n) {
            case 'center':
              return this.positionPoint(r.getCenter(), '50%', '50%', i);
            case 'top':
              return this.positionPoint(r.getTopCenter(), '50%', 0, i);
            case 'top-right':
              return this.positionPoint(r.getTopRight(), '100%', 0, i);
            case 'right':
              return this.positionPoint(r.getRightMiddle(), '100%', '50%', i);
            case 'bottom-right':
              return this.positionPoint(r.getBottomRight(), '100%', '100%', i);
            case 'bottom':
              return this.positionPoint(r.getBottomCenter(), '50%', '100%', i);
            case 'bottom-left':
              return this.positionPoint(r.getBottomLeft(), 0, '100%', i);
            case 'left':
              return this.positionPoint(r.getLeftMiddle(), 0, '50%', i);
            case 'top-left':
              return this.positionPoint(r.getTopLeft(), 0, 0, i);
            default:
              return this;
          }
        }),
        (s.prototype.positionPoint = function (e, n, i, o) {
          void 0 === o && (o = {});
          var s = o.padding,
            a = r(o, ['padding']),
            l = oX(s),
            u = t.Rectangle.fromSize(this.getClientSize()),
            c = u
              .clone()
              .moveAndExpand({
                x: l.left,
                y: l.top,
                width: -l.right - l.left,
                height: -l.top - l.bottom,
              });
          (n = o9(n, Math.max(0, c.width))) < 0 && (n = c.width + n),
            (i = o9(i, Math.max(0, c.height))) < 0 && (i = c.height + i);
          var h = c.getTopLeft().translate(n, i),
            p = u.getCenter().diff(h),
            d = this.zoom(),
            f = p.scale(1 / d, 1 / d),
            g = t.Point.create(e).translate(f);
          return this.centerPoint(g.x, g.y, a);
        }),
        (s.prototype.zoom = function (t, e) {
          if (null == t) return this.sx;
          e = e || {};
          var n,
            i,
            r = this.getClientSize(),
            o = this.clientToLocalPoint(r.width / 2, r.height / 2),
            s = t,
            a = t;
          if (
            (e.absolute || ((s += this.sx), (a += this.sy)),
            e.scaleGrid &&
              ((s = Math.round(s / e.scaleGrid) * e.scaleGrid),
              (a = Math.round(a / e.scaleGrid) * e.scaleGrid)),
            e.maxScale &&
              ((s = Math.min(e.maxScale, s)), (a = Math.min(e.maxScale, a))),
            e.minScale &&
              ((s = Math.max(e.minScale, s)), (a = Math.max(e.minScale, a))),
            (s = this.graph.transform.clampScale(s)),
            (a = this.graph.transform.clampScale(a)),
            e.center)
          ) {
            var l = s / this.sx,
              u = a / this.sy;
            (n = e.center.x - (e.center.x - o.x) / l),
              (i = e.center.y - (e.center.y - o.y) / u);
          } else (n = o.x), (i = o.y);
          return (
            this.beforeManipulation(),
            this.graph.transform.scale(s, a),
            this.centerPoint(n, i),
            this.afterManipulation(),
            this
          );
        }),
        (s.prototype.zoomToRect = function (e, n) {
          void 0 === n && (n = {});
          var i = t.Rectangle.create(e),
            r = this.graph;
          (n.contentArea = i),
            null == n.viewportArea &&
              (n.viewportArea = {
                x: r.options.x,
                y: r.options.y,
                width: this.$container.width(),
                height: this.$container.height(),
              }),
            this.beforeManipulation(),
            r.transform.scaleContentToFitImpl(n, !1);
          var o = i.getCenter();
          return this.centerPoint(o.x, o.y), this.afterManipulation(), this;
        }),
        (s.prototype.zoomToFit = function (t) {
          return (
            void 0 === t && (t = {}),
            this.zoomToRect(this.graph.getContentArea(t), t)
          );
        }),
        (s.prototype.transitionToPoint = function (e, n, i) {
          var r,
            o,
            s = this;
          'object' == typeof e && ((i = n), (n = e.y), (e = e.x)),
            null == i && (i = {});
          var a = this.sx,
            l = Math.max(i.scale || a, 1e-6),
            u = this.getClientSize(),
            c = new t.Point(e, n),
            h = this.clientToLocalPoint(u.width / 2, u.height / 2);
          if (a === l) {
            var p = h.diff(c).scale(a, a).round();
            r = 'translate(' + p.x + 'px,' + p.y + 'px)';
          } else {
            var d = (l / (a - l)) * c.distance(h),
              f = h.clone().move(c, d),
              g = this.localToBackgroundPoint(f).round();
            (r = 'scale(' + l / a + ')'), (o = g.x + 'px ' + g.y + 'px');
          }
          var $ = i.onTransitionEnd;
          return (
            this.$container.addClass(fh.transitionClassName),
            this.$content
              .off(fh.transitionEventName)
              .on(fh.transitionEventName, function (t) {
                s.syncTransition(l, { x: e, y: n }),
                  'function' == typeof $ && oZ($, s, t.originalEvent);
              })
              .css({
                transform: r,
                transformOrigin: o,
                transition: 'transform',
                transitionDuration: i.duration || '1s',
                transitionDelay: i.delay,
                transitionTimingFunction: i.timing,
              }),
            this
          );
        }),
        (s.prototype.syncTransition = function (t, e) {
          return (
            this.beforeManipulation(),
            this.graph.scale(t),
            this.removeTransition(),
            this.centerPoint(e.x, e.y),
            this.afterManipulation(),
            this
          );
        }),
        (s.prototype.removeTransition = function () {
          return (
            this.$container.removeClass(fh.transitionClassName),
            this.$content
              .off(fh.transitionEventName)
              .css({
                transform: '',
                transformOrigin: '',
                transition: '',
                transitionDuration: '',
                transitionDelay: '',
                transitionTimingFunction: '',
              }),
            this
          );
        }),
        (s.prototype.transitionToRect = function (e, n) {
          void 0 === n && (n = {});
          var r = t.Rectangle.create(e),
            o = n.maxScale || 1 / 0,
            s = n.minScale || Number.MIN_VALUE,
            a = n.scaleGrid || null,
            l = n.visibility || 1,
            u = n.center ? t.Point.create(n.center) : r.getCenter(),
            c = this.getClientSize(),
            h = c.width * l,
            p = c.height * l,
            d = new t.Rectangle(
              u.x - h / 2,
              u.y - p / 2,
              h,
              p
            ).getMaxUniformScaleToFit(r, u);
          return (
            (d = Math.min(d, o)),
            a && (d = Math.floor(d / a) * a),
            (d = Math.max(s, d)),
            this.transitionToPoint(u, i({ scale: d }, n))
          );
        }),
        (s.prototype.startPanning = function (t) {
          var e = this.normalizeEvent(t);
          (this.clientX = e.clientX),
            (this.clientY = e.clientY),
            this.trigger('pan:start', { e: e }),
            this.$(document.body).on({
              'mousemove.panning touchmove.panning': this.pan.bind(this),
              'mouseup.panning touchend.panning': this.stopPanning.bind(this),
              'mouseleave.panning': this.stopPanning.bind(this),
            }),
            this.$(window).on('mouseup.panning', this.stopPanning.bind(this));
        }),
        (s.prototype.pan = function (t) {
          var e = this.normalizeEvent(t),
            n = e.clientX - this.clientX,
            i = e.clientY - this.clientY;
          (this.container.scrollTop -= i),
            (this.container.scrollLeft -= n),
            (this.clientX = e.clientX),
            (this.clientY = e.clientY),
            this.trigger('panning', { e: e });
        }),
        (s.prototype.stopPanning = function (t) {
          this.$(document.body).off('.panning'),
            this.$(window).off('.panning'),
            this.trigger('pan:stop', { e: t });
        }),
        (s.prototype.clientToLocalPoint = function (e, n) {
          var i = 'object' == typeof e ? e.x : e,
            r = 'object' == typeof e ? e.y : n,
            o = this.graph.matrix();
          return (
            (i += this.container.scrollLeft - this.padding.left - o.e),
            (r += this.container.scrollTop - this.padding.top - o.f),
            new t.Point(i / o.a, r / o.d)
          );
        }),
        (s.prototype.localToBackgroundPoint = function (e, n) {
          var i = 'object' == typeof e ? t.Point.create(e) : new t.Point(e, n),
            r = this.graph.matrix(),
            o = this.padding;
          return ln(i, r).translate(o.left, o.top);
        }),
        (s.prototype.resize = function (t, e) {
          var n = null != t ? t : this.container.offsetWidth,
            i = null != e ? e : this.container.offsetHeight;
          'number' == typeof n && (n = Math.round(n)),
            'number' == typeof i && (i = Math.round(i)),
            (this.options.width = n),
            (this.options.height = i),
            this.$container.css({ width: n, height: i }),
            this.update();
        }),
        (s.prototype.getClientSize = function () {
          return this.cachedClientSize
            ? this.cachedClientSize
            : {
                width: this.container.clientWidth,
                height: this.container.clientHeight,
              };
        }),
        (s.prototype.autoScroll = function (t, e) {
          var n = this.container,
            i = n.getBoundingClientRect(),
            r = 0,
            o = 0;
          return (
            t <= i.left + 10 && (r = -10),
            e <= i.top + 10 && (o = -10),
            t >= i.right - 10 && (r = 10),
            e >= i.bottom - 10 && (o = 10),
            0 !== r && (n.scrollLeft += r),
            0 !== o && (n.scrollTop += o),
            { scrollerX: r, scrollerY: o }
          );
        }),
        (s.prototype.addPadding = function (t, e, n, i) {
          var r = this.getPadding();
          (this.padding = {
            left: Math.round(r.left + (t || 0)),
            top: Math.round(r.top + (n || 0)),
            bottom: Math.round(r.bottom + (i || 0)),
            right: Math.round(r.right + (e || 0)),
          }),
            (r = this.padding),
            this.$content.css({
              width: r.left + this.graph.options.width + r.right,
              height: r.top + this.graph.options.height + r.bottom,
            });
          var o = this.graph.container;
          return (
            (o.style.left = this.padding.left + 'px'),
            (o.style.top = this.padding.top + 'px'),
            this
          );
        }),
        (s.prototype.getPadding = function () {
          var t = this.options.padding;
          return oX('function' == typeof t ? oZ(t, this, this) : t);
        }),
        (s.prototype.getVisibleArea = function () {
          var t = this.graph.matrix(),
            e = this.getClientSize(),
            n = lr(
              {
                x: this.container.scrollLeft || 0,
                y: this.container.scrollTop || 0,
                width: e.width,
                height: e.height,
              },
              t.inverse()
            );
          return (
            (n.x -= (this.padding.left || 0) / this.sx),
            (n.y -= (this.padding.top || 0) / this.sy),
            n
          );
        }),
        (s.prototype.isCellVisible = function (t, e) {
          void 0 === e && (e = {});
          var n = t.getBBox(),
            i = this.getVisibleArea();
          return e.strict ? i.containsRect(n) : i.isIntersectWithRect(n);
        }),
        (s.prototype.isPointVisible = function (t) {
          return this.getVisibleArea().containsPoint(t);
        }),
        (s.prototype.lock = function () {
          return this.$container.css('overflow', 'hidden'), this;
        }),
        (s.prototype.unlock = function () {
          return this.$container.css('overflow', 'scroll'), this;
        }),
        (s.prototype.onRemove = function () {
          this.stopListening();
        }),
        (s.prototype.dispose = function () {
          this.$(this.graph.container).insertBefore(this.$container),
            this.remove();
        }),
        o([t.View.dispose()], s.prototype, 'dispose', null),
        s
      );
    })(t.View);
  function ff(t, e, n, r) {
    if ((void 0 === r && (r = {}), n)) {
      var o = n.graph,
        s = o.view.normalizeEvent(e),
        a = o.snapToGrid(s.clientX, s.clientY);
      n.notify(
        t,
        i({ e: s, view: n, node: n.cell, cell: n.cell, x: a.x, y: a.y }, r)
      );
    }
  }
  (fg = fd || (fd = {})),
    (f$ = (function (t) {
      function e(e) {
        var n = t.call(this, e.graph) || this;
        return (
          (n.scroller = e),
          e.options.background && n.draw(e.options.background),
          n
        );
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'elem', {
          get: function () {
            return this.scroller.background;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.init = function () {
          this.graph.on('scale', this.update, this),
            this.graph.on('translate', this.update, this);
        }),
        (e.prototype.updateBackgroundOptions = function (t) {
          this.scroller.options.background = t;
        }),
        e
      );
    })(fp)),
    (fg.Background = f$),
    ((f0 = fh || (fh = {})).containerClass = 'graph-scroller'),
    (f0.panningClass = f0.containerClass + '-panning'),
    (f0.pannableClass = f0.containerClass + '-pannable'),
    (f0.pagedClass = f0.containerClass + '-paged'),
    (f0.contentClass = f0.containerClass + '-content'),
    (f0.backgroundClass = f0.containerClass + '-background'),
    (f0.transitionClassName = 'transition-in-progress'),
    (f0.transitionEventName = 'transitionend.graph-scroller-transition'),
    (f0.defaultOptions = {
      padding: function () {
        var t = this.getClientSize(),
          e = Math.max(this.options.minVisibleWidth || 0, 1) || 1,
          n = Math.max(this.options.minVisibleHeight || 0, 1) || 1,
          i = Math.max(t.width - e, 0),
          r = Math.max(t.height - n, 0);
        return { left: i, top: r, right: i, bottom: r };
      },
      minVisibleWidth: 50,
      minVisibleHeight: 50,
      pageVisible: !1,
      pageBreak: !1,
      autoResize: !0,
    }),
    (f0.getOptions = function (t) {
      var e = rk({}, f0.defaultOptions, t);
      return (
        null == e.pageWidth && (e.pageWidth = t.graph.options.width),
        null == e.pageHeight && (e.pageHeight = t.graph.options.height),
        e
      );
    });
  var fg,
    f$,
    f0,
    fv,
    fy,
    fm,
    f_ = (function (e) {
      function r(t) {
        var n = e.call(this) || this;
        return (
          (n.options = rk({}, fv.defaultOptions, t)),
          n.options.model &&
            (n.options.collection = n.options.model.collection),
          n.options.collection
            ? (n.collection = n.options.collection)
            : ((n.collection = new dl([], { comparator: fv.depthComparator })),
              (n.options.collection = n.collection)),
          (n.boxCount = 0),
          n.createContainer(),
          n.initHandles(),
          n.startListening(),
          n
        );
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'graph', {
          get: function () {
            return this.options.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'boxClassName', {
          get: function () {
            return this.prefixClassName(fv.classNames.box);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, '$boxes', {
          get: function () {
            return this.$container.children('.' + this.boxClassName);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'handleOptions', {
          get: function () {
            return this.options;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.startListening = function () {
          var t,
            e = this.graph,
            n = this.collection;
          this.delegateEvents(
            (((t = {})['mousedown .' + this.boxClassName] =
              'onSelectionBoxMouseDown'),
            (t['touchstart .' + this.boxClassName] = 'onSelectionBoxMouseDown'),
            t),
            !0
          ),
            e.on('scale', this.onGraphTransformed, this),
            e.on('translate', this.onGraphTransformed, this),
            e.model.on('updated', this.onModelUpdated, this),
            n.on('added', this.onCellAdded, this),
            n.on('removed', this.onCellRemoved, this),
            n.on('reseted', this.onReseted, this),
            n.on('updated', this.onCollectionUpdated, this),
            n.on('node:change:position', this.onNodePositionChanged, this),
            n.on('cell:changed', this.onCellChanged, this);
        }),
        (r.prototype.stopListening = function () {
          var t = this.graph,
            e = this.collection;
          this.undelegateEvents(),
            t.off('scale', this.onGraphTransformed, this),
            t.off('translate', this.onGraphTransformed, this),
            t.model.off('updated', this.onModelUpdated, this),
            e.off('added', this.onCellAdded, this),
            e.off('removed', this.onCellRemoved, this),
            e.off('reseted', this.onReseted, this),
            e.off('updated', this.onCollectionUpdated, this),
            e.off('node:change:position', this.onNodePositionChanged, this),
            e.off('cell:changed', this.onCellChanged, this);
        }),
        (r.prototype.onRemove = function () {
          this.stopListening();
        }),
        (r.prototype.onGraphTransformed = function () {
          this.updateSelectionBoxes({ async: !1 });
        }),
        (r.prototype.onCellChanged = function () {
          this.updateSelectionBoxes();
        }),
        (r.prototype.onNodePositionChanged = function (t) {
          var e = t.node,
            n = t.options,
            i = this.options,
            r = i.showNodeSelectionBox,
            o = i.pointerEvents,
            s = n.ui,
            a = n.selection,
            l = n.translateBy,
            u = n.snapped,
            c = !((!0 === r && 'none' !== o) || this.translating || a),
            h = s && l && e.id === l;
          if (c && (h || u)) {
            this.translating = !0;
            var p = e.position(),
              d = e.previous('position'),
              f = p.x - d.x,
              g = p.y - d.y;
            (0 === f && 0 === g) || this.translateSelectedNodes(f, g, e, n),
              (this.translating = !1);
          }
        }),
        (r.prototype.onModelUpdated = function (t) {
          var e = t.removed;
          e && e.length && this.unselect(e);
        }),
        (r.prototype.isEmpty = function () {
          return this.length <= 0;
        }),
        (r.prototype.isSelected = function (t) {
          return this.collection.has(t);
        }),
        Object.defineProperty(r.prototype, 'length', {
          get: function () {
            return this.collection.length;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'cells', {
          get: function () {
            return this.collection.toArray();
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.select = function (t, e) {
          void 0 === e && (e = {}), (e.dryrun = !0);
          var n = this.filter(Array.isArray(t) ? t : [t]);
          return this.collection.add(n, e), this;
        }),
        (r.prototype.unselect = function (t, e) {
          return (
            void 0 === e && (e = {}),
            (e.dryrun = !0),
            this.collection.remove(Array.isArray(t) ? t : [t], e),
            this
          );
        }),
        (r.prototype.reset = function (t, e) {
          if ((void 0 === e && (e = {}), t)) {
            if (e.batch) {
              var n = this.filter(Array.isArray(t) ? t : [t]);
              return this.collection.reset(n, i(i({}, e), { ui: !0 })), this;
            }
            var r = this.cells,
              o = this.filter(Array.isArray(t) ? t : [t]),
              s = {},
              a = {};
            r.forEach(function (t) {
              return (s[t.id] = t);
            }),
              o.forEach(function (t) {
                return (a[t.id] = t);
              });
            var l = [],
              u = [];
            return (
              o.forEach(function (t) {
                s[t.id] || l.push(t);
              }),
              r.forEach(function (t) {
                a[t.id] || u.push(t);
              }),
              u.length && this.unselect(u, i(i({}, e), { ui: !0 })),
              l.length && this.select(l, i(i({}, e), { ui: !0 })),
              0 === u.length && 0 === l.length && this.updateContainer(),
              this
            );
          }
          return this.clean(e);
        }),
        (r.prototype.clean = function (t) {
          return (
            void 0 === t && (t = {}),
            this.length &&
              (!1 === t.batch
                ? this.unselect(this.cells, t)
                : this.collection.reset([], i(i({}, t), { ui: !0 }))),
            this
          );
        }),
        (r.prototype.setFilter = function (t) {
          this.options.filter = t;
        }),
        (r.prototype.setContent = function (t) {
          this.options.content = t;
        }),
        (r.prototype.startSelecting = function (t) {
          (t = this.normalizeEvent(t)), this.clean();
          var e,
            n,
            i = this.graph.container;
          if (null != t.offsetX && null != t.offsetY && i.contains(t.target))
            (e = t.offsetX), (n = t.offsetY);
          else {
            var r = this.$(i).offset(),
              o = i.scrollLeft,
              s = i.scrollTop;
            (e = t.clientX - r.left + window.pageXOffset + o),
              (n = t.clientY - r.top + window.pageYOffset + s);
          }
          this.$container.css({ top: n, left: e, width: 1, height: 1 }),
            this.setEventData(t, {
              action: 'selecting',
              clientX: t.clientX,
              clientY: t.clientY,
              offsetX: e,
              offsetY: n,
              scrollerX: 0,
              scrollerY: 0,
              moving: !1,
            }),
            this.delegateDocumentEvents(fv.documentEvents, t.data);
        }),
        (r.prototype.filter = function (t) {
          var e = this,
            n = this.options.filter;
          return Array.isArray(n)
            ? t.filter(function (t) {
                return !n.includes(t) && !n.includes(t.shape);
              })
            : 'function' == typeof n
            ? t.filter(function (t) {
                return oZ(n, e.graph, t);
              })
            : t;
        }),
        (r.prototype.stopSelecting = function (e) {
          var n = this.graph,
            i = this.getEventData(e);
          switch (i.action) {
            case 'selecting':
              var r = this.$container.width(),
                o = this.$container.height(),
                s = this.$container.offset(),
                a = n.pageToLocal(s.left, s.top),
                l = n.transform.getScale();
              (r /= l.sx), (o /= l.sy);
              var u = new t.Rectangle(a.x, a.y, r, o),
                c = this.getCellViewsInArea(u).map(function (t) {
                  return t.cell;
                });
              this.reset(c, { batch: !0 }), this.hideRubberband();
              break;
            case 'translating':
              var h = n.snapToGrid(e.clientX, e.clientY);
              if (!this.options.following) {
                var p = i;
                this.updateSelectedNodesPosition({
                  dx: p.clientX - p.originX,
                  dy: p.clientY - p.originY,
                });
              }
              this.graph.model.stopBatch('move-selection'),
                this.notifyBoxEvent('box:mouseup', e, h.x, h.y);
              break;
            default:
              this.clean();
          }
        }),
        (r.prototype.onMouseUp = function (t) {
          this.getEventData(t).action &&
            (this.stopSelecting(t), this.undelegateDocumentEvents());
        }),
        (r.prototype.onSelectionBoxMouseDown = function (t) {
          this.options.following || t.stopPropagation();
          var e = this.normalizeEvent(t);
          this.options.movable && this.startTranslating(e);
          var n = this.getCellViewFromElem(e.target);
          this.setEventData(e, { activeView: n });
          var i = this.graph.snapToGrid(e.clientX, e.clientY);
          this.notifyBoxEvent('box:mousedown', e, i.x, i.y),
            this.delegateDocumentEvents(fv.documentEvents, e.data);
        }),
        (r.prototype.startTranslating = function (t) {
          this.graph.model.startBatch('move-selection');
          var e = this.graph.snapToGrid(t.clientX, t.clientY);
          this.setEventData(t, {
            action: 'translating',
            clientX: e.x,
            clientY: e.y,
            originX: e.x,
            originY: e.y,
          });
        }),
        (r.prototype.getSelectionOffset = function (e, n) {
          var i = e.x - n.clientX,
            r = e.y - n.clientY,
            o = this.graph.hook.getRestrictArea();
          if (o) {
            var s = this.collection.toArray(),
              a = t.Cell.getCellsBBox(s, { deep: !0 }) || t.Rectangle.create(),
              l = o.x - a.x,
              u = o.y - a.y,
              c = o.x + o.width - (a.x + a.width),
              h = o.y + o.height - (a.y + a.height);
            if (
              (i < l && (i = l),
              r < u && (r = u),
              c < i && (i = c),
              h < r && (r = h),
              !this.options.following)
            ) {
              var p = e.x - n.originX,
                d = e.y - n.originY;
              (i = p <= l || p >= c ? 0 : i), (r = d <= u || d >= h ? 0 : r);
            }
          }
          return { dx: i, dy: r };
        }),
        (r.prototype.updateSelectedNodesPosition = function (t) {
          var e = t.dx,
            n = t.dy;
          if (e || n) {
            if ((this.translateSelectedNodes(e, n), this.boxesUpdated))
              this.collection.length > 1 && this.updateSelectionBoxes();
            else {
              var i = this.graph.transform.getScale();
              this.$boxes
                .add(this.$selectionContainer)
                .css({ left: '+=' + e * i.sx, top: '+=' + n * i.sy });
            }
          }
        }),
        (r.prototype.autoScrollGraph = function (t, e) {
          var n = this.graph.scroller.widget;
          return n ? n.autoScroll(t, e) : { scrollerX: 0, scrollerY: 0 };
        }),
        (r.prototype.adjustSelection = function (t) {
          var e = this.normalizeEvent(t),
            n = this.getEventData(e);
          switch (n.action) {
            case 'selecting':
              !0 !== (h = n).moving &&
                (this.$container.appendTo(this.graph.container),
                this.showRubberband(),
                (h.moving = !0));
              var i = this.autoScrollGraph(e.clientX, e.clientY),
                r = i.scrollerX,
                o = i.scrollerY;
              (h.scrollerX += r), (h.scrollerY += o);
              var s = e.clientX - h.clientX + h.scrollerX,
                a = e.clientY - h.clientY + h.scrollerY,
                l = parseInt(this.$container.css('left'), 10),
                u = parseInt(this.$container.css('top'), 10);
              this.$container.css({
                left: s < 0 ? h.offsetX + s : l,
                top: a < 0 ? h.offsetY + a : u,
                width: Math.abs(s),
                height: Math.abs(a),
              });
              break;
            case 'translating':
              var c = this.graph.snapToGrid(e.clientX, e.clientY),
                h = n,
                p = this.getSelectionOffset(c, h);
              this.options.following
                ? this.updateSelectedNodesPosition(p)
                : this.updateContainerPosition(p),
                p.dx && (h.clientX = c.x),
                p.dy && (h.clientY = c.y),
                this.notifyBoxEvent('box:mousemove', t, c.x, c.y);
          }
          this.boxesUpdated = !1;
        }),
        (r.prototype.translateSelectedNodes = function (t, e, n, r) {
          var o = this,
            s = {},
            a = [];
          if (
            (n && (s[n.id] = !0),
            this.collection.toArray().forEach(function (t) {
              t.getDescendants({ deep: !0 }).forEach(function (t) {
                s[t.id] = !0;
              });
            }),
            r && r.translateBy)
          ) {
            var l = this.graph.getCellById(r.translateBy);
            l &&
              ((s[l.id] = !0),
              l.getDescendants({ deep: !0 }).forEach(function (t) {
                s[t.id] = !0;
              }),
              a.push(l));
          }
          this.collection.toArray().forEach(function (n) {
            if (!s[n.id]) {
              var l = i(i({}, r), { selection: o.cid, exclude: a });
              n.translate(t, e, l),
                o.graph.model.getConnectedEdges(n).forEach(function (n) {
                  s[n.id] || (n.translate(t, e, l), (s[n.id] = !0));
                });
            }
          });
        }),
        (r.prototype.getCellViewsInArea = function (t) {
          var e = this.graph,
            n = { strict: this.options.strict },
            i = [];
          return (
            this.options.rubberNode &&
              (i = this.options.useCellGeometry
                ? i.concat(
                    e.model
                      .getNodesInArea(t, n)
                      .map(function (t) {
                        return e.renderer.findViewByCell(t);
                      })
                      .filter(function (t) {
                        return null != t;
                      })
                  )
                : i.concat(e.renderer.findViewsInArea(t, n))),
            this.options.rubberEdge &&
              (i = this.options.useCellGeometry
                ? i.concat(
                    e.model
                      .getEdgesInArea(t, n)
                      .map(function (t) {
                        return e.renderer.findViewByCell(t);
                      })
                      .filter(function (t) {
                        return null != t;
                      })
                  )
                : i.concat(e.renderer.findEdgeViewsInArea(t, n))),
            i
          );
        }),
        (r.prototype.notifyBoxEvent = function (t, e, n, i) {
          var r = this.getEventData(e).activeView;
          this.trigger(t, { e: e, view: r, x: n, y: i, cell: r.cell });
        }),
        (r.prototype.getSelectedClassName = function (t) {
          return this.prefixClassName(
            (t.isNode() ? 'node' : 'edge') + '-selected'
          );
        }),
        (r.prototype.addCellSelectedClassName = function (t) {
          var e = this.graph.renderer.findViewByCell(t);
          e && e.addClass(this.getSelectedClassName(t));
        }),
        (r.prototype.removeCellUnSelectedClassName = function (t) {
          var e = this.graph.renderer.findViewByCell(t);
          e && e.removeClass(this.getSelectedClassName(t));
        }),
        (r.prototype.destroySelectionBox = function (t) {
          this.removeCellUnSelectedClassName(t),
            this.canShowSelectionBox(t) &&
              (this.$container.find('[data-cell-id="' + t.id + '"]').remove(),
              0 === this.$boxes.length && this.hide(),
              (this.boxCount = Math.max(0, this.boxCount - 1)));
        }),
        (r.prototype.destroyAllSelectionBoxes = function (t) {
          var e = this;
          t.forEach(function (t) {
            return e.removeCellUnSelectedClassName(t);
          }),
            this.hide(),
            this.$boxes.remove(),
            (this.boxCount = 0);
        }),
        (r.prototype.hide = function () {
          this.$container
            .removeClass(this.prefixClassName(fv.classNames.rubberband))
            .removeClass(this.prefixClassName(fv.classNames.selected));
        }),
        (r.prototype.showRubberband = function () {
          this.$container.addClass(
            this.prefixClassName(fv.classNames.rubberband)
          );
        }),
        (r.prototype.hideRubberband = function () {
          this.$container.removeClass(
            this.prefixClassName(fv.classNames.rubberband)
          );
        }),
        (r.prototype.showSelected = function () {
          this.$container
            .removeAttr('style')
            .addClass(this.prefixClassName(fv.classNames.selected));
        }),
        (r.prototype.createContainer = function () {
          (this.container = document.createElement('div')),
            (this.$container = this.$(this.container)),
            this.$container.addClass(this.prefixClassName(fv.classNames.root)),
            this.options.className &&
              this.$container.addClass(this.options.className),
            (this.$selectionContainer = this.$('<div/>').addClass(
              this.prefixClassName(fv.classNames.inner)
            )),
            (this.$selectionContent = this.$('<div/>').addClass(
              this.prefixClassName(fv.classNames.content)
            )),
            this.$selectionContainer.append(this.$selectionContent),
            this.$selectionContainer.attr(
              'data-selection-length',
              this.collection.length
            ),
            this.$container.prepend(this.$selectionContainer),
            (this.$handleContainer = this.$selectionContainer);
        }),
        (r.prototype.updateContainerPosition = function (t) {
          (t.dx || t.dy) &&
            this.$selectionContainer.css({
              left: '+=' + t.dx,
              top: '+=' + t.dy,
            });
        }),
        (r.prototype.updateContainer = function () {
          var t = this,
            e = { x: 1 / 0, y: 1 / 0 },
            n = { x: 0, y: 0 };
          this.collection
            .toArray()
            .filter(function (e) {
              return t.canShowSelectionBox(e);
            })
            .forEach(function (i) {
              var r = t.graph.renderer.findViewByCell(i);
              if (r) {
                var o = r.getBBox({
                  useCellGeometry: t.options.useCellGeometry,
                });
                (e.x = Math.min(e.x, o.x)),
                  (e.y = Math.min(e.y, o.y)),
                  (n.x = Math.max(n.x, o.x + o.width)),
                  (n.y = Math.max(n.y, o.y + o.height));
              }
            }),
            this.$selectionContainer
              .css({
                position: 'absolute',
                pointerEvents: 'none',
                left: e.x,
                top: e.y,
                width: n.x - e.x,
                height: n.y - e.y,
              })
              .attr('data-selection-length', this.collection.length);
          var i = this.options.content;
          if (i) {
            if ('function' == typeof i) {
              var r = oZ(i, this.graph, this, this.$selectionContent[0]);
              r && this.$selectionContent.html(r);
            } else this.$selectionContent.html(i);
          }
          this.collection.length > 0 && !this.container.parentNode
            ? this.$container.appendTo(this.graph.container)
            : this.collection.length <= 0 &&
              this.container.parentNode &&
              this.container.parentNode.removeChild(this.container);
        }),
        (r.prototype.canShowSelectionBox = function (t) {
          return (
            (t.isNode() && !0 === this.options.showNodeSelectionBox) ||
            (t.isEdge() && !0 === this.options.showEdgeSelectionBox)
          );
        }),
        (r.prototype.createSelectionBox = function (t) {
          if ((this.addCellSelectedClassName(t), this.canShowSelectionBox(t))) {
            var e = this.graph.renderer.findViewByCell(t);
            if (e) {
              var n = e.getBBox({
                  useCellGeometry: this.options.useCellGeometry,
                }),
                i = this.boxClassName;
              this.$('<div/>')
                .addClass(i)
                .addClass(i + '-' + (t.isNode() ? 'node' : 'edge'))
                .attr('data-cell-id', t.id)
                .css({
                  position: 'absolute',
                  left: n.x,
                  top: n.y,
                  width: n.width,
                  height: n.height,
                  pointerEvents: this.options.pointerEvents || 'auto',
                })
                .appendTo(this.container),
                this.showSelected(),
                (this.boxCount += 1);
            }
          }
        }),
        (r.prototype.updateSelectionBoxes = function (t) {
          void 0 === t && (t = {}),
            this.collection.length > 0 &&
              ((this.boxesUpdated = !0),
              this.graph.renderer.requestViewUpdate(this, 1, 2, t));
        }),
        (r.prototype.confirmUpdate = function () {
          var t = this;
          return (
            this.boxCount &&
              (this.hide(),
              this.$boxes.each(function (e, n) {
                var i = t.$(n).remove().attr('data-cell-id'),
                  r = t.collection.get(i);
                r && t.createSelectionBox(r);
              }),
              this.updateContainer()),
            0
          );
        }),
        (r.prototype.getCellViewFromElem = function (t) {
          var e = t.getAttribute('data-cell-id');
          if (e) {
            var n = this.collection.get(e);
            if (n) return this.graph.renderer.findViewByCell(n);
          }
          return null;
        }),
        (r.prototype.onCellRemoved = function (t) {
          var e = t.cell;
          this.destroySelectionBox(e), this.updateContainer();
        }),
        (r.prototype.onReseted = function (t) {
          var e = this,
            n = t.previous,
            i = t.current;
          this.destroyAllSelectionBoxes(n),
            i.forEach(function (t) {
              e.listenCellRemoveEvent(t), e.createSelectionBox(t);
            }),
            this.updateContainer();
        }),
        (r.prototype.onCellAdded = function (t) {
          var e = t.cell;
          this.listenCellRemoveEvent(e),
            this.createSelectionBox(e),
            this.updateContainer();
        }),
        (r.prototype.listenCellRemoveEvent = function (t) {
          t.off('removed', this.onCellRemoved, this),
            t.on('removed', this.onCellRemoved, this);
        }),
        (r.prototype.onCollectionUpdated = function (t) {
          var e = this,
            n = t.added,
            i = t.removed,
            r = t.options;
          n.forEach(function (t) {
            e.trigger('cell:selected', { cell: t, options: r }),
              e.graph.trigger('cell:selected', { cell: t, options: r }),
              t.isNode()
                ? (e.trigger('node:selected', { cell: t, options: r, node: t }),
                  e.graph.trigger('node:selected', {
                    cell: t,
                    options: r,
                    node: t,
                  }))
                : t.isEdge() &&
                  (e.trigger('edge:selected', { cell: t, options: r, edge: t }),
                  e.graph.trigger('edge:selected', {
                    cell: t,
                    options: r,
                    edge: t,
                  }));
          }),
            i.forEach(function (t) {
              e.trigger('cell:unselected', { cell: t, options: r }),
                e.graph.trigger('cell:unselected', { cell: t, options: r }),
                t.isNode()
                  ? (e.trigger('node:unselected', {
                      cell: t,
                      options: r,
                      node: t,
                    }),
                    e.graph.trigger('node:unselected', {
                      cell: t,
                      options: r,
                      node: t,
                    }))
                  : t.isEdge() &&
                    (e.trigger('edge:unselected', {
                      cell: t,
                      options: r,
                      edge: t,
                    }),
                    e.graph.trigger('edge:unselected', {
                      cell: t,
                      options: r,
                      edge: t,
                    }));
            });
          var o = {
            added: n,
            removed: i,
            options: r,
            selected: this.cells.filter(function (t) {
              return !!e.graph.getCellById(t.id);
            }),
          };
          this.trigger('selection:changed', o),
            this.graph.trigger('selection:changed', o);
        }),
        (r.prototype.deleteSelectedCells = function () {
          var t = this.collection.toArray();
          this.clean(),
            this.graph.model.removeCells(t, { selection: this.cid });
        }),
        (r.prototype.startRotate = function (e) {
          var n = e.e,
            i = this.collection.toArray(),
            r = t.Cell.getCellsBBox(i).getCenter(),
            o = this.graph.snapToGrid(n.clientX, n.clientY),
            s = i.reduce(function (e, n) {
              return (e[n.id] = t.Angle.normalize(n.getAngle())), e;
            }, {});
          this.setEventData(n, { center: r, angles: s, start: o.theta(r) });
        }),
        (r.prototype.doRotate = function (e) {
          var n = this,
            i = e.e,
            r = this.getEventData(i),
            o = this.graph.options.rotating.grid,
            s = 'function' == typeof o ? oZ(o, this.graph, null) : o,
            a = this.graph.snapToGrid(i.clientX, i.clientY),
            l = r.start - a.theta(r.center);
          r.rotated || (r.rotated = !0),
            Math.abs(l) > 0.001 &&
              (this.collection.toArray().forEach(function (e) {
                var i = t.Util.snapToGrid(r.angles[e.id] + l, s || 15);
                e.rotate(i, {
                  absolute: !0,
                  center: r.center,
                  selection: n.cid,
                });
              }),
              this.updateSelectionBoxes());
        }),
        (r.prototype.stopRotate = function (t) {
          var e = this,
            n = t.e,
            i = this.getEventData(n);
          i.rotated &&
            ((i.rotated = !1),
            this.collection.toArray().forEach(function (t) {
              ff('node:rotated', n, e.graph.findViewByCell(t));
            }));
        }),
        (r.prototype.startResize = function (e) {
          var n = e.e,
            i = this.graph.getGridSize(),
            r = this.collection.toArray(),
            o = t.Cell.getCellsBBox(r),
            s = r.map(function (t) {
              return t.getBBox();
            }),
            a = s.reduce(function (t, e) {
              return e.width < t ? e.width : t;
            }, 1 / 0),
            l = s.reduce(function (t, e) {
              return e.height < t ? e.height : t;
            }, 1 / 0);
          this.setEventData(n, {
            bbox: o,
            cells: this.graph.model.getSubGraph(r),
            minWidth: (i * o.width) / a,
            minHeight: (i * o.height) / l,
          });
        }),
        (r.prototype.doResize = function (t) {
          var e = t.e,
            n = t.dx,
            i = t.dy,
            r = this.eventData(e),
            o = r.bbox,
            s = o.width,
            a = o.height,
            l = Math.max(s + n, r.minWidth),
            u = Math.max(a + i, r.minHeight);
          r.resized || (r.resized = !0),
            (Math.abs(s - l) > 0.001 || Math.abs(a - u) > 0.001) &&
              (this.graph.model.resizeCells(l, u, r.cells, {
                selection: this.cid,
              }),
              (o.width = l),
              (o.height = u),
              this.updateSelectionBoxes());
        }),
        (r.prototype.stopResize = function (t) {
          var e = this,
            n = t.e,
            i = this.eventData(n);
          i.resized &&
            ((i.resized = !1),
            this.collection.toArray().forEach(function (t) {
              ff('node:resized', n, e.graph.findViewByCell(t));
            }));
        }),
        (r.prototype.dispose = function () {
          this.clean(), this.remove();
        }),
        o([t.View.dispose()], r.prototype, 'dispose', null),
        r
      );
    })(t.View);
  oS(f_, dK),
    (fm = 'widget-selection'),
    ((fy = fv || (fv = {})).classNames = {
      root: fm,
      inner: fm + '-inner',
      box: fm + '-box',
      content: fm + '-content',
      rubberband: fm + '-rubberband',
      selected: fm + '-selected',
    }),
    (fy.documentEvents = {
      mousemove: 'adjustSelection',
      touchmove: 'adjustSelection',
      mouseup: 'onMouseUp',
      touchend: 'onMouseUp',
      touchcancel: 'onMouseUp',
    }),
    (fy.defaultOptions = {
      movable: !0,
      following: !0,
      strict: !1,
      useCellGeometry: !1,
      content: function (t) {
        return od('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({
          length: t.length,
        });
      },
      handles: [
        {
          name: 'remove',
          position: 'nw',
          events: { mousedown: 'deleteSelectedCells' },
        },
        {
          name: 'rotate',
          position: 'sw',
          events: {
            mousedown: 'startRotate',
            mousemove: 'doRotate',
            mouseup: 'stopRotate',
          },
        },
        {
          name: 'resize',
          position: 'se',
          events: {
            mousedown: 'startResize',
            mousemove: 'doResize',
            mouseup: 'stopResize',
          },
        },
      ],
    }),
    (fy.depthComparator = function (t) {
      return t.getAncestors().length;
    });
  var fC,
    fb,
    fx,
    fw,
    f1,
    fP,
    fA = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'node', {
          get: function () {
            return this.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'containerClassName', {
          get: function () {
            return this.prefixClassName('widget-transform');
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'resizeClassName', {
          get: function () {
            return this.containerClassName + '-resize';
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'rotateClassName', {
          get: function () {
            return this.containerClassName + '-rotate';
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.init = function (t) {
          (this.options = i(i({}, fC.defaultOptions), t)),
            this.render(),
            this.startListening();
        }),
        (r.prototype.startListening = function () {
          var t;
          this.delegateEvents(
            (((t = {})['mousedown .' + this.resizeClassName] = 'startResizing'),
            (t['touchstart .' + this.resizeClassName] = 'startResizing'),
            (t['mousedown .' + this.rotateClassName] = 'startRotating'),
            (t['touchstart .' + this.rotateClassName] = 'startRotating'),
            t)
          ),
            this.model.on('*', this.update, this),
            this.graph.on('scale', this.update, this),
            this.graph.on('translate', this.update, this),
            this.node.on('removed', this.remove, this),
            this.model.on('reseted', this.remove, this),
            this.view.on('cell:knob:mousedown', this.onKnobMouseDown, this),
            this.view.on('cell:knob:mouseup', this.onKnobMouseUp, this),
            e.prototype.startListening.call(this);
        }),
        (r.prototype.stopListening = function () {
          this.undelegateEvents(),
            this.model.off('*', this.update, this),
            this.graph.off('scale', this.update, this),
            this.graph.off('translate', this.update, this),
            this.node.off('removed', this.remove, this),
            this.model.off('reseted', this.remove, this),
            this.view.off('cell:knob:mousedown', this.onKnobMouseDown, this),
            this.view.off('cell:knob:mouseup', this.onKnobMouseUp, this),
            e.prototype.stopListening.call(this);
        }),
        (r.prototype.renderHandles = function () {
          var t = this;
          (this.container = document.createElement('div')),
            (this.$container = this.$(this.container));
          var e = this.$('<div/>').prop('draggable', !1),
            n = e.clone().addClass(this.rotateClassName),
            i = fC.POSITIONS.map(function (n) {
              return e
                .clone()
                .addClass(t.resizeClassName)
                .attr('data-position', n);
            });
          this.empty(), this.$container.append(i, n);
        }),
        (r.prototype.render = function () {
          return (
            this.renderHandles(),
            this.view.addClass(fC.NODE_CLS),
            this.$container
              .addClass(this.containerClassName)
              .toggleClass(
                'no-orth-resize',
                this.options.preserveAspectRatio ||
                  !this.options.orthogonalResizing
              )
              .toggleClass('no-resize', !this.options.resizable)
              .toggleClass('no-rotate', !this.options.rotatable),
            this.options.className &&
              this.$container.addClass(this.options.className),
            this.graph.container.appendChild(this.container),
            this.update()
          );
        }),
        (r.prototype.update = function () {
          var e = this.graph.matrix(),
            n = this.node.getBBox();
          (n.x *= e.a),
            (n.x += e.e),
            (n.y *= e.d),
            (n.y += e.f),
            (n.width *= e.a),
            (n.height *= e.d);
          var i = t.Angle.normalize(this.node.getAngle());
          return (
            this.$container.css({
              transform: 0 !== i ? 'rotate(' + i + 'deg)' : '',
              width: n.width,
              height: n.height,
              left: n.x,
              top: n.y,
            }),
            this.updateResizerDirections(),
            this
          );
        }),
        (r.prototype.remove = function () {
          return (
            this.view.removeClass(fC.NODE_CLS), e.prototype.remove.call(this)
          );
        }),
        (r.prototype.onKnobMouseDown = function () {
          this.startHandle();
        }),
        (r.prototype.onKnobMouseUp = function () {
          this.stopHandle();
        }),
        (r.prototype.updateResizerDirections = function () {
          var e = this,
            n = Math.floor(
              t.Angle.normalize(this.node.getAngle()) *
                (fC.DIRECTIONS.length / 360)
            );
          if (n !== this.prevShift) {
            var i = fC.DIRECTIONS.slice(n).concat(fC.DIRECTIONS.slice(0, n)),
              r = function (t) {
                return e.containerClassName + '-cursor-' + t;
              };
            this.$container
              .find('.' + this.resizeClassName)
              .removeClass(
                fC.DIRECTIONS.map(function (t) {
                  return r(t);
                }).join(' ')
              )
              .each(function (t, n) {
                e.$(n).addClass(r(i[t]));
              }),
              (this.prevShift = n);
          }
        }),
        (r.prototype.getTrueDirection = function (e) {
          var n = t.Angle.normalize(this.node.getAngle()),
            i = fC.POSITIONS.indexOf(e);
          return (
            (i += Math.floor(n * (fC.POSITIONS.length / 360))),
            (i %= fC.POSITIONS.length),
            fC.POSITIONS[i]
          );
        }),
        (r.prototype.toValidResizeDirection = function (t) {
          return (
            {
              top: 'top-left',
              bottom: 'bottom-right',
              left: 'bottom-left',
              right: 'top-right',
            }[t] || t
          );
        }),
        (r.prototype.startResizing = function (t) {
          t.stopPropagation(),
            this.model.startBatch('resize', { cid: this.cid });
          var e = this.$(t.target).attr('data-position'),
            n = this.graph.findViewByCell(this.node);
          this.prepareResizing(t, e),
            this.startAction(t),
            ff('node:resize:mousedown', t, n);
        }),
        (r.prototype.prepareResizing = function (e, n) {
          var i = this.getTrueDirection(n),
            r = 0,
            o = 0;
          n.split('-').forEach(function (t) {
            (r = { left: -1, right: 1 }[t] || r),
              (o = { top: -1, bottom: 1 }[t] || o);
          });
          var s = this.toValidResizeDirection(n),
            a = t.Angle.normalize(this.node.getAngle());
          this.setEventData(e, {
            selector: {
              'top-right': 'bottomLeft',
              'top-left': 'bottomRight',
              'bottom-left': 'topRight',
              'bottom-right': 'topLeft',
            }[s],
            direction: s,
            trueDirection: i,
            relativeDirection: n,
            angle: a,
            resizeX: r,
            resizeY: o,
            action: 'resizing',
          });
        }),
        (r.prototype.startRotating = function (e) {
          e.stopPropagation(),
            this.model.startBatch('rotate', { cid: this.cid });
          var n = this.graph.findViewByCell(this.node),
            i = this.node.getBBox().getCenter(),
            r = this.normalizeEvent(e),
            o = this.graph.snapToGrid(r.clientX, r.clientY);
          this.setEventData(e, {
            center: i,
            action: 'rotating',
            angle: t.Angle.normalize(this.node.getAngle()),
            start: t.Point.create(o).theta(i),
          }),
            this.startAction(e),
            ff('node:rotate:mousedown', e, n);
        }),
        (r.prototype.onMouseMove = function (e) {
          var n = this.graph.findViewByCell(this.node),
            i = this.getEventData(e);
          if (i.action) {
            var r = this.normalizeEvent(e),
              o = r.clientX,
              s = r.clientY,
              a = this.graph.scroller.widget,
              l = this.options.restrictedResizing;
            if (!0 === l || 'number' == typeof l) {
              var u = !0 === l ? 0 : l,
                c = a ? Math.max(u, 8) : u,
                h = this.graph.container.getBoundingClientRect();
              (o = n2(o, h.left + c, h.right - c)),
                (s = n2(s, h.top + c, h.bottom - c));
            } else this.options.autoScrollOnResizing && a && a.autoScroll(o, s);
            var p = this.graph.snapToGrid(o, s),
              d = this.graph.getGridSize(),
              f = this.node,
              g = this.options;
            if ('resizing' === i.action) {
              i.resized ||
                (n && (n.addClass('node-resizing'), ff('node:resize', e, n)),
                (i.resized = !0));
              var $ = f.getBBox(),
                v = t.Point.create(p)
                  .rotate(i.angle, $.getCenter())
                  .diff($[i.selector]),
                y = i.resizeX ? v.x * i.resizeX : $.width,
                m = i.resizeY ? v.y * i.resizeY : $.height,
                _ = y,
                C = m;
              if (
                ((y = t.Util.snapToGrid(y, d)),
                (m = t.Util.snapToGrid(m, d)),
                (y = Math.max(y, g.minWidth || d)),
                (m = Math.max(m, g.minHeight || d)),
                (y = Math.min(y, g.maxWidth || 1 / 0)),
                (m = Math.min(m, g.maxHeight || 1 / 0)),
                g.preserveAspectRatio)
              ) {
                var b = ($.width * m) / $.height,
                  x = ($.height * y) / $.width;
                y < b ? (m = x) : (y = b);
              }
              var w = i.relativeDirection;
              if (g.allowReverse && (_ <= -y || C <= -m)) {
                var P = void 0;
                'left' === w
                  ? _ <= -y && (P = 'right')
                  : 'right' === w
                  ? _ <= -y && (P = 'left')
                  : 'top' === w
                  ? C <= -m && (P = 'bottom')
                  : 'bottom' === w
                  ? C <= -m && (P = 'top')
                  : 'top-left' === w
                  ? _ <= -y && C <= -m
                    ? (P = 'bottom-right')
                    : _ <= -y
                    ? (P = 'top-right')
                    : C <= -m && (P = 'bottom-left')
                  : 'top-right' === w
                  ? _ <= -y && C <= -m
                    ? (P = 'bottom-left')
                    : _ <= -y
                    ? (P = 'top-left')
                    : C <= -m && (P = 'bottom-right')
                  : 'bottom-left' === w
                  ? _ <= -y && C <= -m
                    ? (P = 'top-right')
                    : _ <= -y
                    ? (P = 'bottom-right')
                    : C <= -m && (P = 'top-left')
                  : 'bottom-right' === w &&
                    (_ <= -y && C <= -m
                      ? (P = 'top-left')
                      : _ <= -y
                      ? (P = 'bottom-left')
                      : C <= -m && (P = 'top-right'));
                var A = P;
                this.stopHandle();
                var E = this.$container.find(
                  '.' + this.resizeClassName + '[data-position="' + A + '"]'
                );
                this.startHandle(E[0]),
                  this.prepareResizing(e, A),
                  this.onMouseMove(e);
              }
              if ($.width !== y || $.height !== m) {
                var S = {
                  ui: !0,
                  direction: i.direction,
                  relativeDirection: i.relativeDirection,
                  trueDirection: i.trueDirection,
                  minWidth: g.minWidth,
                  minHeight: g.minHeight,
                  maxWidth: g.maxWidth,
                  maxHeight: g.maxHeight,
                  preserveAspectRatio: !0 === g.preserveAspectRatio,
                };
                f.resize(y, m, S), ff('node:resizing', e, n);
              }
              ff('node:resize:mousemove', e, n);
            } else if ('rotating' === i.action) {
              i.rotated ||
                (n && (n.addClass('node-rotating'), ff('node:rotate', e, n)),
                (i.rotated = !0));
              var k = f.getAngle(),
                T = i.start - t.Point.create(p).theta(i.center),
                M = i.angle + T;
              g.rotateGrid && (M = t.Util.snapToGrid(M, g.rotateGrid)),
                k !== (M = t.Angle.normalize(M)) &&
                  (f.rotate(M, { absolute: !0 }), ff('node:rotating', e, n)),
                ff('node:rotate:mousemove', e, n);
            }
          }
        }),
        (r.prototype.onMouseUp = function (t) {
          var e = this.graph.findViewByCell(this.node),
            n = this.getEventData(t);
          n.action &&
            (this.stopAction(t),
            this.model.stopBatch(
              'resizing' === n.action ? 'resize' : 'rotate',
              { cid: this.cid }
            ),
            'resizing' === n.action
              ? ff('node:resize:mouseup', t, e)
              : 'rotating' === n.action && ff('node:rotate:mouseup', t, e));
        }),
        (r.prototype.startHandle = function (t) {
          if (
            ((this.handle = t || null),
            this.$container.addClass(this.containerClassName + '-active'),
            t)
          ) {
            this.$(t).addClass(this.containerClassName + '-active-handle');
            var e = t.getAttribute('data-position');
            if (e) {
              var n = fC.DIRECTIONS[fC.POSITIONS.indexOf(e)];
              this.$container.addClass(
                this.containerClassName + '-cursor-' + n
              );
            }
          }
        }),
        (r.prototype.stopHandle = function () {
          if (
            (this.$container.removeClass(this.containerClassName + '-active'),
            this.handle)
          ) {
            this.$(this.handle).removeClass(
              this.containerClassName + '-active-handle'
            );
            var t = this.handle.getAttribute('data-position');
            if (t) {
              var e = fC.DIRECTIONS[fC.POSITIONS.indexOf(t)];
              this.$container.removeClass(
                this.containerClassName + '-cursor-' + e
              );
            }
            this.handle = null;
          }
        }),
        (r.prototype.startAction = function (t) {
          this.startHandle(t.target),
            this.graph.view.undelegateEvents(),
            this.delegateDocumentEvents(fC.documentEvents, t.data);
        }),
        (r.prototype.stopAction = function (t) {
          this.stopHandle(),
            this.undelegateDocumentEvents(),
            this.graph.view.delegateEvents();
          var e = this.graph.findViewByCell(this.node),
            n = this.getEventData(t);
          e &&
            (e.removeClass('node-' + n.action),
            'resizing' === n.action && n.resized
              ? ff('node:resized', t, e)
              : 'rotating' === n.action &&
                n.rotated &&
                ff('node:rotated', t, e));
        }),
        (r.prototype.onRemove = function () {
          this.stopListening(), e.prototype.onRemove.call(this);
        }),
        r
      );
    })(fi);
  ((fx = fC || (fC = {})).NODE_CLS = 'has-widget-transform'),
    (fx.DIRECTIONS = ['nw', 'n', 'ne', 'e', 'se', 's', 'sw', 'w']),
    (fx.POSITIONS = [
      'top-left',
      'top',
      'top-right',
      'right',
      'bottom-right',
      'bottom',
      'bottom-left',
      'left',
    ]),
    (fx.documentEvents = {
      mousemove: 'onMouseMove',
      touchmove: 'onMouseMove',
      mouseup: 'onMouseUp',
      touchend: 'onMouseUp',
    }),
    (fx.defaultOptions = {
      minWidth: 0,
      minHeight: 0,
      maxWidth: 1 / 0,
      maxHeight: 1 / 0,
      rotateGrid: 15,
      rotatable: !0,
      preserveAspectRatio: !1,
      orthogonalResizing: !0,
      restrictedResizing: !1,
      autoScrollOnResizing: !0,
      allowReverse: !0,
    }),
    ((fb || (fb = {})).parseOptionGroup = function (t, e, n) {
      var i = {};
      return (
        Object.keys(n || {}).forEach(function (r) {
          var o = n[r];
          i[r] = 'function' == typeof o ? o.call(t, e) : o;
        }),
        i
      );
    }),
    ((f1 = fb || (fb = {})).get = function (t) {
      var e = t.grid;
      t.panning,
        t.selecting,
        t.embedding,
        t.snapline,
        t.resizing,
        t.rotating,
        t.knob,
        t.clipboard,
        t.history,
        t.scroller,
        t.minimap,
        t.keyboard,
        t.mousewheel;
      var n = r(t, [
          'grid',
          'panning',
          'selecting',
          'embedding',
          'snapline',
          'resizing',
          'rotating',
          'knob',
          'clipboard',
          'history',
          'scroller',
          'minimap',
          'keyboard',
          'mousewheel',
        ]),
        o = t.container;
      if (null == o)
        throw Error('Ensure the container of the graph is specified and valid');
      null == n.width && (n.width = o.clientWidth),
        null == n.height && (n.height = o.clientHeight);
      var s = rk({}, f1.defaults, n);
      return (
        (s.grid =
          'number' == typeof e
            ? { size: e, visible: !1 }
            : i(
                i({}, { size: 10, visible: !1 }),
                'boolean' == typeof e ? { visible: e } : e
              )),
        [
          'panning',
          'selecting',
          'embedding',
          'snapline',
          'resizing',
          'rotating',
          'knob',
          'clipboard',
          'history',
          'scroller',
          'minimap',
          'keyboard',
          'mousewheel',
        ].forEach(function (e) {
          var n = t[e];
          'boolean' == typeof n
            ? (s[e].enabled = n)
            : (s[e] = i(i({}, s[e]), n));
        }),
        s.background &&
          s.scroller.enabled &&
          null == s.scroller.background &&
          ((s.scroller.background = s.background), delete s.background),
        s
      );
    }),
    ((fb || (fb = {})).defaults = {
      x: 0,
      y: 0,
      grid: { size: 10, visible: !1 },
      scaling: { min: 0.01, max: 16 },
      background: !1,
      highlighting: {
        default: { name: 'stroke', args: { padding: 3 } },
        nodeAvailable: {
          name: 'className',
          args: { className: t.Util.prefix('available-node') },
        },
        magnetAvailable: {
          name: 'className',
          args: { className: t.Util.prefix('available-magnet') },
        },
      },
      connecting: {
        snap: !1,
        multi: !0,
        dangling: !0,
        allowLoop: !0,
        allowNode: !0,
        allowEdge: !1,
        allowPort: !0,
        highlight: !1,
        anchor: 'center',
        edgeAnchor: 'ratio',
        connectionPoint: 'boundary',
        strategy: null,
        router: 'normal',
        connector: 'normal',
        validateConnection: function (t) {
          var e = t.type,
            n = t.sourceView,
            i = t.targetView;
          return null != ('target' === e ? i : n);
        },
        createEdge: function () {
          return new dL();
        },
      },
      transforming: { clearAll: !0, clearOnBlankMouseDown: !0 },
      resizing: {
        enabled: !1,
        minWidth: 0,
        minHeight: 0,
        maxWidth: Number.MAX_SAFE_INTEGER,
        maxHeight: Number.MAX_SAFE_INTEGER,
        orthogonal: !0,
        restricted: !1,
        autoScroll: !0,
        preserveAspectRatio: !1,
        allowReverse: !0,
      },
      rotating: { enabled: !1, grid: 15 },
      translating: { restrict: !1 },
      knob: { enabled: !1, clearAll: !0, clearOnBlankMouseDown: !0 },
      embedding: {
        enabled: !1,
        findParent: 'bbox',
        frontOnly: !0,
        validate: function () {
          return !0;
        },
      },
      selecting: {
        enabled: !1,
        rubberband: !1,
        rubberNode: !0,
        rubberEdge: !1,
        pointerEvents: 'auto',
        multiple: !0,
        multipleSelectionModifiers: ['ctrl', 'meta'],
        movable: !0,
        strict: !1,
        useCellGeometry: !1,
        selectCellOnMoved: !1,
        selectNodeOnMoved: !1,
        selectEdgeOnMoved: !1,
        content: null,
        handles: null,
      },
      panning: { enabled: !1, eventTypes: ['leftMouseDown'] },
      snapline: { enabled: !1 },
      clipboard: { enabled: !1 },
      history: { enabled: !1 },
      scroller: { enabled: !1 },
      keyboard: { enabled: !1 },
      mousewheel: { enabled: !1, factor: 1.2, zoomAtMousePosition: !0 },
      async: !1,
      frozen: !1,
      sorting: 'exact',
      moveThreshold: 0,
      clickThreshold: 0,
      magnetThreshold: 0,
      preventDefaultDblClick: !0,
      preventDefaultMouseDown: !1,
      preventDefaultContextMenu: !0,
      preventDefaultBlankAction: !0,
      interacting: { edgeLabelMovable: !1 },
      guard: function () {
        return !1;
      },
    });
  var fE,
    fS = (function (e) {
      function o() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(o, e),
        Object.defineProperty(o.prototype, 'cid', {
          get: function () {
            return this.graph.view.cid;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(o.prototype, 'svg', {
          get: function () {
            return this.view.svg;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(o.prototype, 'defs', {
          get: function () {
            return this.view.defs;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (o.prototype.isDefined = function (t) {
          return null != this.svg.getElementById(t);
        }),
        (o.prototype.filter = function (e) {
          var n = e.id,
            r = e.name;
          if (
            (n ||
              (n =
                'filter-' + r + '-' + this.cid + '-' + oI(JSON.stringify(e))),
            !this.isDefined(n))
          ) {
            var o = uU.registry.get(r);
            if (null == o) return uU.registry.onNotFound(r);
            var s = o(e.args || {}),
              a = i(
                i(
                  {
                    x: -1,
                    y: -1,
                    width: 3,
                    height: 3,
                    filterUnits: 'objectBoundingBox',
                  },
                  e.attrs
                ),
                { id: n }
              );
            t.Vector.create(t.Markup.sanitize(s), a).appendTo(this.defs);
          }
          return n;
        }),
        (o.prototype.gradient = function (e) {
          var n = e.id,
            r = e.type;
          if (
            (n ||
              (n =
                'gradient-' + r + '-' + this.cid + '-' + oI(JSON.stringify(e))),
            !this.isDefined(n))
          ) {
            var o =
                '<' +
                r +
                '>' +
                e.stops
                  .map(function (t) {
                    var e =
                      null != t.opacity && Number.isFinite(t.opacity)
                        ? t.opacity
                        : 1;
                    return (
                      '<stop offset="' +
                      t.offset +
                      '" stop-color="' +
                      t.color +
                      '" stop-opacity="' +
                      e +
                      '"/>'
                    );
                  })
                  .join('') +
                '</' +
                r +
                '>',
              s = i({ id: n }, e.attrs);
            t.Vector.create(o, s).appendTo(this.defs);
          }
          return n;
        }),
        (o.prototype.marker = function (e) {
          var n = e.id,
            o = e.refX,
            s = e.refY,
            a = e.markerUnits,
            l = e.markerOrient,
            u = e.tagName,
            c = e.children,
            h = r(e, [
              'id',
              'refX',
              'refY',
              'markerUnits',
              'markerOrient',
              'tagName',
              'children',
            ]),
            p = n;
          if (
            (p || (p = 'marker-' + this.cid + '-' + oI(JSON.stringify(e))),
            !this.isDefined(p))
          ) {
            'path' !== u && delete h.d;
            var d = t.Vector.create(
              'marker',
              {
                refX: o,
                refY: s,
                id: p,
                overflow: 'visible',
                orient: null != l ? l : 'auto',
                markerUnits: a || 'userSpaceOnUse',
              },
              c
                ? c.map(function (e) {
                    var n = e.tagName,
                      o = r(e, ['tagName']);
                    return t.Vector.create(
                      '' + n || 'path',
                      sz(i(i({}, h), o))
                    );
                  })
                : [t.Vector.create(u || 'path', sz(h))]
            );
            this.defs.appendChild(d.node);
          }
          return p;
        }),
        (o.prototype.remove = function (t) {
          var e = this.svg.getElementById(t);
          e && e.parentNode && e.parentNode.removeChild(e);
        }),
        o
      );
    })(dH),
    fk = (function (e) {
      function s() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(s, e),
        Object.defineProperty(s.prototype, 'elem', {
          get: function () {
            return this.view.grid;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(s.prototype, 'grid', {
          get: function () {
            return this.options.grid;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (s.prototype.init = function () {
          this.startListening(), this.draw(this.grid);
        }),
        (s.prototype.startListening = function () {
          this.graph.on('scale', this.update, this),
            this.graph.on('translate', this.update, this);
        }),
        (s.prototype.stopListening = function () {
          this.graph.off('scale', this.update, this),
            this.graph.off('translate', this.update, this);
        }),
        (s.prototype.setVisible = function (t) {
          this.grid.visible !== t && ((this.grid.visible = t), this.update());
        }),
        (s.prototype.getGridSize = function () {
          return this.grid.size;
        }),
        (s.prototype.setGridSize = function (t) {
          (this.grid.size = Math.max(t, 1)), this.update();
        }),
        (s.prototype.show = function () {
          this.setVisible(!0), this.update();
        }),
        (s.prototype.hide = function () {
          this.setVisible(!1), this.update();
        }),
        (s.prototype.clear = function () {
          this.elem.style.backgroundImage = '';
        }),
        (s.prototype.draw = function (t) {
          this.clear(),
            (this.instance = null),
            Object.assign(this.grid, t),
            (this.patterns = this.resolveGrid(t)),
            this.update();
        }),
        (s.prototype.update = function (e) {
          void 0 === e && (e = {});
          var n = this.grid.size;
          if (n <= 1 || !this.grid.visible) return this.clear();
          var o = this.graph.matrix(),
            s = this.getInstance(),
            a = Array.isArray(e) ? e : [e];
          this.patterns.forEach(function (e, l) {
            var u = 'pattern_' + l,
              c = o.a || 1,
              h = o.d || 1,
              p = e.update,
              d = e.markup,
              f = r(e, ['update', 'markup']),
              g = i(i(i({}, f), a[l]), {
                sx: c,
                sy: h,
                ox: o.e || 0,
                oy: o.f || 0,
                width: n * c,
                height: n * h,
              });
            s.has(u) ||
              s.add(
                u,
                t.Vector.create(
                  'pattern',
                  { id: u, patternUnits: 'userSpaceOnUse' },
                  t.Vector.createVectors(d)
                ).node
              );
            var $ = s.get(u);
            'function' == typeof p && p($.childNodes[0], g);
            var v = g.ox % g.width;
            v < 0 && (v += g.width);
            var y = g.oy % g.height;
            y < 0 && (y += g.height),
              s7($, { x: v, y: y, width: g.width, height: g.height });
          });
          var l = new XMLSerializer().serializeToString(s.root),
            u = 'url(data:image/svg+xml;base64,' + btoa(l) + ')';
          this.elem.style.backgroundImage = u;
        }),
        (s.prototype.getInstance = function () {
          return this.instance || (this.instance = new u8()), this.instance;
        }),
        (s.prototype.resolveGrid = function (t) {
          if (!t) return [];
          var e = t.type;
          if (null == e) return [i(i({}, u8.presets.dot), t.args)];
          var n = u8.registry.get(e);
          if (n) {
            var r = t.args || [];
            return (
              Array.isArray(r) || (r = [r]),
              Array.isArray(n)
                ? n.map(function (t, e) {
                    return i(i({}, t), r[e]);
                  })
                : [i(i({}, n), r[0])]
            );
          }
          return u8.registry.onNotFound(e);
        }),
        (s.prototype.dispose = function () {
          this.stopListening(), this.clear();
        }),
        o([dH.dispose()], s.prototype, 'dispose', null),
        s
      );
    })(dH),
    f4 = (function (e) {
      function i() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(i, e),
        (i.prototype.getClientMatrix = function () {
          return a9(this.view.stage.getScreenCTM());
        }),
        (i.prototype.getClientOffset = function () {
          var e = this.view.svg.getBoundingClientRect();
          return new t.Point(e.left, e.top);
        }),
        (i.prototype.getPageOffset = function () {
          return this.getClientOffset().translate(
            window.scrollX,
            window.scrollY
          );
        }),
        (i.prototype.snapToGrid = function (t, e) {
          return (
            'number' == typeof t
              ? this.clientToLocalPoint(t, e)
              : this.clientToLocalPoint(t.x, t.y)
          ).snapToGrid(this.graph.getGridSize());
        }),
        (i.prototype.localToGraphPoint = function (e, n) {
          return ln(t.Point.create(e, n), this.graph.matrix());
        }),
        (i.prototype.localToClientPoint = function (e, n) {
          return ln(t.Point.create(e, n), this.getClientMatrix());
        }),
        (i.prototype.localToPagePoint = function (t, e) {
          return (
            'number' == typeof t
              ? this.localToGraphPoint(t, e)
              : this.localToGraphPoint(t)
          ).translate(this.getPageOffset());
        }),
        (i.prototype.localToGraphRect = function (e, n, i, r) {
          return lr(t.Rectangle.create(e, n, i, r), this.graph.matrix());
        }),
        (i.prototype.localToClientRect = function (e, n, i, r) {
          return lr(t.Rectangle.create(e, n, i, r), this.getClientMatrix());
        }),
        (i.prototype.localToPageRect = function (t, e, n, i) {
          return (
            'number' == typeof t
              ? this.localToGraphRect(t, e, n, i)
              : this.localToGraphRect(t)
          ).translate(this.getPageOffset());
        }),
        (i.prototype.graphToLocalPoint = function (e, n) {
          return ln(t.Point.create(e, n), this.graph.matrix().inverse());
        }),
        (i.prototype.clientToLocalPoint = function (e, n) {
          return ln(t.Point.create(e, n), this.getClientMatrix().inverse());
        }),
        (i.prototype.clientToGraphPoint = function (e, n) {
          return ln(
            t.Point.create(e, n),
            this.graph.matrix().multiply(this.getClientMatrix().inverse())
          );
        }),
        (i.prototype.pageToLocalPoint = function (e, n) {
          var i = t.Point.create(e, n).diff(this.getPageOffset());
          return this.graphToLocalPoint(i);
        }),
        (i.prototype.graphToLocalRect = function (e, n, i, r) {
          return lr(
            t.Rectangle.create(e, n, i, r),
            this.graph.matrix().inverse()
          );
        }),
        (i.prototype.clientToLocalRect = function (e, n, i, r) {
          return lr(
            t.Rectangle.create(e, n, i, r),
            this.getClientMatrix().inverse()
          );
        }),
        (i.prototype.clientToGraphRect = function (e, n, i, r) {
          return lr(
            t.Rectangle.create(e, n, i, r),
            this.graph.matrix().multiply(this.getClientMatrix().inverse())
          );
        }),
        (i.prototype.pageToLocalRect = function (e, n, i, r) {
          var o = t.Rectangle.create(e, n, i, r),
            s = this.getPageOffset();
          return (o.x -= s.x), (o.y -= s.y), this.graphToLocalRect(o);
        }),
        i
      );
    })(dH),
    fT = (function (t) {
      function e() {
        var e = (null !== t && t.apply(this, arguments)) || this;
        return (e.widget = e.graph.hook.createSnapline()), e;
      }
      return (
        n(e, t),
        (e.prototype.dispose = function () {
          this.widget.dispose();
        }),
        o([dH.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(dH);
  !(function (t) {
    function e(t) {
      var e = [],
        n = [];
      return (
        Array.isArray(t)
          ? e.push.apply(e, t)
          : t.split('|').forEach(function (t) {
              -1 === t.indexOf('&') ? e.push(t) : n.push.apply(n, t.split('&'));
            }),
        { or: e, and: n }
      );
    }
    (t.parse = e),
      (t.equals = function (t, n) {
        if (null != t && null != n) {
          var i = e(t),
            r = e(n),
            o = i.or.sort(),
            s = r.or.sort(),
            a = i.and.sort(),
            l = r.and.sort(),
            u = function (t, e) {
              return (
                t.length === e.length &&
                (0 === t.length ||
                  t.every(function (t, n) {
                    return t === e[n];
                  }))
              );
            };
          return u(o, s) && u(a, l);
        }
        return null == t && null == n;
      }),
      (t.isMatch = function (t, n, i) {
        if (null == n || (Array.isArray(n) && 0 === n.length))
          return (
            !i ||
            (!0 !== t.altKey &&
              !0 !== t.ctrlKey &&
              !0 !== t.metaKey &&
              !0 !== t.shiftKey)
          );
        var r = e(n),
          o = r.or,
          s = r.and,
          a = function (e) {
            return !0 === t[e.toLowerCase() + 'Key'];
          };
        return (
          o.some(function (t) {
            return a(t);
          }) &&
          s.every(function (t) {
            return a(t);
          })
        );
      });
  })(fE || (fE = {}));
  var f3,
    fM,
    fD,
    f2,
    fN = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'widgetOptions', {
          get: function () {
            return this.options.scroller;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'pannable', {
          get: function () {
            return (
              !!this.widgetOptions &&
              ('object' == typeof this.widgetOptions.pannable
                ? this.widgetOptions.pannable.enabled
                : !!this.widgetOptions.pannable)
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.init = function () {
          (this.widget = this.graph.hook.createScroller()),
            this.startListening(),
            this.updateClassName(),
            this.widget && this.widget.center();
        }),
        (e.prototype.startListening = function () {
          var t = [],
            e = this.widgetOptions.pannable;
          (t =
            'object' == typeof e
              ? e.eventTypes || []
              : ['leftMouseDown']).includes('leftMouseDown') &&
            (this.graph.on('blank:mousedown', this.preparePanning, this),
            this.graph.on(
              'node:unhandled:mousedown',
              this.preparePanning,
              this
            ),
            this.graph.on(
              'edge:unhandled:mousedown',
              this.preparePanning,
              this
            )),
            t.includes('rightMouseDown') &&
              ((this.onRightMouseDown = this.onRightMouseDown.bind(this)),
              this.view
                .$(this.widget.container)
                .on('mousedown', this.onRightMouseDown));
        }),
        (e.prototype.stopListening = function () {
          var t = [],
            e = this.widgetOptions.pannable;
          (t =
            'object' == typeof e
              ? e.eventTypes || []
              : ['leftMouseDown']).includes('leftMouseDown') &&
            (this.graph.off('blank:mousedown', this.preparePanning, this),
            this.graph.off(
              'node:unhandled:mousedown',
              this.preparePanning,
              this
            ),
            this.graph.off(
              'edge:unhandled:mousedown',
              this.preparePanning,
              this
            )),
            t.includes('rightMouseDown') &&
              this.view
                .$(this.widget.container)
                .off('mousedown', this.onRightMouseDown);
        }),
        (e.prototype.onRightMouseDown = function (t) {
          var e = this;
          2 === t.button &&
            this.allowPanning(t, !0) &&
            this.widget &&
            (this.updateClassName(!0),
            this.widget.startPanning(t),
            this.widget.once('pan:stop', function () {
              return e.updateClassName(!1);
            }));
        }),
        (e.prototype.preparePanning = function (t) {
          var e = this,
            n = t.e;
          this.widget &&
            (this.allowPanning(n, !0) ||
              (this.allowPanning(n) &&
                !this.graph.selection.allowRubberband(n, !0))) &&
            (this.updateClassName(!0),
            this.widget.startPanning(n),
            this.widget.once('pan:stop', function () {
              return e.updateClassName(!1);
            }));
        }),
        (e.prototype.allowPanning = function (t, e) {
          return (
            this.widget &&
            this.pannable &&
            fE.isMatch(t, this.widgetOptions.modifiers, e) &&
            this.graph.hook.allowPanning(t)
          );
        }),
        (e.prototype.updateClassName = function (t) {
          if (null != this.widget) {
            var e = this.widget.container,
              n = this.view.prefixClassName('graph-scroller-pannable');
            this.pannable
              ? (sl(e, n), (e.dataset.panning = (!!t).toString()))
              : su(e, n);
          }
        }),
        (e.prototype.enablePanning = function () {
          this.pannable ||
            ((this.widgetOptions.pannable = !0), this.updateClassName());
        }),
        (e.prototype.disablePanning = function () {
          this.pannable &&
            ((this.widgetOptions.pannable = !1), this.updateClassName());
        }),
        (e.prototype.lock = function () {
          this.widget && this.widget.lock();
        }),
        (e.prototype.unlock = function () {
          this.widget && this.widget.unlock();
        }),
        (e.prototype.update = function () {
          this.widget && this.widget.update();
        }),
        (e.prototype.enableAutoResize = function () {
          this.widget && this.widget.enableAutoResize();
        }),
        (e.prototype.disableAutoResize = function () {
          this.widget && this.widget.disableAutoResize();
        }),
        (e.prototype.resize = function (t, e) {
          this.widget && this.widget.resize(t, e);
        }),
        (e.prototype.dispose = function () {
          this.widget && this.widget.dispose(), this.stopListening();
        }),
        o([dH.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(dH),
    fL = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'commonOptions', {
          get: function () {
            var t = this.instanceOptions;
            return t.enabled, r(t, ['enabled']);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'instanceOptions', {
          get: function () {
            return this.options.clipboard;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'cells', {
          get: function () {
            return this.widget.cells;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'disabled', {
          get: function () {
            return !0 !== this.instanceOptions.enabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.init = function () {
          (this.widget = this.graph.hook.createClipboard()),
            this.widget.deserialize(this.instanceOptions);
        }),
        (e.prototype.enable = function () {
          this.disabled && (this.instanceOptions.enabled = !0);
        }),
        (e.prototype.disable = function () {
          this.disabled || (this.instanceOptions.enabled = !1);
        }),
        (e.prototype.copy = function (t, e) {
          void 0 === e && (e = {}),
            this.disabled ||
              (this.widget.copy(t, this.graph, i(i({}, this.commonOptions), e)),
              this.graph.trigger('clipboard:changed', { cells: t }));
        }),
        (e.prototype.cut = function (t, e) {
          void 0 === e && (e = {}),
            this.disabled ||
              (this.widget.cut(t, this.graph, i(i({}, this.commonOptions), e)),
              this.graph.trigger('clipboard:changed', { cells: t }));
        }),
        (e.prototype.paste = function (t, e) {
          return (
            void 0 === t && (t = {}),
            void 0 === e && (e = this.graph),
            this.disabled
              ? []
              : this.widget.paste(e, i(i({}, this.commonOptions), t))
          );
        }),
        (e.prototype.clean = function (t) {
          (this.disabled && !t) ||
            (this.widget.clean(),
            this.graph.trigger('clipboard:changed', { cells: [] }));
        }),
        (e.prototype.isEmpty = function () {
          return this.widget.isEmpty();
        }),
        (e.prototype.dispose = function () {
          this.clean(!0);
        }),
        o([dH.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(dH),
    f5 = (function (t) {
      function e() {
        var e = (null !== t && t.apply(this, arguments)) || this;
        return (e.highlights = {}), e;
      }
      return (
        n(e, t),
        (e.prototype.init = function () {
          this.startListening();
        }),
        (e.prototype.startListening = function () {
          this.graph.on('cell:highlight', this.onCellHighlight, this),
            this.graph.on('cell:unhighlight', this.onCellUnhighlight, this);
        }),
        (e.prototype.stopListening = function () {
          this.graph.off('cell:highlight', this.onCellHighlight, this),
            this.graph.off('cell:unhighlight', this.onCellUnhighlight, this);
        }),
        (e.prototype.onCellHighlight = function (t) {
          var e = t.view,
            n = t.magnet,
            r = t.options,
            o = this.resolveHighlighter(void 0 === r ? {} : r);
          if (o) {
            var s = this.getHighlighterId(n, o);
            if (!this.highlights[s]) {
              var a = o.highlighter;
              a.highlight(e, n, i({}, o.args)),
                (this.highlights[s] = {
                  cellView: e,
                  magnet: n,
                  highlighter: a,
                  args: o.args,
                });
            }
          }
        }),
        (e.prototype.onCellUnhighlight = function (t) {
          var e = t.magnet,
            n = t.options,
            i = this.resolveHighlighter(void 0 === n ? {} : n);
          if (i) {
            var r = this.getHighlighterId(e, i);
            this.unhighlight(r);
          }
        }),
        (e.prototype.resolveHighlighter = function (t) {
          var e = this.options,
            n = t.highlighter;
          if (null == n) {
            var i = t.type;
            n = (i && e.highlighting[i]) || e.highlighting.default;
          }
          if (null == n) return null;
          var r = 'string' == typeof n ? { name: n } : n,
            o = r.name,
            s = ch.registry.get(o);
          return null == s
            ? ch.registry.onNotFound(o)
            : (ch.check(o, s), { name: o, highlighter: s, args: r.args || {} });
        }),
        (e.prototype.getHighlighterId = function (t, e) {
          return sd(t), e.name + t.id + JSON.stringify(e.args);
        }),
        (e.prototype.unhighlight = function (t) {
          var e = this.highlights[t];
          e &&
            (e.highlighter.unhighlight(e.cellView, e.magnet, e.args),
            delete this.highlights[t]);
        }),
        (e.prototype.dispose = function () {
          var t = this;
          Object.keys(this.highlights).forEach(function (e) {
            return t.unhighlight(e);
          }),
            this.stopListening();
        }),
        o([e.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(dH),
    f6 = (function (e) {
      function r() {
        var t = (null !== e && e.apply(this, arguments)) || this;
        return (t.widgets = new Map()), t;
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'container', {
          get: function () {
            return this.graph.view.container;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'viewport', {
          get: function () {
            return this.graph.view.viewport;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'isSelectionEnabled', {
          get: function () {
            return !0 === this.options.selecting.enabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.init = function () {
          this.startListening(), this.resize();
        }),
        (r.prototype.startListening = function () {
          this.graph.on('node:mouseup', this.onNodeMouseUp, this),
            this.graph.on('node:selected', this.onNodeSelected, this),
            this.graph.on('node:unselected', this.onNodeUnSelected, this);
        }),
        (r.prototype.stopListening = function () {
          this.graph.off('node:mouseup', this.onNodeMouseUp, this),
            this.graph.off('node:selected', this.onNodeSelected, this),
            this.graph.off('node:unselected', this.onNodeUnSelected, this);
        }),
        (r.prototype.onNodeMouseUp = function (t) {
          var e = t.node;
          if (!this.isSelectionEnabled) {
            var n = this.graph.hook.createTransform(e, { clearAll: !0 });
            n && this.widgets.set(e, n);
          }
        }),
        (r.prototype.onNodeSelected = function (t) {
          var e = t.node;
          if (this.isSelectionEnabled) {
            var n = this.graph.hook.createTransform(e, { clearAll: !1 });
            n && this.widgets.set(e, n);
          }
        }),
        (r.prototype.onNodeUnSelected = function (t) {
          var e = t.node;
          if (this.isSelectionEnabled) {
            var n = this.widgets.get(e);
            n && n.dispose(), this.widgets.delete(e);
          }
        }),
        (r.prototype.getMatrix = function () {
          var t = this.viewport.getAttribute('transform');
          return (
            t !== this.viewportTransformString &&
              ((this.viewportMatrix = this.viewport.getCTM()),
              (this.viewportTransformString = t)),
            a9(this.viewportMatrix)
          );
        }),
        (r.prototype.setMatrix = function (t) {
          var e = a9(t),
            n = aY(e);
          this.viewport.setAttribute('transform', n),
            (this.viewportMatrix = e),
            (this.viewportTransformString = n);
        }),
        (r.prototype.resize = function (t, e) {
          var n = void 0 === t ? this.options.width : t,
            r = void 0 === e ? this.options.height : e;
          (this.options.width = n),
            (this.options.height = r),
            'number' == typeof n && (n = Math.round(n)),
            'number' == typeof r && (r = Math.round(r)),
            (this.container.style.width = null == n ? '' : n + 'px'),
            (this.container.style.height = null == r ? '' : r + 'px');
          var o = this.getComputedSize();
          return this.graph.trigger('resize', i({}, o)), this;
        }),
        (r.prototype.getComputedSize = function () {
          var t = this.options.width,
            e = this.options.height;
          return (
            rw(t) || (t = this.container.clientWidth),
            rw(e) || (e = this.container.clientHeight),
            { width: t, height: e }
          );
        }),
        (r.prototype.getScale = function () {
          return aQ(this.getMatrix());
        }),
        (r.prototype.scale = function (t, e, n, r, o) {
          if (
            (void 0 === e && (e = t),
            void 0 === n && (n = 0),
            void 0 === r && (r = 0),
            void 0 === o && (o = {}),
            (t = this.clampScale(t)),
            (e = this.clampScale(e)),
            n || r)
          ) {
            var s = this.getTranslation(),
              a = s.tx - n * (t - 1),
              l = s.ty - r * (e - 1);
            (a === s.tx && l === s.ty) || this.translate(a, l);
          }
          var u = this.getMatrix();
          return (
            (u.a = t),
            (u.d = e),
            this.setMatrix(u),
            this.graph.trigger('scale', i({ sx: t, sy: e, ox: n, oy: r }, o)),
            this
          );
        }),
        (r.prototype.clampScale = function (t) {
          var e = this.graph.options.scaling;
          return n2(t, e.min || 0.01, e.max || 16);
        }),
        (r.prototype.getZoom = function () {
          return this.getScale().sx;
        }),
        (r.prototype.zoom = function (t, e) {
          e = e || {};
          var n = t,
            i = t,
            r = this.getScale(),
            o = this.getComputedSize(),
            s = o.width / 2,
            a = o.height / 2;
          if (
            (e.absolute || ((n += r.sx), (i += r.sy)),
            e.scaleGrid &&
              ((n = Math.round(n / e.scaleGrid) * e.scaleGrid),
              (i = Math.round(i / e.scaleGrid) * e.scaleGrid)),
            e.maxScale &&
              ((n = Math.min(e.maxScale, n)), (i = Math.min(e.maxScale, i))),
            e.minScale &&
              ((n = Math.max(e.minScale, n)), (i = Math.max(e.minScale, i))),
            e.center && ((s = e.center.x), (a = e.center.y)),
            (n = this.clampScale(n)),
            (i = this.clampScale(i)),
            s || a)
          ) {
            var l = this.getTranslation(),
              u = s - (s - l.tx) * (n / r.sx),
              c = a - (a - l.ty) * (i / r.sy);
            (u === l.tx && c === l.ty) || this.translate(u, c, { ui: e.ui });
          }
          return this.scale(n, i, 0, 0, { ui: e.ui }), this;
        }),
        (r.prototype.getRotation = function () {
          return lt(this.getMatrix());
        }),
        (r.prototype.rotate = function (t, e, n) {
          if (null == e || null == n) {
            var i = ls(this.graph.view.stage);
            (e = i.width / 2), (n = i.height / 2);
          }
          var r = this.getMatrix().translate(e, n).rotate(t).translate(-e, -n);
          return this.setMatrix(r), this;
        }),
        (r.prototype.getTranslation = function () {
          return le(this.getMatrix());
        }),
        (r.prototype.translate = function (t, e, n) {
          void 0 === n && (n = {});
          var r = this.getMatrix();
          (r.e = t || 0), (r.f = e || 0), this.setMatrix(r);
          var o = this.getTranslation();
          return (
            (this.options.x = o.tx),
            (this.options.y = o.ty),
            this.graph.trigger('translate', i(i({}, o), n)),
            this
          );
        }),
        (r.prototype.setOrigin = function (t, e) {
          return this.translate(t || 0, e || 0);
        }),
        (r.prototype.fitToContent = function (e, n, i, r) {
          if ('object' == typeof e) {
            var o = e;
            (e = o.gridWidth || 1),
              (n = o.gridHeight || 1),
              (i = o.padding || 0),
              (r = o);
          } else
            (e = e || 1), (n = n || 1), (i = i || 0), null == r && (r = {});
          var s = oX(i),
            a = r.border || 0,
            l = r.contentArea
              ? t.Rectangle.create(r.contentArea)
              : this.getContentArea(r);
          a > 0 && l.inflate(a);
          var u = this.getScale(),
            c = this.getTranslation(),
            h = u.sx,
            p = u.sy;
          (l.x *= h), (l.y *= p), (l.width *= h), (l.height *= p);
          var d = Math.max(Math.ceil((l.width + l.x) / e), 1) * e,
            f = Math.max(Math.ceil((l.height + l.y) / n), 1) * n,
            g = 0,
            $ = 0;
          (('negative' === r.allowNewOrigin && l.x < 0) ||
            ('positive' === r.allowNewOrigin && l.x >= 0) ||
            'any' === r.allowNewOrigin) &&
            ((g = Math.ceil(-l.x / e) * e), (d += g += s.left)),
            (('negative' === r.allowNewOrigin && l.y < 0) ||
              ('positive' === r.allowNewOrigin && l.y >= 0) ||
              'any' === r.allowNewOrigin) &&
              (($ = Math.ceil(-l.y / n) * n), (f += $ += s.top)),
            (d += s.right),
            (f += s.bottom),
            (d = Math.max(d, r.minWidth || 0)),
            (f = Math.max(f, r.minHeight || 0)),
            (d = Math.min(d, r.maxWidth || Number.MAX_SAFE_INTEGER)),
            (f = Math.min(f, r.maxHeight || Number.MAX_SAFE_INTEGER));
          var v = this.getComputedSize(),
            y = d !== v.width || f !== v.height;
          return (
            (g !== c.tx || $ !== c.ty) && this.translate(g, $),
            y && this.resize(d, f),
            new t.Rectangle(-g / h, -$ / p, d / h, f / p)
          );
        }),
        (r.prototype.scaleContentToFit = function (t) {
          void 0 === t && (t = {}), this.scaleContentToFitImpl(t);
        }),
        (r.prototype.scaleContentToFitImpl = function (e, n) {
          var i, r;
          if (
            (void 0 === e && (e = {}), void 0 === n && (n = !0), e.contentArea)
          ) {
            var o = e.contentArea;
            (i = this.graph.localToGraph(o)), (r = t.Point.create(o));
          } else (i = this.getContentBBox(e)), (r = this.graph.graphToLocal(i));
          if (i.width && i.height) {
            var s,
              a = oX(e.padding),
              l = e.minScale || 0,
              u = e.maxScale || Number.MAX_SAFE_INTEGER,
              c = e.minScaleX || l,
              h = e.maxScaleX || u,
              p = e.minScaleY || l,
              d = e.maxScaleY || u;
            if (e.viewportArea) s = e.viewportArea;
            else {
              var f = this.getComputedSize(),
                g = this.getTranslation();
              s = { x: g.tx, y: g.ty, width: f.width, height: f.height };
            }
            s = t.Rectangle.create(s).moveAndExpand({
              x: a.left,
              y: a.top,
              width: -a.left - a.right,
              height: -a.top - a.bottom,
            });
            var $ = this.getScale(),
              v = (s.width / i.width) * $.sx,
              y = (s.height / i.height) * $.sy;
            !1 !== e.preserveAspectRatio && (v = y = Math.min(v, y));
            var m = e.scaleGrid;
            if (
              (m && ((v = m * Math.floor(v / m)), (y = m * Math.floor(y / m))),
              (v = n2(v, c, h)),
              (y = n2(y, p, d)),
              this.scale(v, y),
              n)
            ) {
              var _ = this.options,
                C = s.x - r.x * v - _.x,
                b = s.y - r.y * y - _.y;
              this.translate(C, b);
            }
          }
        }),
        (r.prototype.getContentArea = function (e) {
          return (
            void 0 === e && (e = {}),
            e.useCellGeometry
              ? this.model.getAllCellsBBox() || new t.Rectangle()
              : ls(this.graph.view.stage)
          );
        }),
        (r.prototype.getContentBBox = function (t) {
          return (
            void 0 === t && (t = {}),
            this.graph.localToGraph(this.getContentArea(t))
          );
        }),
        (r.prototype.getGraphArea = function () {
          var e = t.Rectangle.fromSize(this.getComputedSize());
          return this.graph.graphToLocal(e);
        }),
        (r.prototype.zoomToRect = function (e, n) {
          void 0 === n && (n = {});
          var i = t.Rectangle.create(e),
            r = this.graph;
          (n.contentArea = i),
            null == n.viewportArea &&
              (n.viewportArea = {
                x: r.options.x,
                y: r.options.y,
                width: this.options.width,
                height: this.options.height,
              }),
            this.scaleContentToFitImpl(n, !1);
          var o = i.getCenter();
          return this.centerPoint(o.x, o.y), this;
        }),
        (r.prototype.zoomToFit = function (t) {
          return (
            void 0 === t && (t = {}), this.zoomToRect(this.getContentArea(t), t)
          );
        }),
        (r.prototype.centerPoint = function (t, e) {
          var n = this.getComputedSize(),
            i = this.getScale(),
            r = this.getTranslation(),
            o = n.width / 2,
            s = n.height / 2;
          (e = 'number' == typeof e ? e : s),
            (t = o - (t = 'number' == typeof t ? t : o) * i.sx),
            (e = s - e * i.sy),
            (r.tx === t && r.ty === e) || this.translate(t, e);
        }),
        (r.prototype.centerContent = function (t) {
          var e = this.graph.getContentArea(t).getCenter();
          this.centerPoint(e.x, e.y);
        }),
        (r.prototype.centerCell = function (t) {
          return this.positionCell(t, 'center');
        }),
        (r.prototype.positionPoint = function (t, e, n) {
          var i = this.getComputedSize();
          (e = o9(e, Math.max(0, i.width))) < 0 && (e = i.width + e),
            (n = o9(n, Math.max(0, i.height))) < 0 && (n = i.height + n);
          var r = this.getTranslation(),
            o = this.getScale(),
            s = e - t.x * o.sx,
            a = n - t.y * o.sy;
          (r.tx === s && r.ty === a) || this.translate(s, a);
        }),
        (r.prototype.positionRect = function (e, n) {
          var i = t.Rectangle.create(e);
          switch (n) {
            case 'center':
              return this.positionPoint(i.getCenter(), '50%', '50%');
            case 'top':
              return this.positionPoint(i.getTopCenter(), '50%', 0);
            case 'top-right':
              return this.positionPoint(i.getTopRight(), '100%', 0);
            case 'right':
              return this.positionPoint(i.getRightMiddle(), '100%', '50%');
            case 'bottom-right':
              return this.positionPoint(i.getBottomRight(), '100%', '100%');
            case 'bottom':
              return this.positionPoint(i.getBottomCenter(), '50%', '100%');
            case 'bottom-left':
              return this.positionPoint(i.getBottomLeft(), 0, '100%');
            case 'left':
              return this.positionPoint(i.getLeftMiddle(), 0, '50%');
            case 'top-left':
              return this.positionPoint(i.getTopLeft(), 0, 0);
            default:
              return this;
          }
        }),
        (r.prototype.positionCell = function (t, e) {
          var n = t.getBBox();
          return this.positionRect(n, e);
        }),
        (r.prototype.positionContent = function (t, e) {
          var n = this.graph.getContentArea(e);
          return this.positionRect(n, t);
        }),
        (r.prototype.dispose = function () {
          this.widgets.forEach(function (t) {
            return t.dispose();
          }),
            this.widgets.clear(),
            this.stopListening();
        }),
        o([r.dispose()], r.prototype, 'dispose', null),
        r
      );
    })(dH),
    f7 = (function (t) {
      function e() {
        var e = (null !== t && t.apply(this, arguments)) || this;
        return (e.movedMap = new WeakMap()), (e.unselectMap = new WeakMap()), e;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'widgetOptions', {
          get: function () {
            return this.options.selecting;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'rubberbandDisabled', {
          get: function () {
            return (
              !0 !== this.widgetOptions.enabled ||
              !0 !== this.widgetOptions.rubberband
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'disabled', {
          get: function () {
            return !0 !== this.widgetOptions.enabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'length', {
          get: function () {
            return this.widget.length;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'cells', {
          get: function () {
            return this.widget.cells;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.init = function () {
          (this.widget = this.graph.hook.createSelection()),
            this.startListening();
        }),
        (e.prototype.startListening = function () {
          this.graph.on('blank:mousedown', this.onBlankMouseDown, this),
            this.graph.on('blank:click', this.onBlankClick, this),
            this.graph.on('cell:mousemove', this.onCellMouseMove, this),
            this.graph.on('cell:mouseup', this.onCellMouseUp, this),
            this.widget.on('box:mousedown', this.onBoxMouseDown, this);
        }),
        (e.prototype.stopListening = function () {
          this.graph.off('blank:mousedown', this.onBlankMouseDown, this),
            this.graph.off('blank:click', this.onBlankClick, this),
            this.graph.off('cell:mousemove', this.onCellMouseMove, this),
            this.graph.off('cell:mouseup', this.onCellMouseUp, this),
            this.widget.off('box:mousedown', this.onBoxMouseDown, this);
        }),
        (e.prototype.onBlankMouseDown = function (t) {
          var e = t.e;
          (this.allowRubberband(e, !0) ||
            (this.allowRubberband(e) &&
              !this.graph.scroller.allowPanning(e, !0) &&
              !this.graph.panning.allowPanning(e, !0))) &&
            this.startRubberband(e);
        }),
        (e.prototype.onBlankClick = function () {
          this.clean();
        }),
        (e.prototype.allowRubberband = function (t, e) {
          return (
            !this.rubberbandDisabled &&
            fE.isMatch(t, this.widgetOptions.modifiers, e) &&
            this.graph.hook.allowRubberband(t)
          );
        }),
        (e.prototype.allowMultipleSelection = function (t) {
          return (
            this.isMultiple() &&
            fE.isMatch(t, this.widgetOptions.multipleSelectionModifiers)
          );
        }),
        (e.prototype.onCellMouseMove = function (t) {
          var e = t.cell;
          this.movedMap.set(e, !0);
        }),
        (e.prototype.onCellMouseUp = function (t) {
          var e = t.e,
            n = t.cell,
            i = this.widgetOptions,
            r = this.disabled;
          !r &&
            this.movedMap.has(n) &&
            ((r = !1 === i.selectCellOnMoved) ||
              (r = !1 === i.selectNodeOnMoved && n.isNode()),
            r || (r = !1 === i.selectEdgeOnMoved && n.isEdge())),
            r ||
              (this.allowMultipleSelection(e)
                ? this.unselectMap.has(n)
                  ? this.unselectMap.delete(n)
                  : this.isSelected(n)
                  ? this.unselect(n)
                  : this.select(n)
                : this.reset(n)),
            this.movedMap.delete(n);
        }),
        (e.prototype.onBoxMouseDown = function (t) {
          var e = t.e,
            n = t.cell;
          this.disabled ||
            (this.allowMultipleSelection(e) &&
              (this.unselect(n), this.unselectMap.set(n, !0)));
        }),
        (e.prototype.isEmpty = function () {
          return this.length <= 0;
        }),
        (e.prototype.isSelected = function (t) {
          return this.widget.isSelected(t);
        }),
        (e.prototype.getCells = function (t) {
          var e = this;
          return (Array.isArray(t) ? t : [t])
            .map(function (t) {
              return 'string' == typeof t ? e.graph.getCellById(t) : t;
            })
            .filter(function (t) {
              return null != t;
            });
        }),
        (e.prototype.select = function (t, e) {
          void 0 === e && (e = {});
          var n = this.getCells(t);
          return (
            n.length &&
              (this.isMultiple()
                ? this.widget.select(n, e)
                : this.reset(n.slice(0, 1), e)),
            this
          );
        }),
        (e.prototype.unselect = function (t, e) {
          return (
            void 0 === e && (e = {}),
            this.widget.unselect(this.getCells(t), e),
            this
          );
        }),
        (e.prototype.reset = function (t, e) {
          return (
            void 0 === e && (e = {}),
            this.widget.reset(t ? this.getCells(t) : [], e),
            this
          );
        }),
        (e.prototype.clean = function (t) {
          return void 0 === t && (t = {}), this.widget.clean(t), this;
        }),
        (e.prototype.enable = function () {
          return this.disabled && (this.widgetOptions.enabled = !0), this;
        }),
        (e.prototype.disable = function () {
          return this.disabled || (this.widgetOptions.enabled = !1), this;
        }),
        (e.prototype.startRubberband = function (t) {
          return this.rubberbandDisabled || this.widget.startSelecting(t), this;
        }),
        (e.prototype.enableRubberband = function () {
          return (
            this.rubberbandDisabled && (this.widgetOptions.rubberband = !0),
            this
          );
        }),
        (e.prototype.disableRubberband = function () {
          return (
            this.rubberbandDisabled || (this.widgetOptions.rubberband = !1),
            this
          );
        }),
        (e.prototype.isMultiple = function () {
          return !1 !== this.widgetOptions.multiple;
        }),
        (e.prototype.enableMultiple = function () {
          return (this.widgetOptions.multiple = !0), this;
        }),
        (e.prototype.disableMultiple = function () {
          return (this.widgetOptions.multiple = !1), this;
        }),
        (e.prototype.setModifiers = function (t) {
          return (this.widgetOptions.modifiers = t), this;
        }),
        (e.prototype.setContent = function (t) {
          return this.widget.setContent(t), this;
        }),
        (e.prototype.setFilter = function (t) {
          return this.widget.setFilter(t), this;
        }),
        (e.prototype.dispose = function () {
          this.stopListening(), this.widget.dispose();
        }),
        o([dH.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(dH),
    fF = (function (e) {
      function r(t) {
        var n = e.call(this) || this;
        return (
          (n.batchCommands = null),
          (n.batchLevel = 0),
          (n.lastBatchIndex = -1),
          (n.freezed = !1),
          (n.handlers = []),
          (n.graph = t.graph),
          (n.model = t.graph.model),
          (n.options = f3.getOptions(t)),
          (n.validator = new r.Validator({
            history: n,
            cancelInvalid: n.options.cancelInvalid,
          })),
          n.clean(),
          n.startListening(),
          n
        );
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'disabled', {
          get: function () {
            return !0 !== this.options.enabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.enable = function () {
          this.disabled && (this.options.enabled = !0);
        }),
        (r.prototype.disable = function () {
          this.disabled || (this.options.enabled = !1);
        }),
        (r.prototype.undo = function (t) {
          if ((void 0 === t && (t = {}), !this.disabled)) {
            var e = this.undoStack.pop();
            e &&
              (this.revertCommand(e, t),
              this.redoStack.push(e),
              this.notify('undo', e, t));
          }
          return this;
        }),
        (r.prototype.redo = function (t) {
          if ((void 0 === t && (t = {}), !this.disabled)) {
            var e = this.redoStack.pop();
            e &&
              (this.applyCommand(e, t),
              this.undoStack.push(e),
              this.notify('redo', e, t));
          }
          return this;
        }),
        (r.prototype.cancel = function (t) {
          if ((void 0 === t && (t = {}), !this.disabled)) {
            var e = this.undoStack.pop();
            e &&
              (this.revertCommand(e, t),
              (this.redoStack = []),
              this.notify('cancel', e, t));
          }
          return this;
        }),
        (r.prototype.clean = function (t) {
          return (
            void 0 === t && (t = {}),
            (this.undoStack = []),
            (this.redoStack = []),
            this.notify('clean', null, t),
            this
          );
        }),
        (r.prototype.canUndo = function () {
          return !this.disabled && this.undoStack.length > 0;
        }),
        (r.prototype.canRedo = function () {
          return !this.disabled && this.redoStack.length > 0;
        }),
        (r.prototype.validate = function (t) {
          for (var e, n = [], i = 1; i < arguments.length; i++)
            n[i - 1] = arguments[i];
          return (e = this.validator).validate.apply(e, s([t], n, !1)), this;
        }),
        (r.prototype.dispose = function () {
          this.validator.dispose(), this.clean(), this.stopListening();
        }),
        (r.prototype.startListening = function () {
          var t = this;
          this.model.on('batch:start', this.initBatchCommand, this),
            this.model.on('batch:stop', this.storeBatchCommand, this),
            this.options.eventNames &&
              this.options.eventNames.forEach(function (e, n) {
                (t.handlers[n] = t.addCommand.bind(t, e)),
                  t.model.on(e, t.handlers[n]);
              }),
            this.validator.on('invalid', function (e) {
              return t.trigger('invalid', e);
            });
        }),
        (r.prototype.stopListening = function () {
          var t = this;
          this.model.off('batch:start', this.initBatchCommand, this),
            this.model.off('batch:stop', this.storeBatchCommand, this),
            this.options.eventNames &&
              (this.options.eventNames.forEach(function (e, n) {
                t.model.off(e, t.handlers[n]);
              }),
              (this.handlers.length = 0)),
            this.validator.off('invalid');
        }),
        (r.prototype.createCommand = function (t) {
          return { batch: !!t && t.batch, data: {} };
        }),
        (r.prototype.revertCommand = function (t, e) {
          this.freezed = !0;
          for (
            var n = Array.isArray(t) ? f3.sortBatchCommands(t) : [t],
              r = n.length - 1;
            r >= 0;
            r -= 1
          ) {
            var o = n[r],
              s = i(
                i({}, e),
                rU(o.options, this.options.revertOptionsList || [])
              );
            this.executeCommand(o, !0, s);
          }
          this.freezed = !1;
        }),
        (r.prototype.applyCommand = function (t, e) {
          this.freezed = !0;
          for (
            var n = Array.isArray(t) ? f3.sortBatchCommands(t) : [t], r = 0;
            r < n.length;
            r += 1
          ) {
            var o = n[r],
              s = i(
                i({}, e),
                rU(o.options, this.options.applyOptionsList || [])
              );
            this.executeCommand(o, !1, s);
          }
          this.freezed = !1;
        }),
        (r.prototype.executeCommand = function (t, e, n) {
          var i = this.model,
            r = i.getCell(t.data.id),
            o = t.event;
          if ((f3.isAddEvent(o) && e) || (f3.isRemoveEvent(o) && !e))
            r && r.remove(n);
          else if ((f3.isAddEvent(o) && !e) || (f3.isRemoveEvent(o) && e))
            (s = t.data).node
              ? i.addNode(s.props, n)
              : s.edge && i.addEdge(s.props, n);
          else if (f3.isChangeEvent(o)) {
            var s,
              a = (s = t.data).key;
            if (a && r) {
              var l = e ? s.prev[a] : s.next[a];
              r.prop(a, l, n);
            }
          } else {
            var u = this.options.executeCommand;
            u && oZ(u, this, t, e, n);
          }
        }),
        (r.prototype.addCommand = function (e, n) {
          if (!this.freezed && !this.disabled) {
            var i = n,
              r = i.options || {};
            if (
              !r.dryrun &&
              !(
                (f3.isAddEvent(e) && this.options.ignoreAdd) ||
                (f3.isRemoveEvent(e) && this.options.ignoreRemove) ||
                (f3.isChangeEvent(e) && this.options.ignoreChange)
              )
            ) {
              var o = this.options.beforeAddCommand;
              if (null == o || !1 !== oZ(o, this, e, n)) {
                'cell:change:*' === e && (e = 'cell:change:' + i.key);
                var s,
                  a = i.cell,
                  l = t.Model.isModel(a);
                if (this.batchCommands) {
                  s = this.batchCommands[Math.max(this.lastBatchIndex, 0)];
                  var u = (l && !s.modelChange) || s.data.id !== a.id,
                    c = s.event !== e;
                  if (this.lastBatchIndex >= 0 && (u || c)) {
                    var h = this.batchCommands.findIndex(function (t) {
                      return (
                        ((l && t.modelChange) || t.data.id === a.id) &&
                        t.event === e
                      );
                    });
                    h < 0 || f3.isAddEvent(e) || f3.isRemoveEvent(e)
                      ? (s = this.createCommand({ batch: !0 }))
                      : ((s = this.batchCommands[h]),
                        this.batchCommands.splice(h, 1)),
                      this.batchCommands.push(s),
                      (this.lastBatchIndex = this.batchCommands.length - 1);
                  }
                } else s = this.createCommand({ batch: !1 });
                if (f3.isAddEvent(e) || f3.isRemoveEvent(e)) {
                  var p = s.data;
                  return (
                    (s.event = e),
                    (s.options = r),
                    (p.id = a.id),
                    (p.props = ib(a.toJSON())),
                    a.isEdge() ? (p.edge = !0) : a.isNode() && (p.node = !0),
                    this.push(s, r)
                  );
                }
                if (f3.isChangeEvent(e)) {
                  var d = n.key;
                  return (
                    (p = s.data),
                    (s.batch && s.event) ||
                      ((s.event = e),
                      (s.options = r),
                      (p.key = d),
                      null == p.prev && (p.prev = {}),
                      (p.prev[d] = iC(a.previous(d))),
                      l ? (s.modelChange = !0) : (p.id = a.id)),
                    null == p.next && (p.next = {}),
                    (p.next[d] = iC(a.prop(d))),
                    this.push(s, r)
                  );
                }
                var f = this.options.afterAddCommand;
                f && oZ(f, this, e, n, s), this.push(s, r);
              }
            }
          }
        }),
        (r.prototype.initBatchCommand = function (t) {
          this.freezed ||
            (this.batchCommands
              ? (this.batchLevel += 1)
              : ((this.batchCommands = [this.createCommand({ batch: !0 })]),
                (this.batchLevel = 0),
                (this.lastBatchIndex = -1)));
        }),
        (r.prototype.storeBatchCommand = function (t) {
          if (!this.freezed) {
            if (this.batchCommands && this.batchLevel <= 0) {
              var e = this.filterBatchCommand(this.batchCommands);
              e.length > 0 &&
                ((this.redoStack = []),
                this.undoStack.push(e),
                this.consolidateCommands(),
                this.notify('add', e, t)),
                (this.batchCommands = null),
                (this.lastBatchIndex = -1),
                (this.batchLevel = 0);
            } else
              this.batchCommands &&
                this.batchLevel > 0 &&
                (this.batchLevel -= 1);
          }
        }),
        (r.prototype.filterBatchCommand = function (t) {
          for (
            var e = t.slice(),
              n = [],
              i = function () {
                var t = e.shift(),
                  i = t.event,
                  r = t.data.id;
                if (null != i && (null != r || t.modelChange)) {
                  if (f3.isAddEvent(i)) {
                    var o = e.findIndex(function (t) {
                      return f3.isRemoveEvent(t.event) && t.data.id === r;
                    });
                    if (o >= 0)
                      return (
                        (e = e.filter(function (t, e) {
                          return o < e || t.data.id !== r;
                        })),
                        'continue'
                      );
                  } else if (f3.isRemoveEvent(i)) {
                    var s = e.findIndex(function (t) {
                      return f3.isAddEvent(t.event) && t.data.id === r;
                    });
                    if (s >= 0) return e.splice(s, 1), 'continue';
                  } else if (f3.isChangeEvent(i)) {
                    var a,
                      l,
                      u = t.data;
                    if (((a = u.prev), i2(a, (l = u.next)))) return 'continue';
                  }
                  n.push(t);
                }
              };
            e.length > 0;

          )
            i();
          return n;
        }),
        (r.prototype.notify = function (t, e, n) {
          var i = null == e ? null : Array.isArray(e) ? e : [e];
          this.emit(t, { cmds: i, options: n }),
            this.emit('change', { cmds: i, options: n });
        }),
        (r.prototype.push = function (t, e) {
          (this.redoStack = []),
            t.batch
              ? ((this.lastBatchIndex = Math.max(this.lastBatchIndex, 0)),
                this.emit('batch', { cmd: t, options: e }))
              : (this.undoStack.push(t),
                this.consolidateCommands(),
                this.notify('add', t, e));
        }),
        (r.prototype.consolidateCommands = function () {
          var t,
            e = this.undoStack[this.undoStack.length - 1],
            n = this.undoStack[this.undoStack.length - 2];
          if (Array.isArray(e)) {
            var i = new Set(
              e.map(function (t) {
                return t.event;
              })
            );
            if (
              2 === i.size &&
              i.has('cell:change:parent') &&
              i.has('cell:change:children') &&
              e.every(function (t) {
                var e;
                return (
                  t.batch &&
                  (null === (e = t.options) || void 0 === e ? void 0 : e.ui)
                );
              }) &&
              Array.isArray(n) &&
              1 === n.length
            ) {
              var r = n[0];
              'cell:change:position' === r.event &&
                (null === (t = r.options) || void 0 === t ? void 0 : t.ui) &&
                (n.push.apply(n, e), this.undoStack.pop());
            }
          }
        }),
        o([t.Basecoat.dispose()], r.prototype, 'dispose', null),
        r
      );
    })(t.Basecoat);
  (fM = fF || (fF = {})),
    (fD = (function (e) {
      function i(t) {
        var n = e.call(this) || this;
        return (
          (n.map = {}),
          (n.command = t.history),
          (n.cancelInvalid = !1 !== t.cancelInvalid),
          n.command.on('add', n.onCommandAdded, n),
          n
        );
      }
      return (
        n(i, e),
        (i.prototype.onCommandAdded = function (t) {
          var e = this,
            n = t.cmds;
          return Array.isArray(n)
            ? n.every(function (t) {
                return e.isValidCommand(t);
              })
            : this.isValidCommand(n);
        }),
        (i.prototype.isValidCommand = function (t) {
          if (t.options && !1 === t.options.validation) return !0;
          var e = (t.event && this.map[t.event]) || [],
            n = null;
          return (
            e.forEach(function (e) {
              var i = 0,
                r = function (o) {
                  var s = e[i];
                  i += 1;
                  try {
                    if (!s) return void (n = o);
                    s(o, t, r);
                  } catch (a) {
                    r(a);
                  }
                };
              r(n);
            }),
            !n ||
              (this.cancelInvalid && this.command.cancel(),
              this.emit('invalid', { err: n }),
              !1)
          );
        }),
        (i.prototype.validate = function (t) {
          for (var e = this, n = [], i = 1; i < arguments.length; i++)
            n[i - 1] = arguments[i];
          var r = Array.isArray(t) ? t : t.split(/\s+/);
          return (
            n.forEach(function (t) {
              if ('function' != typeof t)
                throw Error(r.join(' ') + ' requires callback functions.');
            }),
            r.forEach(function (t) {
              null == e.map[t] && (e.map[t] = []), e.map[t].push(n);
            }),
            this
          );
        }),
        (i.prototype.dispose = function () {
          this.command.off('add', this.onCommandAdded, this);
        }),
        o([t.Basecoat.dispose()], i.prototype, 'dispose', null),
        i
      );
    })(t.Basecoat)),
    (fM.Validator = fD),
    ((f2 = f3 || (f3 = {})).isAddEvent = function (t) {
      return 'cell:added' === t;
    }),
    (f2.isRemoveEvent = function (t) {
      return 'cell:removed' === t;
    }),
    (f2.isChangeEvent = function (t) {
      return null != t && t.startsWith('cell:change:');
    }),
    (f2.getOptions = function (t) {
      t.graph;
      var e = r(t, ['graph']),
        n = ['cell:added', 'cell:removed', 'cell:change:*'],
        o = ['batch:start', 'batch:stop'],
        s = t.eventNames
          ? t.eventNames.filter(function (t) {
              return !(f2.isChangeEvent(t) || n.includes(t) || o.includes(t));
            })
          : n;
      return i(i({}, e), {
        eventNames: s,
        applyOptionsList: t.applyOptionsList || ['propertyPath'],
        revertOptionsList: t.revertOptionsList || ['propertyPath'],
      });
    }),
    (f2.sortBatchCommands = function (t) {
      for (var e = [], n = 0, i = t.length; n < i; n += 1) {
        var r = t[n],
          o = null;
        if (f2.isAddEvent(r.event)) {
          for (var s = r.data.id, a = 0; a < n; a += 1)
            if (t[a].data.id === s) {
              o = a;
              break;
            }
        }
        null !== o ? e.splice(o, 0, r) : e.push(r);
      }
      return e;
    });
  var fz,
    fB = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'widgetOptions', {
          get: function () {
            return this.options.minimap;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.init = function () {
          this.widget = this.graph.hook.createMiniMap();
        }),
        (e.prototype.dispose = function () {
          this.widget && this.widget.dispose();
        }),
        o([dH.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(dH),
    fO = { exports: {} };
  (fz = fO),
    (function (t, e, n) {
      if (t) {
        for (
          var i,
            r = {
              8: 'backspace',
              9: 'tab',
              13: 'enter',
              16: 'shift',
              17: 'ctrl',
              18: 'alt',
              20: 'capslock',
              27: 'esc',
              32: 'space',
              33: 'pageup',
              34: 'pagedown',
              35: 'end',
              36: 'home',
              37: 'left',
              38: 'up',
              39: 'right',
              40: 'down',
              45: 'ins',
              46: 'del',
              91: 'meta',
              93: 'meta',
              224: 'meta',
            },
            o = {
              106: '*',
              107: '+',
              109: '-',
              110: '.',
              111: '/',
              186: ';',
              187: '=',
              188: ',',
              189: '-',
              190: '.',
              191: '/',
              192: '`',
              219: '[',
              220: '\\',
              221: ']',
              222: "'",
            },
            s = {
              '~': '`',
              '!': '1',
              '@': '2',
              '#': '3',
              $: '4',
              '%': '5',
              '^': '6',
              '&': '7',
              '*': '8',
              '(': '9',
              ')': '0',
              _: '-',
              '+': '=',
              ':': ';',
              '"': "'",
              '<': ',',
              '>': '.',
              '?': '/',
              '|': '\\',
            },
            a = {
              option: 'alt',
              command: 'meta',
              return: 'enter',
              escape: 'esc',
              plus: '+',
              mod: /Mac|iPod|iPhone|iPad/.test(navigator.platform)
                ? 'meta'
                : 'ctrl',
            },
            l = 1;
          l < 20;
          ++l
        )
          r[111 + l] = 'f' + l;
        for (l = 0; l <= 9; ++l) r[l + 96] = l.toString();
        (d.prototype.bind = function (t, e, n) {
          return (
            (t = t instanceof Array ? t : [t]),
            this._bindMultiple.call(this, t, e, n),
            this
          );
        }),
          (d.prototype.unbind = function (t, e) {
            return this.bind.call(this, t, function () {}, e);
          }),
          (d.prototype.trigger = function (t, e) {
            return (
              this._directMap[t + ':' + e] &&
                this._directMap[t + ':' + e]({}, t),
              this
            );
          }),
          (d.prototype.reset = function () {
            var t = this;
            return (t._callbacks = {}), (t._directMap = {}), t;
          }),
          (d.prototype.stopCallback = function (t, n) {
            if (
              (' ' + n.className + ' ').indexOf(' mousetrap ') > -1 ||
              (function t(n, i) {
                return null !== n && n !== e && (n === i || t(n.parentNode, i));
              })(n, this.target)
            )
              return !1;
            if ('composedPath' in t && 'function' == typeof t.composedPath) {
              var i = t.composedPath()[0];
              i !== t.target && (n = i);
            }
            return (
              'INPUT' == n.tagName ||
              'SELECT' == n.tagName ||
              'TEXTAREA' == n.tagName ||
              n.isContentEditable
            );
          }),
          (d.prototype.handleKey = function () {
            return this._handleKey.apply(this, arguments);
          }),
          (d.addKeycodes = function (t) {
            for (var e in t) t.hasOwnProperty(e) && (r[e] = t[e]);
            i = null;
          }),
          (d.init = function () {
            var t = d(e);
            for (var n in t)
              '_' !== n.charAt(0) &&
                (d[n] = (function (e) {
                  return function () {
                    return t[e].apply(t, arguments);
                  };
                })(n));
          }),
          d.init(),
          (t.Mousetrap = d),
          fz.exports && (fz.exports = d);
      }
      function u(t, e, n) {
        t.addEventListener
          ? t.addEventListener(e, n, !1)
          : t.attachEvent('on' + e, n);
      }
      function c(t) {
        if ('keypress' == t.type) {
          var e = String.fromCharCode(t.which);
          return t.shiftKey || (e = e.toLowerCase()), e;
        }
        return r[t.which]
          ? r[t.which]
          : o[t.which]
          ? o[t.which]
          : String.fromCharCode(t.which).toLowerCase();
      }
      function h(t) {
        return 'shift' == t || 'ctrl' == t || 'alt' == t || 'meta' == t;
      }
      function p(t, e) {
        var n,
          o,
          l,
          u,
          c,
          p,
          d,
          f = [];
        for (
          u =
            '+' === (d = t)
              ? ['+']
              : (d = d.replace(/\+{2}/g, '+plus')).split('+'),
            p = 0;
          p < u.length;
          ++p
        )
          a[(c = u[p])] && (c = a[c]),
            e && 'keypress' != e && s[c] && ((c = s[c]), f.push('shift')),
            h(c) && f.push(c);
        return {
          key: c,
          modifiers: f,
          action: (e =
            ((n = c),
            (o = f),
            (l = e) ||
              (l = (function () {
                if (!i)
                  for (var t in ((i = {}), r))
                    (t > 95 && t < 112) ||
                      (r.hasOwnProperty(t) && (i[r[t]] = t));
                return i;
              })()[n]
                ? 'keydown'
                : 'keypress'),
            'keypress' == l && o.length && (l = 'keydown'),
            l)),
        };
      }
      function d(t) {
        var n = this;
        if (((t = t || e), !(n instanceof d))) return new d(t);
        (n.target = t), (n._callbacks = {}), (n._directMap = {});
        var i,
          r = {},
          o = !1,
          s = !1,
          a = !1;
        function l(t) {
          t = t || {};
          var e,
            n = !1;
          for (e in r) t[e] ? (n = !0) : (r[e] = 0);
          n || (a = !1);
        }
        function f(t, e, i, o, s, a) {
          var l,
            u,
            c,
            p,
            d = [],
            f = i.type;
          if (!n._callbacks[t]) return [];
          for (
            'keyup' == f && h(t) && (e = [t]), l = 0;
            l < n._callbacks[t].length;
            ++l
          )
            if (
              ((u = n._callbacks[t][l]),
              (o || !u.seq || r[u.seq] == u.level) &&
                f == u.action &&
                (('keypress' == f && !i.metaKey && !i.ctrlKey) ||
                  ((c = e),
                  (p = u.modifiers),
                  c.sort().join(',') === p.sort().join(','))))
            ) {
              var g = !o && u.combo == s,
                $ = o && u.seq == o && u.level == a;
              (g || $) && n._callbacks[t].splice(l, 1), d.push(u);
            }
          return d;
        }
        function g(t, e, i, r) {
          var o, s;
          n.stopCallback(e, e.target || e.srcElement, i, r) ||
            (!1 === t(e, i) &&
              ((o = e).preventDefault
                ? o.preventDefault()
                : (o.returnValue = !1),
              (s = e).stopPropagation
                ? s.stopPropagation()
                : (s.cancelBubble = !0)));
        }
        function $(t) {
          'number' != typeof t.which && (t.which = t.keyCode);
          var e,
            i,
            r = c(t);
          r &&
            ('keyup' != t.type || o !== r
              ? n.handleKey(
                  r,
                  ((i = []),
                  (e = t).shiftKey && i.push('shift'),
                  e.altKey && i.push('alt'),
                  e.ctrlKey && i.push('ctrl'),
                  e.metaKey && i.push('meta'),
                  i),
                  t
                )
              : (o = !1));
        }
        function v(t, e, s, u, h) {
          n._directMap[t + ':' + s] = e;
          var d,
            $ = (t = t.replace(/\s+/g, ' ')).split(' ');
          $.length > 1
            ? (function t(e, n, s, u) {
                function h(t) {
                  return function () {
                    (a = t), ++r[e], clearTimeout(i), (i = setTimeout(l, 1e3));
                  };
                }
                function d(t) {
                  g(s, t, e), 'keyup' !== u && (o = c(t)), setTimeout(l, 10);
                }
                r[e] = 0;
                for (var f = 0; f < n.length; ++f) {
                  var $ = f + 1 === n.length ? d : h(u || p(n[f + 1]).action);
                  v(n[f], $, u, e, f);
                }
              })(t, $, e, s)
            : ((d = p(t, s)),
              (n._callbacks[d.key] = n._callbacks[d.key] || []),
              f(d.key, d.modifiers, { type: d.action }, u, t, h),
              n._callbacks[d.key][u ? 'unshift' : 'push']({
                callback: e,
                modifiers: d.modifiers,
                action: d.action,
                seq: u,
                level: h,
                combo: t,
              }));
        }
        (n._handleKey = function (t, e, n) {
          var i,
            r = f(t, e, n),
            o = {},
            u = 0,
            c = !1;
          for (i = 0; i < r.length; ++i)
            r[i].seq && (u = Math.max(u, r[i].level));
          for (i = 0; i < r.length; ++i)
            if (r[i].seq) {
              if (r[i].level != u) continue;
              (c = !0),
                (o[r[i].seq] = 1),
                g(r[i].callback, n, r[i].combo, r[i].seq);
            } else c || g(r[i].callback, n, r[i].combo);
          var p = 'keypress' == n.type && s;
          n.type != a || h(t) || p || l(o), (s = c && 'keydown' == n.type);
        }),
          (n._bindMultiple = function (t, e, n) {
            for (var i = 0; i < t.length; ++i) v(t[i], e, n);
          }),
          u(t, 'keypress', $),
          u(t, 'keydown', $),
          u(t, 'keyup', $);
      }
    })(
      'undefined' != typeof window ? window : null,
      'undefined' != typeof window ? document : null
    );
  var fV,
    fR = fO.exports,
    fI = (function (e) {
      function i(t) {
        var n = e.call(this) || this;
        n.options = t;
        var r = n.graph.scroller.widget;
        return (
          (n.container = r ? r.container : n.graph.container),
          t.global
            ? (n.target = document)
            : ((n.target = n.container),
              n.disabled || n.target.setAttribute('tabindex', '-1'),
              n.graph.on('cell:mouseup', n.focus, n),
              n.graph.on('blank:mouseup', n.focus, n)),
          (n.mousetrap = i.createMousetrap(n)),
          n
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'graph', {
          get: function () {
            return this.options.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'disabled', {
          get: function () {
            return !0 !== this.options.enabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.enable = function () {
          this.disabled &&
            ((this.options.enabled = !0),
            (this.graph.options.keyboard.enabled = !0),
            this.target instanceof HTMLElement &&
              this.target.setAttribute('tabindex', '-1'));
        }),
        (i.prototype.disable = function () {
          this.disabled ||
            ((this.options.enabled = !1),
            (this.graph.options.keyboard.enabled = !1),
            this.target instanceof HTMLElement &&
              this.target.removeAttribute('tabindex'));
        }),
        (i.prototype.on = function (t, e, n) {
          this.mousetrap.bind(this.getKeys(t), e, n);
        }),
        (i.prototype.off = function (t, e) {
          this.mousetrap.unbind(this.getKeys(t), e);
        }),
        (i.prototype.focus = function (t) {
          this.isInputEvent(t.e) || this.target.focus({ preventScroll: !0 });
        }),
        (i.prototype.getKeys = function (t) {
          var e = this;
          return (Array.isArray(t) ? t : [t]).map(function (t) {
            return e.formatkey(t);
          });
        }),
        (i.prototype.formatkey = function (t) {
          var e = t
              .toLowerCase()
              .replace(/\s/g, '')
              .replace('delete', 'del')
              .replace('cmd', 'command'),
            n = this.options.format;
          return n ? oZ(n, this.graph, e) : e;
        }),
        (i.prototype.isGraphEvent = function (t) {
          var e = t.srcElement || t.target,
            n = t.currentTarget;
          return (
            !!e &&
            (e === this.target ||
              n === this.target ||
              e === document.body ||
              sP(this.container, e))
          );
        }),
        (i.prototype.isInputEvent = function (t) {
          var e,
            n = t.target;
          return ['input', 'textarea'].includes(
            null === (e = null == n ? void 0 : n.tagName) || void 0 === e
              ? void 0
              : e.toLowerCase()
          );
        }),
        (i.prototype.isEnabledForEvent = function (t) {
          var e = !this.disabled && this.isGraphEvent(t),
            n = this.isInputEvent(t);
          if (e) {
            var i = t.keyCode || t.which;
            if (n && (8 === i || 46 === i)) return !1;
            if (this.options.guard)
              return oZ(this.options.guard, this.graph, t);
          }
          return e;
        }),
        (i.prototype.dispose = function () {
          this.mousetrap.reset();
        }),
        o([t.Disposable.dispose()], i.prototype, 'dispose', null),
        i
      );
    })(t.Disposable);
  (fV = fI || (fI = {})).createMousetrap = function (t) {
    var e = new fR(t.target),
      n = e.stopCallback;
    return (
      (e.stopCallback = function (i, r, o) {
        return !t.isEnabledForEvent(i) || (!!n && n.call(e, i, r, o));
      }),
      e
    );
  };
  var f8,
    fG = (function (e) {
      function i(t) {
        var n = e.call(this) || this;
        (n.options = t), (n.cumulatedFactor = 1);
        var i = n.graph.scroller.widget;
        return (
          (n.container = i ? i.container : n.graph.container),
          (n.target = n.options.global ? document : n.container),
          (n.mousewheelHandle = new lw(
            n.target,
            n.onMouseWheel.bind(n),
            n.allowMouseWheel.bind(n)
          )),
          n.options.enabled && n.enable(!0),
          n
        );
      }
      return (
        n(i, e),
        Object.defineProperty(i.prototype, 'graph', {
          get: function () {
            return this.options.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, 'disabled', {
          get: function () {
            return !0 !== this.options.enabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (i.prototype.enable = function (t) {
          (this.disabled || t) &&
            ((this.options.enabled = !0),
            (this.graph.options.mousewheel.enabled = !0),
            this.mousewheelHandle.enable());
        }),
        (i.prototype.disable = function () {
          this.disabled ||
            ((this.options.enabled = !1),
            (this.graph.options.mousewheel.enabled = !1),
            this.mousewheelHandle.disable());
        }),
        (i.prototype.allowMouseWheel = function (t) {
          var e = t.originalEvent || t,
            n = this.options.guard;
          return (
            (null == n || n.call(this.graph, e)) &&
            fE.isMatch(e, this.options.modifiers)
          );
        }),
        (i.prototype.onMouseWheel = function (t) {
          var e = t.originalEvent || t,
            n = this.options.guard;
          if (
            (null == n || n.call(this.graph, e)) &&
            fE.isMatch(e, this.options.modifiers)
          ) {
            var i = this.options.factor || 1.2;
            null == this.currentScale &&
              ((this.startPos = { x: t.clientX, y: t.clientY }),
              (this.currentScale = this.graph.scroller.widget
                ? this.graph.scroller.widget.zoom()
                : this.graph.transform.getScale().sx)),
              t.deltaY < 0
                ? this.currentScale < 0.15
                  ? (this.cumulatedFactor =
                      (this.currentScale + 0.01) / this.currentScale)
                  : (this.cumulatedFactor =
                      Math.round(this.currentScale * i * 20) /
                      20 /
                      this.currentScale)
                : this.currentScale <= 0.15
                ? (this.cumulatedFactor =
                    (this.currentScale - 0.01) / this.currentScale)
                : (this.cumulatedFactor =
                    Math.round(this.currentScale * (1 / i) * 20) /
                    20 /
                    this.currentScale),
              (this.cumulatedFactor = Math.max(
                0.01,
                Math.min(this.currentScale * this.cumulatedFactor, 160) /
                  this.currentScale
              ));
            var r = this.graph.scroller.widget,
              o = this.currentScale,
              s = this.graph.transform.clampScale(o * this.cumulatedFactor);
            if (
              (s = n2(
                s,
                this.options.minScale || Number.MIN_SAFE_INTEGER,
                this.options.maxScale || Number.MAX_SAFE_INTEGER
              )) !== o
            ) {
              if (r) {
                if (this.options.zoomAtMousePosition) {
                  var a = this.graph.coord.clientToLocalPoint(this.startPos);
                  r.zoom(s, { absolute: !0, center: a.clone() });
                } else r.zoom(s, { absolute: !0 });
              } else if (this.options.zoomAtMousePosition) {
                var l = this.graph.coord.clientToGraphPoint(this.startPos);
                this.graph.transform.zoom(s, {
                  absolute: !0,
                  center: l.clone(),
                  ui: !0,
                });
              } else this.graph.transform.zoom(s, { absolute: !0, ui: !0 });
            }
            (this.currentScale = null), (this.cumulatedFactor = 1);
          }
        }),
        (i.prototype.dispose = function () {
          this.disable();
        }),
        o([t.Disposable.dispose()], i.prototype, 'dispose', null),
        i
      );
    })(t.Disposable),
    fj = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(r, e),
        (r.prototype.show = function (t) {
          var e = this;
          void 0 === t && (t = {});
          var n = i(i({}, r.defaultOptions), t),
            o = this.createPrintPages(n);
          n.ready(
            o,
            function (t) {
              return e.showPrintWindow(t, n);
            },
            { sheetSize: this.getSheetSize(n) }
          );
        }),
        Object.defineProperty(r.prototype, 'className', {
          get: function () {
            return this.view.prefixClassName('graph-print');
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.showPrintWindow = function (t, e) {
          var n = this;
          if (t) {
            var i = d(document.body),
              r = d(this.view.container),
              o = this.view.prefixClassName('graph-printing');
            i.addClass(o);
            var s = r.children().detach();
            t.forEach(function (t) {
              t.removeClass(n.className + '-preview')
                .addClass(n.className + '-ready')
                .appendTo(i);
            });
            var a = !1,
              l = function () {
                a ||
                  ((a = !0),
                  i.removeClass(o),
                  t.forEach(function (t) {
                    return t.remove();
                  }),
                  r.append(s),
                  d('#' + n.styleSheetId).remove(),
                  n.graph.trigger('after:print', e),
                  d(window).off('afterprint', l));
              };
            d(window).one('afterprint', l), setTimeout(l, 200), window.print();
          }
        }),
        (r.prototype.createPrintPage = function (e, n) {
          this.graph.trigger('before:print', n);
          var i = d('<div/>').addClass(this.className),
            r = d('<div/>')
              .addClass(this.view.prefixClassName('graph-print-inner'))
              .css('position', 'relative');
          n.size && i.addClass(this.className + '-size-' + n.size);
          var o = t.Vector.create(this.view.svg).clone(),
            s = o.findOne('.' + this.view.prefixClassName('graph-svg-stage'));
          r.append(o.node);
          var a = this.getSheetSize(n),
            l = this.graph.transform.getGraphArea(),
            u = this.graph.transform.getScale(),
            c = this.graph.translate(),
            h = a9().translate(c.tx / u.sx, c.ty / u.sy),
            p = this.getPageInfo(l, e, a),
            f = p.scale,
            g = p.bbox;
          return (
            r.css({ left: 0, top: 0 }),
            o.attr({
              width: g.width * f,
              height: g.height * f,
              style: 'position:relative',
              viewBox: [g.x, g.y, g.width, g.height].join(' '),
            }),
            s.attr('transform', aY(h)),
            i.append(r),
            i.addClass(this.className + '-preview'),
            { $page: i, sheetSize: a }
          );
        }),
        (r.prototype.createPrintPages = function (t) {
          var e,
            n = this,
            i = this.getPrintArea(t),
            r = [];
          if (t.page) {
            var o = this.getPageSize(i, t.page);
            this.getPageAreas(i, o).forEach(function (i) {
              (e = n.createPrintPage(i, t)), r.push(e.$page);
            });
          } else (e = this.createPrintPage(i, t)), r.push(e.$page);
          if (e) {
            var s = {
              width: e.sheetSize.cssWidth,
              height: e.sheetSize.cssHeight,
            };
            this.updatePrintStyle(s, t);
          }
          return r;
        }),
        Object.defineProperty(r.prototype, 'styleSheetId', {
          get: function () {
            return this.view.prefixClassName('graph-print-style');
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.updatePrintStyle = function (t, e) {
          var n = Object.keys(t).reduce(function (e, n) {
              return e + ' ' + n + ':' + t[n] + ';';
            }, ''),
            i = oX(e.margin),
            r = e.marginUnit || '',
            o = e.sheetUnit || '',
            s =
              '\n      @media print {\n        .' +
              this.className +
              '.' +
              this.className +
              '-ready {\n          ' +
              n +
              '\n        }\n\n        @page {\n          margin:\n          ' +
              [i.top + r, i.right + r, i.bottom + r, i.left + r].join(' ') +
              ';\n          size: ' +
              (e.sheet.width + o) +
              ' ' +
              (e.sheet.height + o) +
              ';\n\n        .' +
              this.className +
              '.' +
              this.className +
              '-preview {\n          ' +
              n +
              '\n        }\n      }',
            a = this.styleSheetId,
            l = d('#' + a);
          l.length
            ? l.html(s)
            : d('head').append(
                '\'<style type="text/css" id="' + a + '">' + s + "</style>'"
              );
        }),
        (r.prototype.getPrintArea = function (t) {
          var e = t.area;
          if (!e) {
            var n = oX(t.padding);
            e = this.graph
              .getContentArea()
              .moveAndExpand({
                x: -n.left,
                y: -n.top,
                width: n.left + n.right,
                height: n.top + n.bottom,
              });
          }
          return e;
        }),
        (r.prototype.getPageSize = function (t, e) {
          if ('object' == typeof e) {
            var n = e,
              i = { width: n.width, height: n.height };
            return (
              null == i.width &&
                (i.width = Math.ceil(t.width / (n.columns || 1))),
              null == i.height &&
                (i.height = Math.ceil(t.height / (n.rows || 1))),
              i
            );
          }
          return { width: t.width, height: t.height };
        }),
        (r.prototype.getPageAreas = function (e, n) {
          for (
            var i = [], r = n.width, o = n.height, s = 0, a = 0;
            s < e.height && a < 200;
            s += o, a += 1
          )
            for (var l = 0, u = 0; l < e.width && u < 200; l += r, u += 1)
              i.push(new t.Rectangle(e.x + l, e.y + s, r, o));
          return i;
        }),
        (r.prototype.getSheetSize = function (e) {
          var n = e.sheet,
            i = oX(e.margin),
            r = e.marginUnit || '',
            o = e.sheetUnit || '',
            s = 'calc(' + n.width + o + ' - ' + (i.left + i.right) + r + ')',
            a = 'calc(' + n.height + o + ' - ' + (i.top + i.bottom) + r + ')',
            l = t.Unit.measure(s, a);
          return {
            cssWidth: s,
            cssHeight: a,
            width: l.width,
            height: l.height,
          };
        }),
        (r.prototype.getPageInfo = function (e, n, i) {
          var r = new t.Rectangle(n.x - e.x, n.y - e.y, n.width, n.height),
            o = r.width / r.height,
            s = i.width / i.height;
          return {
            bbox: r,
            scale: s < o ? i.width / r.width : i.height / r.height,
            fitHorizontal: s < o,
          };
        }),
        (r.prototype.dispose = function () {}),
        o([dH.dispose()], r.prototype, 'dispose', null),
        r
      );
    })(dH);
  (f8 = fj || (fj = {})).defaultOptions = {
    page: !1,
    sheet: { width: 210, height: 297 },
    sheetUnit: 'mm',
    margin: 0.4,
    marginUnit: 'in',
    padding: 5,
    ready: function (t, e) {
      return e(t);
    },
  };
  var fH,
    fU,
    fq = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(r, e),
        (r.prototype.toSVG = function (e, n) {
          var i = this;
          void 0 === n && (n = {}), this.graph.trigger('before:export', n);
          var r = this.view.svg,
            o = t.Vector.create(r).clone(),
            s = o.node,
            a = o.findOne('.' + this.view.prefixClassName('graph-svg-stage')),
            l =
              n.viewBox || this.graph.graphToLocal(this.graph.getContentBBox()),
            u = n.preserveDimensions;
          if (u) {
            var c = 'boolean' == typeof u ? l : u;
            o.attr({ width: c.width, height: c.height });
          }
          if (
            (o
              .removeAttribute('style')
              .attr('viewBox', [l.x, l.y, l.width, l.height].join(' ')),
            a.removeAttribute('transform'),
            !1 !== n.copyStyles)
          ) {
            for (
              var h = r.ownerDocument,
                p = Array.from(r.querySelectorAll('*')),
                f = Array.from(s.querySelectorAll('*')),
                g = h.styleSheets.length,
                $ = [],
                v = g - 1;
              v >= 0;
              v -= 1
            )
              ($[v] = h.styleSheets[v]), (h.styleSheets[v].disabled = !0);
            var y = {};
            p.forEach(function (t, e) {
              var n = window.getComputedStyle(t, null),
                i = {};
              Object.keys(n).forEach(function (t) {
                i[t] = n.getPropertyValue(t);
              }),
                (y[e] = i);
            }),
              g !== h.styleSheets.length &&
                $.forEach(function (t, e) {
                  h.styleSheets[e] = t;
                });
            for (var m = 0; m < g; m += 1) h.styleSheets[m].disabled = !1;
            var _ = {};
            p.forEach(function (t, e) {
              var n = window.getComputedStyle(t, null),
                i = y[e],
                r = {};
              Object.keys(n).forEach(function (t) {
                o1(t) ||
                  n.getPropertyValue(t) === i[t] ||
                  (r[t] = n.getPropertyValue(t));
              }),
                (_[e] = r);
            }),
              f.forEach(function (t, e) {
                d(t).css(_[e]);
              });
          }
          var C = n.stylesheet;
          if ('string' == typeof C) {
            var b = r.ownerDocument.implementation
              .createDocument(null, 'xml', null)
              .createCDATASection(C);
            o.prepend(t.Vector.create('style', { type: 'text/css' }, [b]));
          }
          var x = function () {
            var t = n.beforeSerialize;
            if ('function' == typeof t) {
              var r = oZ(t, i.graph, s);
              r instanceof SVGSVGElement && (s = r);
            }
            var o = new XMLSerializer()
              .serializeToString(s)
              .replace(/&nbsp;/g, ' ');
            i.graph.trigger('after:export', n), e(o);
          };
          n.serializeImages
            ? Promise.all(
                o.find('image').map(function (e) {
                  return new Promise(function (n) {
                    var i = e.attr('xlink:href') || e.attr('href');
                    t.DataUri.imageToDataUri(i, function (t, i) {
                      !t && i && e.attr('xlink:href', i), n();
                    });
                  });
                })
              ).then(x)
            : x();
        }),
        (r.prototype.toDataURL = function (e, n) {
          var r = n.viewBox || this.graph.getContentBBox(),
            o = oX(n.padding);
          n.width &&
            n.height &&
            (o.left + o.right >= n.width && (o.left = o.right = 0),
            o.top + o.bottom >= n.height && (o.top = o.bottom = 0));
          var s = new t.Rectangle(
            -o.left,
            -o.top,
            o.left + o.right,
            o.top + o.bottom
          );
          if (n.width && n.height) {
            var a = r.width + o.left + o.right,
              l = r.height + o.top + o.bottom;
            s.scale(a / n.width, l / n.height);
          }
          r = t.Rectangle.create(r).moveAndExpand(s);
          var u =
              'number' == typeof n.width && 'number' == typeof n.height
                ? { width: n.width, height: n.height }
                : r,
            c = n.ratio ? parseFloat(n.ratio) : 1;
          (Number.isFinite(c) && 0 !== c) || (c = 1);
          var h = {
              width: Math.max(Math.round(u.width * c), 1),
              height: Math.max(Math.round(u.height * c), 1),
            },
            p = document.createElement('canvas'),
            d = p.getContext('2d');
          (p.width = h.width), (p.height = h.height);
          var f = h.width - 1,
            g = h.height - 1;
          (d.fillStyle = 'rgb(1,1,1)'), d.fillRect(f, g, 1, 1);
          var $ = d.getImageData(f, g, 1, 1).data;
          if (1 !== $[0] || 1 !== $[1] || 1 !== $[2])
            throw Error('size exceeded');
          var v = new Image();
          (v.onload = function () {
            var t = document.createElement('canvas');
            (t.width = h.width), (t.height = h.height);
            var i = t.getContext('2d');
            (i.fillStyle = n.backgroundColor || 'white'),
              i.fillRect(0, 0, h.width, h.height);
            try {
              i.drawImage(v, 0, 0, h.width, h.height);
              var r = t.toDataURL(n.type, n.quality);
              e(r);
            } catch (o) {}
          }),
            this.toSVG(function (t) {
              v.src = 'data:image/svg+xml,' + encodeURIComponent(t);
            }, i(i({}, n), {
              viewBox: r,
              serializeImages: !0,
              preserveDimensions: i({}, h),
            }));
        }),
        (r.prototype.toPNG = function (t, e) {
          void 0 === e && (e = {}),
            this.toDataURL(t, i(i({}, e), { type: 'image/png' }));
        }),
        (r.prototype.toJPEG = function (t, e) {
          void 0 === e && (e = {}),
            this.toDataURL(t, i(i({}, e), { type: 'image/jpeg' }));
        }),
        r
      );
    })(dH),
    f9 = (function (t) {
      function e() {
        var e = (null !== t && t.apply(this, arguments)) || this;
        return (e.widgets = new Map()), e;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'isSelectionEnabled', {
          get: function () {
            return !0 === this.options.selecting.enabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.init = function () {
          this.startListening();
        }),
        (e.prototype.startListening = function () {
          this.graph.on('node:mouseup', this.onNodeMouseUp, this),
            this.graph.on('node:selected', this.onNodeSelected, this),
            this.graph.on('node:unselected', this.onNodeUnSelected, this);
        }),
        (e.prototype.stopListening = function () {
          this.graph.off('node:mouseup', this.onNodeMouseUp, this),
            this.graph.off('node:selected', this.onNodeSelected, this),
            this.graph.off('node:unselected', this.onNodeUnSelected, this);
        }),
        (e.prototype.onNodeMouseUp = function (t) {
          var e = t.node;
          if (!this.isSelectionEnabled) {
            var n = this.graph.hook.createKnob(e, { clearAll: !0 });
            n && this.widgets.set(e, n);
          }
        }),
        (e.prototype.onNodeSelected = function (t) {
          var e = t.node;
          if (this.isSelectionEnabled) {
            var n = this.graph.hook.createKnob(e, { clearAll: !1 });
            n && this.widgets.set(e, n);
          }
        }),
        (e.prototype.onNodeUnSelected = function (t) {
          var e = t.node;
          if (this.isSelectionEnabled) {
            var n = this.widgets.get(e);
            n &&
              n.forEach(function (t) {
                return t.dispose();
              }),
              this.widgets.delete(e);
          }
        }),
        e
      );
    })(dH),
    fW = (function (t) {
      function e() {
        return (null !== t && t.apply(this, arguments)) || this;
      }
      return (
        n(e, t),
        Object.defineProperty(e.prototype, 'widgetOptions', {
          get: function () {
            return this.options.panning;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'pannable', {
          get: function () {
            return this.widgetOptions && !0 === this.widgetOptions.enabled;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.init = function () {
          this.startListening(), this.updateClassName();
        }),
        (e.prototype.startListening = function () {
          var t = this.widgetOptions.eventTypes;
          t &&
            (t.includes('leftMouseDown') &&
              (this.graph.on('blank:mousedown', this.preparePanning, this),
              this.graph.on(
                'node:unhandled:mousedown',
                this.preparePanning,
                this
              ),
              this.graph.on(
                'edge:unhandled:mousedown',
                this.preparePanning,
                this
              )),
            t.includes('rightMouseDown') &&
              ((this.onRightMouseDown = this.onRightMouseDown.bind(this)),
              this.view
                .$(this.graph.container)
                .on('mousedown', this.onRightMouseDown)),
            t.includes('mouseWheel') &&
              ((this.mousewheelHandle = new lw(
                this.graph.container,
                this.onMouseWheel.bind(this),
                this.allowMouseWheel.bind(this)
              )),
              this.mousewheelHandle.enable()));
        }),
        (e.prototype.stopListening = function () {
          var t = this.widgetOptions.eventTypes;
          t &&
            (t.includes('leftMouseDown') &&
              (this.graph.off('blank:mousedown', this.preparePanning, this),
              this.graph.off(
                'node:unhandled:mousedown',
                this.preparePanning,
                this
              ),
              this.graph.off(
                'edge:unhandled:mousedown',
                this.preparePanning,
                this
              )),
            t.includes('rightMouseDown') &&
              this.view
                .$(this.graph.container)
                .off('mousedown', this.onRightMouseDown),
            t.includes('mouseWheel') &&
              this.mousewheelHandle &&
              this.mousewheelHandle.disable());
        }),
        (e.prototype.preparePanning = function (t) {
          var e = t.e;
          (this.allowPanning(e, !0) ||
            (this.allowPanning(e) &&
              !this.graph.selection.allowRubberband(e, !0))) &&
            this.startPanning(e);
        }),
        (e.prototype.allowPanning = function (t, e) {
          return (
            this.pannable &&
            fE.isMatch(t, this.widgetOptions.modifiers, e) &&
            this.graph.hook.allowPanning(t)
          );
        }),
        (e.prototype.startPanning = function (t) {
          var e = this.view.normalizeEvent(t);
          (this.clientX = e.clientX),
            (this.clientY = e.clientY),
            (this.panning = !0),
            this.updateClassName(),
            this.view
              .$(document.body)
              .on({
                'mousemove.panning touchmove.panning': this.pan.bind(this),
                'mouseup.panning touchend.panning': this.stopPanning.bind(this),
                'mouseleave.panning': this.stopPanning.bind(this),
              }),
            this.view
              .$(window)
              .on('mouseup.panning', this.stopPanning.bind(this));
        }),
        (e.prototype.pan = function (t) {
          var e = this.view.normalizeEvent(t),
            n = e.clientX - this.clientX,
            i = e.clientY - this.clientY;
          (this.clientX = e.clientX), (this.clientY = e.clientY);
          var r = this.graph.transform.getTranslation(),
            o = r.tx + n,
            s = r.ty + i;
          this.graph.transform.translate(o, s, { ui: !0 });
        }),
        (e.prototype.stopPanning = function (t) {
          (this.panning = !1),
            this.updateClassName(),
            this.view.$(document.body).off('.panning'),
            this.view.$(window).off('.panning');
        }),
        (e.prototype.updateClassName = function () {
          var t = this.view.container,
            e = this.view.prefixClassName('graph-panning'),
            n = this.view.prefixClassName('graph-pannable');
          this.pannable
            ? this.panning
              ? (sl(t, e), su(t, n))
              : (su(t, e), sl(t, n))
            : (su(t, e), su(t, n));
        }),
        (e.prototype.onRightMouseDown = function (t) {
          2 === t.button && this.allowPanning(t, !0) && this.startPanning(t);
        }),
        (e.prototype.allowMouseWheel = function (t) {
          return this.pannable && !t.ctrlKey;
        }),
        (e.prototype.onMouseWheel = function (t, e, n) {
          t.ctrlKey || this.graph.translateBy(-e, -n);
        }),
        (e.prototype.autoPanning = function (t, e) {
          var n = this.graph.getGraphArea(),
            i = 0,
            r = 0;
          t <= n.left + 10 && (i = -10),
            e <= n.top + 10 && (r = -10),
            t >= n.right - 10 && (i = 10),
            e >= n.bottom - 10 && (r = 10),
            (0 === i && 0 === r) || this.graph.translateBy(-i, -r);
        }),
        (e.prototype.enablePanning = function () {
          this.pannable ||
            ((this.widgetOptions.enabled = !0), this.updateClassName());
        }),
        (e.prototype.disablePanning = function () {
          this.pannable &&
            ((this.widgetOptions.enabled = !1), this.updateClassName());
        }),
        (e.prototype.dispose = function () {
          this.stopListening();
        }),
        o([dH.dispose()], e.prototype, 'dispose', null),
        e
      );
    })(dH),
    fX = (function (e) {
      function i() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(i, e),
        (i.prototype.hasScroller = function () {
          return null != this.graph.scroller.widget;
        }),
        (i.prototype.getContainer = function () {
          return this.hasScroller()
            ? this.graph.scroller.widget.container
            : this.graph.container;
        }),
        (i.prototype.init = function () {
          var e = this,
            n = this.options.autoResize;
          if (n) {
            var i = 'boolean' == typeof n ? this.getContainer() : n;
            t.SizeSensor.bind(i, function () {
              var t = e.getContainer(),
                n = t.offsetWidth,
                i = t.offsetHeight;
              e.resize(n, i);
            });
          }
        }),
        (i.prototype.resize = function (t, e) {
          this.hasScroller()
            ? this.resizeScroller(t, e)
            : this.resizeGraph(t, e);
        }),
        (i.prototype.resizeGraph = function (t, e) {
          this.graph.transform.resize(t, e);
        }),
        (i.prototype.resizeScroller = function (t, e) {
          this.graph.scroller.resize(t, e);
        }),
        (i.prototype.resizePage = function (t, e) {
          var n = this.graph.scroller.widget;
          n && n.updatePageSize(t, e);
        }),
        (i.prototype.dispose = function () {
          t.SizeSensor.clear(this.getContainer());
        }),
        o([dH.dispose()], i.prototype, 'dispose', null),
        i
      );
    })(dH);
  ((fU = fH || (fH = {})).hook = function (t, e) {
    return function (n, i, r) {
      var o = r.value,
        a = e || i;
      r.value = function () {
        for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
        var i = this.options[a];
        if (null != i) {
          this.getNativeValue = o.bind.apply(o, s([this], e, !1));
          var r = oZ.apply(sn, s([i, this.graph], e, !1));
          if (
            ((this.getNativeValue = null),
            null != r || (!0 === t && null === r))
          )
            return r;
        }
        return o.call.apply(o, s([this], e, !1));
      };
    };
  }),
    (fU.after = function (t) {
      return function (e, n, i) {
        var r = i.value,
          o = t || n;
        i.value = function () {
          for (var t = [], e = 0; e < arguments.length; e++)
            t[e] = arguments[e];
          var n = r.call.apply(r, s([this], t, !1)),
            i = this.options[o];
          return (
            null != i && (n = oZ.apply(sn, s([i, this.graph], t, !1)) && n), n
          );
        };
      };
    });
  var fY,
    fJ,
    fZ,
    fK,
    fQ,
    gt = (function (e) {
      function s() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(s, e),
        (s.prototype.createModel = function () {
          if (this.options.model) return this.options.model;
          var e = new t.Model();
          return (e.graph = this.graph), e;
        }),
        (s.prototype.createView = function () {
          return new dU(this.graph);
        }),
        (s.prototype.createRenderer = function () {
          return new fc(this.graph);
        }),
        (s.prototype.createDefsManager = function () {
          return new fS(this.graph);
        }),
        (s.prototype.createGridManager = function () {
          return new fk(this.graph);
        }),
        (s.prototype.createCoordManager = function () {
          return new f4(this.graph);
        }),
        (s.prototype.createKnobManager = function () {
          return new f9(this.graph);
        }),
        (s.prototype.createTransform = function (t, e) {
          var n = this.getTransformOptions(t);
          return n.resizable || n.rotatable
            ? new fA(i(i({ node: t, graph: this.graph }, n), e))
            : (n.clearAll && fA.removeInstances(this.graph), null);
        }),
        (s.prototype.createKnob = function (t, e) {
          var n = this,
            r = fb.parseOptionGroup(this.graph, t, this.options.knob),
            o = i(i({}, r), e);
          o.clearAll && fr.removeInstances(this.graph), (o.clearAll = !1);
          var s = t.prop('knob'),
            a = [];
          return (
            (Array.isArray(s) ? s : [s]).forEach(function (e, s) {
              e &&
                !1 !== e.enabled &&
                (('function' == typeof e.enabled &&
                  !1 === e.enabled.call(n.graph, t)) ||
                  (r.enabled &&
                    a.push(
                      new fr(i({ node: t, index: s, graph: n.graph }, o))
                    )));
            }),
            a
          );
        }),
        (s.prototype.getTransformOptions = function (t) {
          var e = fb.parseOptionGroup(this.graph, t, this.options.resizing),
            n = fb.parseOptionGroup(this.graph, t, this.options.rotating);
          return i(
            i(
              {},
              fb.parseOptionGroup(this.graph, t, this.options.transforming)
            ),
            {
              resizable: e.enabled,
              minWidth: e.minWidth,
              maxWidth: e.maxWidth,
              minHeight: e.minHeight,
              maxHeight: e.maxHeight,
              orthogonalResizing: e.orthogonal,
              restrictedResizing:
                null != e.restrict ? e.restrict : e.restricted,
              autoScrollOnResizing: e.autoScroll,
              preserveAspectRatio: e.preserveAspectRatio,
              allowReverse: e.allowReverse,
              rotatable: n.enabled,
              rotateGrid: n.grid,
            }
          );
        }),
        (s.prototype.createTransformManager = function () {
          return new f6(this.graph);
        }),
        (s.prototype.createHighlightManager = function () {
          return new f5(this.graph);
        }),
        (s.prototype.createBackgroundManager = function () {
          return new fp(this.graph);
        }),
        (s.prototype.createClipboard = function () {
          return new gr();
        }),
        (s.prototype.createClipboardManager = function () {
          return new fL(this.graph);
        }),
        (s.prototype.createSnapline = function () {
          return new fu(i({ graph: this.graph }, this.options.snapline));
        }),
        (s.prototype.createSnaplineManager = function () {
          return new fT(this.graph);
        }),
        (s.prototype.createSelection = function () {
          return new f_(i({ graph: this.graph }, this.options.selecting));
        }),
        (s.prototype.createSelectionManager = function () {
          return new f7(this.graph);
        }),
        (s.prototype.allowRubberband = function (t) {
          return !0;
        }),
        (s.prototype.createHistoryManager = function () {
          return new fF(i({ graph: this.graph }, this.options.history));
        }),
        (s.prototype.createScroller = function () {
          return this.options.scroller.enabled
            ? new fd(i({ graph: this.graph }, this.options.scroller))
            : null;
        }),
        (s.prototype.createScrollerManager = function () {
          return new fN(this.graph);
        }),
        (s.prototype.allowPanning = function (t) {
          return !0;
        }),
        (s.prototype.createMiniMap = function () {
          var t = this.options.minimap,
            e = t.enabled,
            n = r(t, ['enabled']);
          return e ? new fa(i({ graph: this.graph }, n)) : null;
        }),
        (s.prototype.createMiniMapManager = function () {
          return new fB(this.graph);
        }),
        (s.prototype.createKeyboard = function () {
          return new fI(i({ graph: this.graph }, this.options.keyboard));
        }),
        (s.prototype.createMouseWheel = function () {
          return new fG(i({ graph: this.graph }, this.options.mousewheel));
        }),
        (s.prototype.createPrintManager = function () {
          return new fj(this.graph);
        }),
        (s.prototype.createFormatManager = function () {
          return new fq(this.graph);
        }),
        (s.prototype.createPanningManager = function () {
          return new fW(this.graph);
        }),
        (s.prototype.createSizeManager = function () {
          return new fX(this.graph);
        }),
        (s.prototype.allowConnectToBlank = function (t) {
          var e = this.options.connecting,
            n = null != e.allowBlank ? e.allowBlank : e.dangling;
          if ('function' != typeof n) return !!n;
          var i = this.graph.findViewByCell(t),
            r = t.getSourceCell(),
            o = t.getTargetCell(),
            s = this.graph.findViewByCell(r),
            a = this.graph.findViewByCell(o);
          return oZ(n, this.graph, {
            edge: t,
            edgeView: i,
            sourceCell: r,
            targetCell: o,
            sourceView: s,
            targetView: a,
            sourcePort: t.getSourcePortId(),
            targetPort: t.getTargetPortId(),
            sourceMagnet: i.sourceMagnet,
            targetMagnet: i.targetMagnet,
          });
        }),
        (s.prototype.validateEdge = function (t, e, n) {
          if (!this.allowConnectToBlank(t)) {
            var i = t.getSourceCellId(),
              r = t.getTargetCellId();
            if (!i || !r) return !1;
          }
          var o = this.options.connecting.validateEdge;
          return !o || oZ(o, this.graph, { edge: t, type: e, previous: n });
        }),
        (s.prototype.validateMagnet = function (t, e, n) {
          if ('passive' !== e.getAttribute('magnet')) {
            var i = this.options.connecting.validateMagnet;
            return (
              !i ||
              oZ(i, this.graph, { e: n, magnet: e, view: t, cell: t.cell })
            );
          }
          return !1;
        }),
        (s.prototype.getDefaultEdge = function (t, e) {
          var n,
            i = this.options.connecting.createEdge;
          return (
            i &&
              (n = oZ(i, this.graph, {
                sourceMagnet: e,
                sourceView: t,
                sourceCell: t.cell,
              })),
            null == n && (n = new dL()),
            n
          );
        }),
        (s.prototype.validateConnection = function (e, n, i, r, o, s, a) {
          var l = this,
            u = this.options.connecting,
            c = u.allowLoop,
            h = u.allowNode,
            p = u.allowEdge,
            d = u.allowPort,
            f = null != u.allowMulti ? u.allowMulti : u.multi,
            g = u.validateConnection,
            $ = s ? s.cell : null,
            v = 'target' === o ? i : e,
            y = 'target' === o ? r : n,
            m = !0,
            _ = function (t) {
              var u =
                  'source' === o
                    ? a
                      ? a.port
                      : null
                    : $
                    ? $.getSourcePortId()
                    : null,
                c =
                  'target' === o
                    ? a
                      ? a.port
                      : null
                    : $
                    ? $.getTargetPortId()
                    : null;
              return oZ(t, l.graph, {
                edge: $,
                edgeView: s,
                sourceView: e,
                targetView: i,
                sourcePort: u,
                targetPort: c,
                sourceMagnet: n,
                targetMagnet: r,
                sourceCell: e ? e.cell : null,
                targetCell: i ? i.cell : null,
                type: o,
              });
            };
          if (
            (null != c &&
              ('boolean' == typeof c ? c || e !== i || (m = !1) : (m = _(c))),
            m &&
              null != d &&
              ('boolean' == typeof d ? !d && y && (m = !1) : (m = _(d))),
            m &&
              null != p &&
              ('boolean' == typeof p
                ? !p && t.EdgeView.isEdgeView(v) && (m = !1)
                : (m = _(p))),
            m &&
              null != h &&
              null == y &&
              ('boolean' == typeof h
                ? !h && t.NodeView.isNodeView(v) && (m = !1)
                : (m = _(h))),
            m && null != f && s)
          ) {
            var C = s.cell,
              b = 'source' === o ? a : C.getSource(),
              x = 'target' === o ? a : C.getTarget(),
              w = a ? this.graph.getCellById(a.cell) : null;
            if (b && x && b.cell && x.cell && w) {
              if ('function' == typeof f) m = _(f);
              else {
                var P = this.model.getConnectedEdges(w, {
                  outgoing: 'source' === o,
                  incoming: 'target' === o,
                });
                P.length &&
                  ('withPort' === f
                    ? P.some(function (t) {
                        var e = t.getSource(),
                          n = t.getTarget();
                        return (
                          e &&
                          n &&
                          e.cell === b.cell &&
                          n.cell === x.cell &&
                          null != e.port &&
                          e.port === b.port &&
                          null != n.port &&
                          n.port === x.port
                        );
                      }) && (m = !1)
                    : !f &&
                      P.some(function (t) {
                        var e = t.getSource(),
                          n = t.getTarget();
                        return e && n && e.cell === b.cell && n.cell === x.cell;
                      }) &&
                      (m = !1));
              }
            }
          }
          return m && null != g && (m = _(g)), m;
        }),
        (s.prototype.getRestrictArea = function (t) {
          var e = this.options.translating.restrict,
            n = 'function' == typeof e ? oZ(e, this.graph, t) : e;
          return 'number' == typeof n
            ? this.graph.transform.getGraphArea().inflate(n)
            : !0 === n
            ? this.graph.transform.getGraphArea()
            : n || null;
        }),
        (s.prototype.onViewUpdated = function (t, e, n) {
          e & fc.FLAG_INSERT ||
            n.mounting ||
            this.graph.renderer.requestConnectedEdgesUpdate(t, n);
        }),
        (s.prototype.onViewPostponed = function (t, e, n) {
          return this.graph.renderer.forcePostponedViewUpdate(t, e);
        }),
        (s.prototype.getCellView = function (t) {
          return null;
        }),
        (s.prototype.createCellView = function (e) {
          var n = { graph: this.graph },
            i = this.getCellView(e);
          if (i) return new i(e, n);
          var r = e.view;
          if (null != r && 'string' == typeof r) {
            var o = t.CellView.registry.get(r);
            return o ? new o(e, n) : t.CellView.registry.onNotFound(r);
          }
          return e.isNode()
            ? new t.NodeView(e, n)
            : e.isEdge()
            ? new t.EdgeView(e, n)
            : null;
        }),
        (s.prototype.getHTMLComponent = function (t) {
          var e = t.getHTML();
          return (
            'string' == typeof e && (e = d7.componentRegistry.get(e) || e),
            eG(e) && (e = e.render),
            'function' == typeof e ? oZ(e, this.graph, t) : e
          );
        }),
        (s.prototype.shouldUpdateHTMLComponent = function (t) {
          var e = t.getHTML();
          if (
            ('string' == typeof e && (e = d7.componentRegistry.get(e) || e),
            eG(e))
          ) {
            var n = e.shouldComponentUpdate;
            return 'function' == typeof n ? oZ(n, this.graph, t) : !!n;
          }
          return !1;
        }),
        (s.prototype.onEdgeLabelRendered = function (t) {}),
        (s.prototype.onPortRendered = function (t) {}),
        (s.prototype.onToolItemCreated = function (t) {}),
        o([fH.hook()], s.prototype, 'createModel', null),
        o([fH.hook()], s.prototype, 'createView', null),
        o([fH.hook()], s.prototype, 'createRenderer', null),
        o([fH.hook()], s.prototype, 'createDefsManager', null),
        o([fH.hook()], s.prototype, 'createGridManager', null),
        o([fH.hook()], s.prototype, 'createCoordManager', null),
        o([fH.hook()], s.prototype, 'createKnobManager', null),
        o([fH.hook()], s.prototype, 'createTransform', null),
        o([fH.hook()], s.prototype, 'createKnob', null),
        o([fH.hook()], s.prototype, 'createTransformManager', null),
        o([fH.hook()], s.prototype, 'createHighlightManager', null),
        o([fH.hook()], s.prototype, 'createBackgroundManager', null),
        o([fH.hook()], s.prototype, 'createClipboard', null),
        o([fH.hook()], s.prototype, 'createClipboardManager', null),
        o([fH.hook()], s.prototype, 'createSnapline', null),
        o([fH.hook()], s.prototype, 'createSnaplineManager', null),
        o([fH.hook()], s.prototype, 'createSelection', null),
        o([fH.hook()], s.prototype, 'createSelectionManager', null),
        o([fH.hook()], s.prototype, 'allowRubberband', null),
        o([fH.hook()], s.prototype, 'createHistoryManager', null),
        o([fH.hook()], s.prototype, 'createScroller', null),
        o([fH.hook()], s.prototype, 'createScrollerManager', null),
        o([fH.hook()], s.prototype, 'allowPanning', null),
        o([fH.hook()], s.prototype, 'createMiniMap', null),
        o([fH.hook()], s.prototype, 'createMiniMapManager', null),
        o([fH.hook()], s.prototype, 'createKeyboard', null),
        o([fH.hook()], s.prototype, 'createMouseWheel', null),
        o([fH.hook()], s.prototype, 'createPrintManager', null),
        o([fH.hook()], s.prototype, 'createFormatManager', null),
        o([fH.hook()], s.prototype, 'createPanningManager', null),
        o([fH.hook()], s.prototype, 'createSizeManager', null),
        o([fH.after()], s.prototype, 'onViewUpdated', null),
        o([fH.after()], s.prototype, 'onViewPostponed', null),
        o([fH.hook()], s.prototype, 'getCellView', null),
        o([fH.hook(!0)], s.prototype, 'createCellView', null),
        o([fH.hook()], s.prototype, 'getHTMLComponent', null),
        o([fH.hook()], s.prototype, 'shouldUpdateHTMLComponent', null),
        o([fH.hook()], s.prototype, 'onEdgeLabelRendered', null),
        o([fH.hook()], s.prototype, 'onPortRendered', null),
        o([fH.hook()], s.prototype, 'onToolItemCreated', null),
        s
      );
    })(dH);
  (t.Graph = (function (e) {
    function r(t) {
      var n = e.call(this) || this;
      return (
        (n.options = fb.get(t)),
        (n.css = new dX(n)),
        (n.hook = new gt(n)),
        (n.view = n.hook.createView()),
        (n.defs = n.hook.createDefsManager()),
        (n.coord = n.hook.createCoordManager()),
        (n.transform = n.hook.createTransformManager()),
        (n.knob = n.hook.createKnobManager()),
        (n.highlight = n.hook.createHighlightManager()),
        (n.grid = n.hook.createGridManager()),
        (n.background = n.hook.createBackgroundManager()),
        (n.model = n.hook.createModel()),
        (n.renderer = n.hook.createRenderer()),
        (n.clipboard = n.hook.createClipboardManager()),
        (n.snapline = n.hook.createSnaplineManager()),
        (n.selection = n.hook.createSelectionManager()),
        (n.history = n.hook.createHistoryManager()),
        (n.scroller = n.hook.createScrollerManager()),
        (n.minimap = n.hook.createMiniMapManager()),
        (n.keyboard = n.hook.createKeyboard()),
        (n.mousewheel = n.hook.createMouseWheel()),
        (n.print = n.hook.createPrintManager()),
        (n.format = n.hook.createFormatManager()),
        (n.panning = n.hook.createPanningManager()),
        (n.size = n.hook.createSizeManager()),
        n
      );
    }
    return (
      n(r, e),
      Object.defineProperty(r.prototype, 'container', {
        get: function () {
          return this.view.container;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(r.prototype, Symbol.toStringTag, {
        get: function () {
          return r.toStringTag;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.isNode = function (t) {
        return t.isNode();
      }),
      (r.prototype.isEdge = function (t) {
        return t.isEdge();
      }),
      (r.prototype.resetCells = function (t, e) {
        return void 0 === e && (e = {}), this.model.resetCells(t, e), this;
      }),
      (r.prototype.clearCells = function (t) {
        return void 0 === t && (t = {}), this.model.clear(t), this;
      }),
      (r.prototype.toJSON = function (t) {
        return void 0 === t && (t = {}), this.model.toJSON(t);
      }),
      (r.prototype.parseJSON = function (t) {
        return this.model.parseJSON(t);
      }),
      (r.prototype.fromJSON = function (t, e) {
        return void 0 === e && (e = {}), this.model.fromJSON(t, e), this;
      }),
      (r.prototype.getCellById = function (t) {
        return this.model.getCell(t);
      }),
      (r.prototype.addNode = function (t, e) {
        return void 0 === e && (e = {}), this.model.addNode(t, e);
      }),
      (r.prototype.addNodes = function (e, n) {
        var i = this;
        return (
          void 0 === n && (n = {}),
          this.addCell(
            e.map(function (e) {
              return t.Node.isNode(e) ? e : i.createNode(e);
            }),
            n
          )
        );
      }),
      (r.prototype.createNode = function (t) {
        return this.model.createNode(t);
      }),
      (r.prototype.removeNode = function (t, e) {
        return void 0 === e && (e = {}), this.model.removeCell(t, e);
      }),
      (r.prototype.addEdge = function (t, e) {
        return void 0 === e && (e = {}), this.model.addEdge(t, e);
      }),
      (r.prototype.addEdges = function (e, n) {
        var i = this;
        return (
          void 0 === n && (n = {}),
          this.addCell(
            e.map(function (e) {
              return t.Edge.isEdge(e) ? e : i.createEdge(e);
            }),
            n
          )
        );
      }),
      (r.prototype.removeEdge = function (t, e) {
        return void 0 === e && (e = {}), this.model.removeCell(t, e);
      }),
      (r.prototype.createEdge = function (t) {
        return this.model.createEdge(t);
      }),
      (r.prototype.addCell = function (t, e) {
        return void 0 === e && (e = {}), this.model.addCell(t, e), this;
      }),
      (r.prototype.removeCell = function (t, e) {
        return void 0 === e && (e = {}), this.model.removeCell(t, e);
      }),
      (r.prototype.removeCells = function (t, e) {
        return void 0 === e && (e = {}), this.model.removeCells(t, e);
      }),
      (r.prototype.removeConnectedEdges = function (t, e) {
        return void 0 === e && (e = {}), this.model.removeConnectedEdges(t, e);
      }),
      (r.prototype.disconnectConnectedEdges = function (t, e) {
        return (
          void 0 === e && (e = {}),
          this.model.disconnectConnectedEdges(t, e),
          this
        );
      }),
      (r.prototype.hasCell = function (t) {
        return this.model.has(t);
      }),
      (r.prototype.getCell = function (t) {
        return this.model.getCell(t);
      }),
      (r.prototype.getCells = function () {
        return this.model.getCells();
      }),
      (r.prototype.getCellCount = function () {
        return this.model.total();
      }),
      (r.prototype.getNodes = function () {
        return this.model.getNodes();
      }),
      (r.prototype.getEdges = function () {
        return this.model.getEdges();
      }),
      (r.prototype.getOutgoingEdges = function (t) {
        return this.model.getOutgoingEdges(t);
      }),
      (r.prototype.getIncomingEdges = function (t) {
        return this.model.getIncomingEdges(t);
      }),
      (r.prototype.getConnectedEdges = function (t, e) {
        return void 0 === e && (e = {}), this.model.getConnectedEdges(t, e);
      }),
      (r.prototype.getRootNodes = function () {
        return this.model.getRoots();
      }),
      (r.prototype.getLeafNodes = function () {
        return this.model.getLeafs();
      }),
      (r.prototype.isRootNode = function (t) {
        return this.model.isRoot(t);
      }),
      (r.prototype.isLeafNode = function (t) {
        return this.model.isLeaf(t);
      }),
      (r.prototype.getNeighbors = function (t, e) {
        return void 0 === e && (e = {}), this.model.getNeighbors(t, e);
      }),
      (r.prototype.isNeighbor = function (t, e, n) {
        return void 0 === n && (n = {}), this.model.isNeighbor(t, e, n);
      }),
      (r.prototype.getSuccessors = function (t, e) {
        return void 0 === e && (e = {}), this.model.getSuccessors(t, e);
      }),
      (r.prototype.isSuccessor = function (t, e, n) {
        return void 0 === n && (n = {}), this.model.isSuccessor(t, e, n);
      }),
      (r.prototype.getPredecessors = function (t, e) {
        return void 0 === e && (e = {}), this.model.getPredecessors(t, e);
      }),
      (r.prototype.isPredecessor = function (t, e, n) {
        return void 0 === n && (n = {}), this.model.isPredecessor(t, e, n);
      }),
      (r.prototype.getCommonAncestor = function () {
        for (var t, e = [], n = 0; n < arguments.length; n++)
          e[n] = arguments[n];
        return (t = this.model).getCommonAncestor.apply(t, e);
      }),
      (r.prototype.getSubGraph = function (t, e) {
        return void 0 === e && (e = {}), this.model.getSubGraph(t, e);
      }),
      (r.prototype.cloneSubGraph = function (t, e) {
        return void 0 === e && (e = {}), this.model.cloneSubGraph(t, e);
      }),
      (r.prototype.cloneCells = function (t) {
        return this.model.cloneCells(t);
      }),
      (r.prototype.getNodesFromPoint = function (t, e) {
        return this.model.getNodesFromPoint(t, e);
      }),
      (r.prototype.getNodesInArea = function (t, e, n, i, r) {
        return this.model.getNodesInArea(t, e, n, i, r);
      }),
      (r.prototype.getNodesUnderNode = function (t, e) {
        return void 0 === e && (e = {}), this.model.getNodesUnderNode(t, e);
      }),
      (r.prototype.searchCell = function (t, e, n) {
        return void 0 === n && (n = {}), this.model.search(t, e, n), this;
      }),
      (r.prototype.getShortestPath = function (t, e, n) {
        return void 0 === n && (n = {}), this.model.getShortestPath(t, e, n);
      }),
      (r.prototype.getAllCellsBBox = function () {
        return this.model.getAllCellsBBox();
      }),
      (r.prototype.getCellsBBox = function (t, e) {
        return void 0 === e && (e = {}), this.model.getCellsBBox(t, e);
      }),
      (r.prototype.startBatch = function (t, e) {
        void 0 === e && (e = {}), this.model.startBatch(t, e);
      }),
      (r.prototype.stopBatch = function (t, e) {
        void 0 === e && (e = {}), this.model.stopBatch(t, e);
      }),
      (r.prototype.batchUpdate = function (t, e, n) {
        var i = 'string' == typeof t ? t : 'update',
          r = 'function' == typeof e ? n : e;
        this.startBatch(i, r);
        var o = ('string' == typeof t ? e : t)();
        return this.stopBatch(i, r), o;
      }),
      (r.prototype.updateCellId = function (t, e) {
        return this.model.updateCellId(t, e);
      }),
      (r.prototype.isFrozen = function () {
        return this.renderer.isFrozen();
      }),
      (r.prototype.freeze = function (t) {
        return void 0 === t && (t = {}), this.renderer.freeze(t), this;
      }),
      (r.prototype.unfreeze = function (t) {
        return void 0 === t && (t = {}), this.renderer.unfreeze(t), this;
      }),
      (r.prototype.isAsync = function () {
        return this.renderer.isAsync();
      }),
      (r.prototype.setAsync = function (t) {
        return this.renderer.setAsync(t), this;
      }),
      (r.prototype.findView = function (e) {
        return t.Cell.isCell(e)
          ? this.findViewByCell(e)
          : this.findViewByElem(e);
      }),
      (r.prototype.findViews = function (e) {
        return t.Rectangle.isRectangleLike(e)
          ? this.findViewsInArea(e)
          : t.Point.isPointLike(e)
          ? this.findViewsFromPoint(e)
          : [];
      }),
      (r.prototype.findViewByCell = function (t) {
        return this.renderer.findViewByCell(t);
      }),
      (r.prototype.findViewByElem = function (t) {
        return this.renderer.findViewByElem(t);
      }),
      (r.prototype.findViewsFromPoint = function (t, e) {
        return this.renderer.findViewsFromPoint(
          'number' == typeof t ? { x: t, y: e } : t
        );
      }),
      (r.prototype.findViewsInArea = function (t, e, n, i, r) {
        return this.renderer.findViewsInArea(
          'number' == typeof t ? { x: t, y: e, width: n, height: i } : t,
          'number' == typeof t ? r : e
        );
      }),
      (r.prototype.isViewMounted = function (t) {
        return this.renderer.isViewMounted(t);
      }),
      (r.prototype.getMountedViews = function () {
        return this.renderer.getMountedViews();
      }),
      (r.prototype.getUnmountedViews = function () {
        return this.renderer.getUnmountedViews();
      }),
      (r.prototype.matrix = function (t) {
        return void 0 === t
          ? this.transform.getMatrix()
          : (this.transform.setMatrix(t), this);
      }),
      (r.prototype.resize = function (t, e) {
        return this.size.resize(t, e), this;
      }),
      (r.prototype.resizeGraph = function (t, e) {
        return this.size.resizeGraph(t, e), this;
      }),
      (r.prototype.resizeScroller = function (t, e) {
        return this.size.resizeScroller(t, e), this;
      }),
      (r.prototype.resizePage = function (t, e) {
        return this.size.resizePage(t, e), this;
      }),
      (r.prototype.scale = function (t, e, n, i) {
        return (
          void 0 === e && (e = t),
          void 0 === n && (n = 0),
          void 0 === i && (i = 0),
          void 0 === t
            ? this.transform.getScale()
            : (this.transform.scale(t, e, n, i), this)
        );
      }),
      (r.prototype.zoom = function (t, e) {
        var n = this.scroller.widget;
        if (n) {
          if (void 0 === t) return n.zoom();
          n.zoom(t, e);
        } else {
          if (void 0 === t) return this.transform.getZoom();
          this.transform.zoom(t, e);
        }
        return this;
      }),
      (r.prototype.zoomTo = function (t, e) {
        void 0 === e && (e = {});
        var n = this.scroller.widget;
        return (
          n
            ? n.zoom(t, i(i({}, e), { absolute: !0 }))
            : this.transform.zoom(t, i(i({}, e), { absolute: !0 })),
          this
        );
      }),
      (r.prototype.zoomToRect = function (t, e) {
        void 0 === e && (e = {});
        var n = this.scroller.widget;
        return n ? n.zoomToRect(t, e) : this.transform.zoomToRect(t, e), this;
      }),
      (r.prototype.zoomToFit = function (t) {
        void 0 === t && (t = {});
        var e = this.scroller.widget;
        return e ? e.zoomToFit(t) : this.transform.zoomToFit(t), this;
      }),
      (r.prototype.rotate = function (t, e, n) {
        return void 0 === t
          ? this.transform.getRotation()
          : (this.transform.rotate(t, e, n), this);
      }),
      (r.prototype.translate = function (t, e) {
        return void 0 === t
          ? this.transform.getTranslation()
          : (this.transform.translate(t, e), this);
      }),
      (r.prototype.translateBy = function (t, e) {
        var n = this.translate(),
          i = n.tx + t,
          r = n.ty + e;
        return this.translate(i, r);
      }),
      (r.prototype.getArea = function () {
        return this.transform.getGraphArea();
      }),
      (r.prototype.getGraphArea = function () {
        return this.transform.getGraphArea();
      }),
      (r.prototype.getContentArea = function (t) {
        return void 0 === t && (t = {}), this.transform.getContentArea(t);
      }),
      (r.prototype.getContentBBox = function (t) {
        return void 0 === t && (t = {}), this.transform.getContentBBox(t);
      }),
      (r.prototype.fitToContent = function (t, e, n, i) {
        return this.transform.fitToContent(t, e, n, i);
      }),
      (r.prototype.scaleContentToFit = function (t) {
        return (
          void 0 === t && (t = {}), this.transform.scaleContentToFit(t), this
        );
      }),
      (r.prototype.center = function (t) {
        return this.centerPoint(t);
      }),
      (r.prototype.centerPoint = function (t, e, n) {
        var i = this.scroller.widget;
        return (
          i ? i.centerPoint(t, e, n) : this.transform.centerPoint(t, e), this
        );
      }),
      (r.prototype.centerContent = function (t) {
        var e = this.scroller.widget;
        return e ? e.centerContent(t) : this.transform.centerContent(t), this;
      }),
      (r.prototype.centerCell = function (t, e) {
        var n = this.scroller.widget;
        return n ? n.centerCell(t, e) : this.transform.centerCell(t), this;
      }),
      (r.prototype.positionPoint = function (t, e, n, i) {
        void 0 === i && (i = {});
        var r = this.scroller.widget;
        return (
          r
            ? r.positionPoint(t, e, n, i)
            : this.transform.positionPoint(t, e, n),
          this
        );
      }),
      (r.prototype.positionRect = function (t, e, n) {
        var i = this.scroller.widget;
        return (
          i ? i.positionRect(t, e, n) : this.transform.positionRect(t, e), this
        );
      }),
      (r.prototype.positionCell = function (t, e, n) {
        var i = this.scroller.widget;
        return (
          i ? i.positionCell(t, e, n) : this.transform.positionCell(t, e), this
        );
      }),
      (r.prototype.positionContent = function (t, e) {
        var n = this.scroller.widget;
        return (
          n ? n.positionContent(t, e) : this.transform.positionContent(t, e),
          this
        );
      }),
      (r.prototype.getClientMatrix = function () {
        return this.coord.getClientMatrix();
      }),
      (r.prototype.getClientOffset = function () {
        return this.coord.getClientOffset();
      }),
      (r.prototype.getPageOffset = function () {
        return this.coord.getPageOffset();
      }),
      (r.prototype.snapToGrid = function (t, e) {
        return this.coord.snapToGrid(t, e);
      }),
      (r.prototype.pageToLocal = function (e, n, i, r) {
        return t.Rectangle.isRectangleLike(e)
          ? this.coord.pageToLocalRect(e)
          : 'number' == typeof e &&
            'number' == typeof n &&
            'number' == typeof i &&
            'number' == typeof r
          ? this.coord.pageToLocalRect(e, n, i, r)
          : this.coord.pageToLocalPoint(e, n);
      }),
      (r.prototype.localToPage = function (e, n, i, r) {
        return t.Rectangle.isRectangleLike(e)
          ? this.coord.localToPageRect(e)
          : 'number' == typeof e &&
            'number' == typeof n &&
            'number' == typeof i &&
            'number' == typeof r
          ? this.coord.localToPageRect(e, n, i, r)
          : this.coord.localToPagePoint(e, n);
      }),
      (r.prototype.clientToLocal = function (e, n, i, r) {
        return t.Rectangle.isRectangleLike(e)
          ? this.coord.clientToLocalRect(e)
          : 'number' == typeof e &&
            'number' == typeof n &&
            'number' == typeof i &&
            'number' == typeof r
          ? this.coord.clientToLocalRect(e, n, i, r)
          : this.coord.clientToLocalPoint(e, n);
      }),
      (r.prototype.localToClient = function (e, n, i, r) {
        return t.Rectangle.isRectangleLike(e)
          ? this.coord.localToClientRect(e)
          : 'number' == typeof e &&
            'number' == typeof n &&
            'number' == typeof i &&
            'number' == typeof r
          ? this.coord.localToClientRect(e, n, i, r)
          : this.coord.localToClientPoint(e, n);
      }),
      (r.prototype.localToGraph = function (e, n, i, r) {
        return t.Rectangle.isRectangleLike(e)
          ? this.coord.localToGraphRect(e)
          : 'number' == typeof e &&
            'number' == typeof n &&
            'number' == typeof i &&
            'number' == typeof r
          ? this.coord.localToGraphRect(e, n, i, r)
          : this.coord.localToGraphPoint(e, n);
      }),
      (r.prototype.graphToLocal = function (e, n, i, r) {
        return t.Rectangle.isRectangleLike(e)
          ? this.coord.graphToLocalRect(e)
          : 'number' == typeof e &&
            'number' == typeof n &&
            'number' == typeof i &&
            'number' == typeof r
          ? this.coord.graphToLocalRect(e, n, i, r)
          : this.coord.graphToLocalPoint(e, n);
      }),
      (r.prototype.clientToGraph = function (e, n, i, r) {
        return t.Rectangle.isRectangleLike(e)
          ? this.coord.clientToGraphRect(e)
          : 'number' == typeof e &&
            'number' == typeof n &&
            'number' == typeof i &&
            'number' == typeof r
          ? this.coord.clientToGraphRect(e, n, i, r)
          : this.coord.clientToGraphPoint(e, n);
      }),
      (r.prototype.defineFilter = function (t) {
        return this.defs.filter(t);
      }),
      (r.prototype.defineGradient = function (t) {
        return this.defs.gradient(t);
      }),
      (r.prototype.defineMarker = function (t) {
        return this.defs.marker(t);
      }),
      (r.prototype.getGridSize = function () {
        return this.grid.getGridSize();
      }),
      (r.prototype.setGridSize = function (t) {
        return this.grid.setGridSize(t), this;
      }),
      (r.prototype.showGrid = function () {
        return this.grid.show(), this;
      }),
      (r.prototype.hideGrid = function () {
        return this.grid.hide(), this;
      }),
      (r.prototype.clearGrid = function () {
        return this.grid.clear(), this;
      }),
      (r.prototype.drawGrid = function (t) {
        return this.grid.draw(t), this;
      }),
      (r.prototype.updateBackground = function () {
        return this.background.update(), this;
      }),
      (r.prototype.drawBackground = function (t, e) {
        var n = this.scroller.widget;
        return (
          null == n || (null != this.options.background && e)
            ? this.background.draw(t)
            : n.backgroundManager.draw(t),
          this
        );
      }),
      (r.prototype.clearBackground = function (t) {
        var e = this.scroller.widget;
        return (
          null == e || (null != this.options.background && t)
            ? this.background.clear()
            : e.backgroundManager.clear(),
          this
        );
      }),
      (r.prototype.isClipboardEnabled = function () {
        return !this.clipboard.disabled;
      }),
      (r.prototype.enableClipboard = function () {
        return this.clipboard.enable(), this;
      }),
      (r.prototype.disableClipboard = function () {
        return this.clipboard.disable(), this;
      }),
      (r.prototype.toggleClipboard = function (t) {
        return (
          null != t
            ? t !== this.isClipboardEnabled() &&
              (t ? this.enableClipboard() : this.disableClipboard())
            : this.isClipboardEnabled()
            ? this.disableClipboard()
            : this.enableClipboard(),
          this
        );
      }),
      (r.prototype.isClipboardEmpty = function () {
        return this.clipboard.isEmpty();
      }),
      (r.prototype.getCellsInClipboard = function () {
        return this.clipboard.cells;
      }),
      (r.prototype.cleanClipboard = function () {
        return this.clipboard.clean(), this;
      }),
      (r.prototype.copy = function (t, e) {
        return void 0 === e && (e = {}), this.clipboard.copy(t, e), this;
      }),
      (r.prototype.cut = function (t, e) {
        return void 0 === e && (e = {}), this.clipboard.cut(t, e), this;
      }),
      (r.prototype.paste = function (t, e) {
        return (
          void 0 === t && (t = {}),
          void 0 === e && (e = this),
          this.clipboard.paste(t, e)
        );
      }),
      (r.prototype.isHistoryEnabled = function () {
        return !this.history.disabled;
      }),
      (r.prototype.enableHistory = function () {
        return this.history.enable(), this;
      }),
      (r.prototype.disableHistory = function () {
        return this.history.disable(), this;
      }),
      (r.prototype.toggleHistory = function (t) {
        return (
          null != t
            ? t !== this.isHistoryEnabled() &&
              (t ? this.enableHistory() : this.disableHistory())
            : this.isHistoryEnabled()
            ? this.disableHistory()
            : this.enableHistory(),
          this
        );
      }),
      (r.prototype.undo = function (t) {
        return void 0 === t && (t = {}), this.history.undo(t), this;
      }),
      (r.prototype.undoAndCancel = function (t) {
        return void 0 === t && (t = {}), this.history.cancel(t), this;
      }),
      (r.prototype.redo = function (t) {
        return void 0 === t && (t = {}), this.history.redo(t), this;
      }),
      (r.prototype.canUndo = function () {
        return this.history.canUndo();
      }),
      (r.prototype.canRedo = function () {
        return this.history.canRedo();
      }),
      (r.prototype.cleanHistory = function (t) {
        void 0 === t && (t = {}), this.history.clean(t);
      }),
      (r.prototype.isKeyboardEnabled = function () {
        return !this.keyboard.disabled;
      }),
      (r.prototype.enableKeyboard = function () {
        return this.keyboard.enable(), this;
      }),
      (r.prototype.disableKeyboard = function () {
        return this.keyboard.disable(), this;
      }),
      (r.prototype.toggleKeyboard = function (t) {
        return (
          null != t
            ? t !== this.isKeyboardEnabled() &&
              (t ? this.enableKeyboard() : this.disableKeyboard())
            : this.isKeyboardEnabled()
            ? this.disableKeyboard()
            : this.enableKeyboard(),
          this
        );
      }),
      (r.prototype.bindKey = function (t, e, n) {
        return this.keyboard.on(t, e, n), this;
      }),
      (r.prototype.unbindKey = function (t, e) {
        return this.keyboard.off(t, e), this;
      }),
      (r.prototype.isMouseWheelEnabled = function () {
        return !this.mousewheel.disabled;
      }),
      (r.prototype.enableMouseWheel = function () {
        return this.mousewheel.enable(), this;
      }),
      (r.prototype.disableMouseWheel = function () {
        return this.mousewheel.disable(), this;
      }),
      (r.prototype.toggleMouseWheel = function (t) {
        return (
          null == t
            ? this.isMouseWheelEnabled()
              ? this.disableMouseWheel()
              : this.enableMouseWheel()
            : t
            ? this.enableMouseWheel()
            : this.disableMouseWheel(),
          this
        );
      }),
      (r.prototype.isPannable = function () {
        return this.scroller.widget
          ? this.scroller.pannable
          : this.panning.pannable;
      }),
      (r.prototype.enablePanning = function () {
        return (
          this.scroller.widget
            ? this.scroller.enablePanning()
            : this.panning.enablePanning(),
          this
        );
      }),
      (r.prototype.disablePanning = function () {
        return (
          this.scroller.widget
            ? this.scroller.disablePanning()
            : this.panning.disablePanning(),
          this
        );
      }),
      (r.prototype.togglePanning = function (t) {
        return (
          null == t
            ? this.isPannable()
              ? this.disablePanning()
              : this.enablePanning()
            : t !== this.isPannable() &&
              (t ? this.enablePanning() : this.disablePanning()),
          this
        );
      }),
      (r.prototype.lockScroller = function () {
        var t;
        null === (t = this.scroller.widget) || void 0 === t || t.lock();
      }),
      (r.prototype.unlockScroller = function () {
        var t;
        null === (t = this.scroller.widget) || void 0 === t || t.unlock();
      }),
      (r.prototype.updateScroller = function () {
        var t;
        null === (t = this.scroller.widget) || void 0 === t || t.update();
      }),
      (r.prototype.getScrollbarPosition = function () {
        return this.scroller.widget.scrollbarPosition();
      }),
      (r.prototype.setScrollbarPosition = function (t, e, n) {
        return this.scroller.widget.scrollbarPosition(t, e, n), this;
      }),
      (r.prototype.scrollToPoint = function (t, e, n) {
        return this.scroller.widget.scrollToPoint(t, e, n), this;
      }),
      (r.prototype.scrollToContent = function (t) {
        return this.scroller.widget.scrollToContent(t), this;
      }),
      (r.prototype.scrollToCell = function (t, e) {
        return this.scroller.widget.scrollToCell(t, e), this;
      }),
      (r.prototype.transitionToPoint = function (t, e, n) {
        return this.scroller.widget.transitionToPoint(t, e, n), this;
      }),
      (r.prototype.transitionToRect = function (t, e) {
        return (
          void 0 === e && (e = {}),
          this.scroller.widget.transitionToRect(t, e),
          this
        );
      }),
      (r.prototype.isSelectionEnabled = function () {
        return !this.selection.disabled;
      }),
      (r.prototype.enableSelection = function () {
        return this.selection.enable(), this;
      }),
      (r.prototype.disableSelection = function () {
        return this.selection.disable(), this;
      }),
      (r.prototype.toggleSelection = function (t) {
        return (
          null != t
            ? t !== this.isSelectionEnabled() &&
              (t ? this.enableSelection() : this.disableSelection())
            : this.isSelectionEnabled()
            ? this.disableSelection()
            : this.enableSelection(),
          this
        );
      }),
      (r.prototype.isMultipleSelection = function () {
        return this.selection.isMultiple();
      }),
      (r.prototype.enableMultipleSelection = function () {
        return this.selection.enableMultiple(), this;
      }),
      (r.prototype.disableMultipleSelection = function () {
        return this.selection.disableMultiple(), this;
      }),
      (r.prototype.toggleMultipleSelection = function (t) {
        return (
          null != t
            ? t !== this.isMultipleSelection() &&
              (t
                ? this.enableMultipleSelection()
                : this.disableMultipleSelection())
            : this.isMultipleSelection()
            ? this.disableMultipleSelection()
            : this.enableMultipleSelection(),
          this
        );
      }),
      (r.prototype.isSelectionMovable = function () {
        return !1 !== this.selection.widget.options.movable;
      }),
      (r.prototype.enableSelectionMovable = function () {
        return (this.selection.widget.options.movable = !0), this;
      }),
      (r.prototype.disableSelectionMovable = function () {
        return (this.selection.widget.options.movable = !1), this;
      }),
      (r.prototype.toggleSelectionMovable = function (t) {
        return (
          null != t
            ? t !== this.isSelectionMovable() &&
              (t
                ? this.enableSelectionMovable()
                : this.disableSelectionMovable())
            : this.isSelectionMovable()
            ? this.disableSelectionMovable()
            : this.enableSelectionMovable(),
          this
        );
      }),
      (r.prototype.isRubberbandEnabled = function () {
        return !this.selection.rubberbandDisabled;
      }),
      (r.prototype.enableRubberband = function () {
        return this.selection.enableRubberband(), this;
      }),
      (r.prototype.disableRubberband = function () {
        return this.selection.disableRubberband(), this;
      }),
      (r.prototype.toggleRubberband = function (t) {
        return (
          null != t
            ? t !== this.isRubberbandEnabled() &&
              (t ? this.enableRubberband() : this.disableRubberband())
            : this.isRubberbandEnabled()
            ? this.disableRubberband()
            : this.enableRubberband(),
          this
        );
      }),
      (r.prototype.isStrictRubberband = function () {
        return !0 === this.selection.widget.options.strict;
      }),
      (r.prototype.enableStrictRubberband = function () {
        return (this.selection.widget.options.strict = !0), this;
      }),
      (r.prototype.disableStrictRubberband = function () {
        return (this.selection.widget.options.strict = !1), this;
      }),
      (r.prototype.toggleStrictRubberband = function (t) {
        return (
          null != t
            ? t !== this.isStrictRubberband() &&
              (t
                ? this.enableStrictRubberband()
                : this.disableStrictRubberband())
            : this.isStrictRubberband()
            ? this.disableStrictRubberband()
            : this.enableStrictRubberband(),
          this
        );
      }),
      (r.prototype.setRubberbandModifiers = function (t) {
        this.selection.setModifiers(t);
      }),
      (r.prototype.setSelectionFilter = function (t) {
        return this.selection.setFilter(t), this;
      }),
      (r.prototype.setSelectionDisplayContent = function (t) {
        return this.selection.setContent(t), this;
      }),
      (r.prototype.isSelectionEmpty = function () {
        return this.selection.isEmpty();
      }),
      (r.prototype.cleanSelection = function (t) {
        return this.selection.clean(t), this;
      }),
      (r.prototype.resetSelection = function (t, e) {
        return this.selection.reset(t, e), this;
      }),
      (r.prototype.getSelectedCells = function () {
        return this.selection.cells;
      }),
      (r.prototype.getSelectedCellCount = function () {
        return this.selection.length;
      }),
      (r.prototype.isSelected = function (t) {
        return this.selection.isSelected(t);
      }),
      (r.prototype.select = function (t, e) {
        return this.selection.select(t, e), this;
      }),
      (r.prototype.unselect = function (t, e) {
        return this.selection.unselect(t, e), this;
      }),
      (r.prototype.isSnaplineEnabled = function () {
        return !this.snapline.widget.disabled;
      }),
      (r.prototype.enableSnapline = function () {
        return this.snapline.widget.enable(), this;
      }),
      (r.prototype.disableSnapline = function () {
        return this.snapline.widget.disable(), this;
      }),
      (r.prototype.toggleSnapline = function (t) {
        if (null == t)
          return (
            this.isSnaplineEnabled()
              ? this.disableSnapline()
              : this.enableSnapline(),
            this
          );
        t !== this.isSnaplineEnabled() &&
          (t ? this.enableSnapline() : this.disableSnapline());
      }),
      (r.prototype.hideSnapline = function () {
        return this.snapline.widget.hide(), this;
      }),
      (r.prototype.setSnaplineFilter = function (t) {
        return this.snapline.widget.setFilter(t), this;
      }),
      (r.prototype.isSnaplineOnResizingEnabled = function () {
        return !0 === this.snapline.widget.options.resizing;
      }),
      (r.prototype.enableSnaplineOnResizing = function () {
        return (this.snapline.widget.options.resizing = !0), this;
      }),
      (r.prototype.disableSnaplineOnResizing = function () {
        return (this.snapline.widget.options.resizing = !1), this;
      }),
      (r.prototype.toggleSnaplineOnResizing = function (t) {
        return (
          null != t
            ? t !== this.isSnaplineOnResizingEnabled() &&
              (t
                ? this.enableSnaplineOnResizing()
                : this.disableSnaplineOnResizing())
            : this.isSnaplineOnResizingEnabled()
            ? this.disableSnaplineOnResizing()
            : this.enableSnaplineOnResizing(),
          this
        );
      }),
      (r.prototype.isSharpSnapline = function () {
        return !0 === this.snapline.widget.options.sharp;
      }),
      (r.prototype.enableSharpSnapline = function () {
        return (this.snapline.widget.options.sharp = !0), this;
      }),
      (r.prototype.disableSharpSnapline = function () {
        return (this.snapline.widget.options.sharp = !1), this;
      }),
      (r.prototype.toggleSharpSnapline = function (t) {
        return (
          null != t
            ? t !== this.isSharpSnapline() &&
              (t ? this.enableSharpSnapline() : this.disableSharpSnapline())
            : this.isSharpSnapline()
            ? this.disableSharpSnapline()
            : this.enableSharpSnapline(),
          this
        );
      }),
      (r.prototype.getSnaplineTolerance = function () {
        return this.snapline.widget.options.tolerance;
      }),
      (r.prototype.setSnaplineTolerance = function (t) {
        return (this.snapline.widget.options.tolerance = t), this;
      }),
      (r.prototype.removeTools = function () {
        return this.emit('tools:remove'), this;
      }),
      (r.prototype.hideTools = function () {
        return this.emit('tools:hide'), this;
      }),
      (r.prototype.showTools = function () {
        return this.emit('tools:show'), this;
      }),
      (r.prototype.toSVG = function (t, e) {
        void 0 === e && (e = {}), this.format.toSVG(t, e);
      }),
      (r.prototype.toDataURL = function (t, e) {
        this.format.toDataURL(t, e);
      }),
      (r.prototype.toPNG = function (t, e) {
        void 0 === e && (e = {}), this.format.toPNG(t, e);
      }),
      (r.prototype.toJPEG = function (t, e) {
        void 0 === e && (e = {}), this.format.toJPEG(t, e);
      }),
      (r.prototype.printPreview = function (t) {
        this.print.show(t);
      }),
      (r.prototype.dispose = function () {
        this.clearCells(),
          this.off(),
          this.css.dispose(),
          this.hook.dispose(),
          this.defs.dispose(),
          this.grid.dispose(),
          this.coord.dispose(),
          this.transform.dispose(),
          this.knob.dispose(),
          this.highlight.dispose(),
          this.background.dispose(),
          this.clipboard.dispose(),
          this.snapline.dispose(),
          this.selection.dispose(),
          this.history.dispose(),
          this.keyboard.dispose(),
          this.mousewheel.dispose(),
          this.print.dispose(),
          this.format.dispose(),
          this.minimap.dispose(),
          this.panning.dispose(),
          this.scroller.dispose(),
          this.view.dispose(),
          this.renderer.dispose(),
          this.size.dispose();
      }),
      o([dO.checkScroller()], r.prototype, 'lockScroller', null),
      o([dO.checkScroller()], r.prototype, 'unlockScroller', null),
      o([dO.checkScroller()], r.prototype, 'updateScroller', null),
      o([dO.checkScroller()], r.prototype, 'getScrollbarPosition', null),
      o([dO.checkScroller()], r.prototype, 'setScrollbarPosition', null),
      o([dO.checkScroller()], r.prototype, 'scrollToPoint', null),
      o([dO.checkScroller()], r.prototype, 'scrollToContent', null),
      o([dO.checkScroller()], r.prototype, 'scrollToCell', null),
      o([dO.checkScroller()], r.prototype, 'transitionToPoint', null),
      o([dO.checkScroller()], r.prototype, 'transitionToRect', null),
      o([t.Basecoat.dispose()], r.prototype, 'dispose', null),
      r
    );
  })(t.Basecoat)),
    ((fY = t.Graph || (t.Graph = {})).View = dU),
    (fY.Hook = gt),
    (fY.Renderer = fc),
    (fY.Keyboard = fI),
    (fY.MouseWheel = fG),
    (fY.BaseManager = dH),
    (fY.DefsManager = fS),
    (fY.GridManager = fk),
    (fY.CoordManager = f4),
    (fY.PrintManager = fj),
    (fY.FormatManager = fq),
    (fY.MiniMapManager = fB),
    (fY.HistoryManager = fF),
    (fY.SnaplineManager = fT),
    (fY.ScrollerManager = fN),
    (fY.ClipboardManager = fL),
    (fY.TransformManager = f6),
    (fY.HighlightManager = f5),
    (fY.BackgroundManager = fp),
    (fY.SelectionManager = f7),
    ((fJ = t.Graph || (t.Graph = {})).toStringTag = 'X6.' + fJ.name),
    (fJ.isGraph = function (t) {
      if (null == t) return !1;
      if (t instanceof fJ) return !0;
      var e = t[Symbol.toStringTag],
        n = t;
      return (
        (null == e || e === fJ.toStringTag) &&
        null != n.hook &&
        null != n.view &&
        null != n.model
      );
    }),
    ((fZ = t.Graph || (t.Graph = {})).render = function (t, e) {
      var n = new fZ(t instanceof HTMLElement ? { container: t } : t);
      return null != e && n.fromJSON(e), n;
    }),
    ((fK = t.Graph || (t.Graph = {})).registerNode = t.Node.registry.register),
    (fK.registerEdge = t.Edge.registry.register),
    (fK.registerView = t.CellView.registry.register),
    (fK.registerAttr = uB.registry.register),
    (fK.registerGrid = u8.registry.register),
    (fK.registerFilter = uU.registry.register),
    (fK.registerNodeTool = hm.registry.register),
    (fK.registerEdgeTool = h_.registry.register),
    (fK.registerBackground = uW.registry.register),
    (fK.registerHighlighter = ch.registry.register),
    (fK.registerPortLayout = cy.registry.register),
    (fK.registerPortLabelLayout = cA.registry.register),
    (fK.registerMarker = u1.registry.register),
    (fK.registerRouter = p_.registry.register),
    (fK.registerConnector = pk.registry.register),
    (fK.registerAnchor = h5.registry.register),
    (fK.registerEdgeAnchor = hB.registry.register),
    (fK.registerConnectionPoint = hH.registry.register),
    (fK.registerConnectionStrategy = cV.registry.register),
    (fK.registerHTMLComponent = d7.componentRegistry.register),
    ((fQ = t.Graph || (t.Graph = {})).unregisterNode =
      t.Node.registry.unregister),
    (fQ.unregisterEdge = t.Edge.registry.unregister),
    (fQ.unregisterView = t.CellView.registry.unregister),
    (fQ.unregisterAttr = uB.registry.unregister),
    (fQ.unregisterGrid = u8.registry.unregister),
    (fQ.unregisterFilter = uU.registry.unregister),
    (fQ.unregisterNodeTool = hm.registry.unregister),
    (fQ.unregisterEdgeTool = h_.registry.unregister),
    (fQ.unregisterBackground = uW.registry.unregister),
    (fQ.unregisterHighlighter = ch.registry.unregister),
    (fQ.unregisterPortLayout = cy.registry.unregister),
    (fQ.unregisterPortLabelLayout = cA.registry.unregister),
    (fQ.unregisterMarker = u1.registry.unregister),
    (fQ.unregisterRouter = p_.registry.unregister),
    (fQ.unregisterConnector = pk.registry.unregister),
    (fQ.unregisterAnchor = h5.registry.unregister),
    (fQ.unregisterEdgeAnchor = hB.registry.unregister),
    (fQ.unregisterConnectionPoint = hH.registry.unregister),
    (fQ.unregisterConnectionStrategy = cV.registry.unregister),
    (fQ.unregisterHTMLComponent = d7.componentRegistry.unregister);
  var ge,
    gn,
    gi,
    gr = (function () {
      function e() {
        this.cells = [];
      }
      return (
        (e.prototype.copy = function (e, n, r) {
          void 0 === r && (r = {}), (this.options = i({}, r));
          var o = (t.Model.isModel(n) ? n : n.model).cloneSubGraph(e, r);
          (this.cells = rq(
            Object.keys(o).map(function (t) {
              return o[t];
            }),
            function (t) {
              return t.isEdge() ? 2 : 1;
            }
          )),
            this.serialize(r);
        }),
        (e.prototype.cut = function (e, n, i) {
          void 0 === i && (i = {}),
            this.copy(e, n, i),
            (t.Graph.isGraph(n) ? n.model : n).batchUpdate('cut', function () {
              e.forEach(function (t) {
                return t.remove();
              });
            });
        }),
        (e.prototype.paste = function (e, n) {
          var r = this;
          void 0 === n && (n = {});
          var o = i(i({}, this.options), n),
            s = o.offset,
            a = o.edgeProps,
            l = o.nodeProps,
            u = 20,
            c = 20;
          s &&
            ((u = 'number' == typeof s ? s : s.dx),
            (c = 'number' == typeof s ? s : s.dy)),
            this.deserialize(o);
          var h = this.cells;
          h.forEach(function (t) {
            (t.model = null),
              t.removeProp('zIndex'),
              (u || c) && t.translate(u, c),
              l && t.isNode() && t.prop(l),
              a && t.isEdge() && t.prop(a);
          });
          var p = t.Graph.isGraph(e) ? e.model : e;
          return (
            p.batchUpdate('paste', function () {
              p.addCells(r.cells);
            }),
            this.copy(h, e, n),
            h
          );
        }),
        (e.prototype.serialize = function (t) {
          !1 !== t.useLocalStorage && ge.save(this.cells);
        }),
        (e.prototype.deserialize = function (t) {
          if (t.useLocalStorage) {
            var e = ge.fetch();
            e && (this.cells = e);
          }
        }),
        (e.prototype.isEmpty = function () {
          return this.cells.length <= 0;
        }),
        (e.prototype.clean = function () {
          (this.options = {}), (this.cells = []), ge.clean();
        }),
        e
      );
    })();
  (gn = ge || (ge = {})),
    (gi = ce.prefixCls + '.clipboard.cells'),
    (gn.save = function (t) {
      if (window.localStorage) {
        var e = t.map(function (t) {
          return t.toJSON();
        });
        localStorage.setItem(gi, JSON.stringify(e));
      }
    }),
    (gn.fetch = function () {
      if (window.localStorage) {
        var e = localStorage.getItem(gi),
          n = e ? JSON.parse(e) : [];
        if (n) return t.Model.fromJSON(n);
      }
    }),
    (gn.clean = function () {
      window.localStorage && localStorage.removeItem(gi);
    });
  var go,
    gs,
    ga,
    gl = (function () {
      function e(t) {
        this.halo = t;
      }
      return (
        Object.defineProperty(e.prototype, 'options', {
          get: function () {
            return this.halo.options;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'graph', {
          get: function () {
            return this.halo.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'model', {
          get: function () {
            return this.halo.model;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'view', {
          get: function () {
            return this.halo.view;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'cell', {
          get: function () {
            return this.halo.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, 'node', {
          get: function () {
            return this.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.getPresets = function () {
          return {
            className: 'type-node',
            handles: [
              {
                name: 'remove',
                position: 'nw',
                events: { mousedown: this.removeCell.bind(this) },
                icon: null,
              },
              {
                name: 'resize',
                position: 'se',
                events: {
                  mousedown: this.startResize.bind(this),
                  mousemove: this.doResize.bind(this),
                  mouseup: this.stopResize.bind(this),
                },
                icon: null,
              },
              {
                name: 'clone',
                position: 'n',
                events: {
                  mousedown: this.startClone.bind(this),
                  mousemove: this.doClone.bind(this),
                  mouseup: this.stopClone.bind(this),
                },
                icon: null,
              },
              {
                name: 'link',
                position: 'e',
                events: {
                  mousedown: this.startLink.bind(this),
                  mousemove: this.doLink.bind(this),
                  mouseup: this.stopLink.bind(this),
                },
                icon: null,
              },
              {
                name: 'fork',
                position: 'ne',
                events: {
                  mousedown: this.startFork.bind(this),
                  mousemove: this.doFork.bind(this),
                  mouseup: this.stopFork.bind(this),
                },
                icon: null,
              },
              {
                name: 'unlink',
                position: 'w',
                events: { mousedown: this.unlink.bind(this) },
                icon: null,
              },
              {
                name: 'rotate',
                position: 'sw',
                events: {
                  mousedown: this.startRotate.bind(this),
                  mousemove: this.doRotate.bind(this),
                  mouseup: this.stopRotate.bind(this),
                },
                icon: null,
              },
            ],
            bbox: function (t) {
              return this.options.useCellGeometry
                ? t.cell.getBBox()
                : t.getBBox();
            },
            content: function (t) {
              var e = od(
                  'x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>'
                ),
                n = t.cell,
                i = n.getBBox();
              return e({
                x: Math.floor(i.x),
                y: Math.floor(i.y),
                width: Math.floor(i.width),
                height: Math.floor(i.height),
                angle: Math.floor(n.getAngle()),
              });
            },
            magnet: function (t) {
              return t.container;
            },
            tinyThreshold: 40,
            smallThreshold: 80,
            loopEdgePreferredSide: 'top',
            loopEdgeWidth: 40,
            rotateGrid: 15,
            rotateEmbeds: !1,
          };
        }),
        (e.prototype.removeCell = function () {
          this.model.removeConnectedEdges(this.cell), this.cell.remove();
        }),
        (e.prototype.startLink = function (t) {
          var e = t.x,
            n = t.y;
          this.halo.startBatch();
          var i = this.graph,
            r = this.createEdgeConnectedToSource();
          r.setTarget({ x: e, y: n }),
            this.model.addEdge(r, {
              validation: !1,
              halo: this.halo.cid,
              async: !1,
            }),
            i.view.undelegateEvents(),
            (this.edgeView = i.renderer.findViewByCell(r)),
            this.edgeView.prepareArrowheadDragging('target', {
              x: e,
              y: n,
              fallbackAction: 'remove',
            });
        }),
        (e.prototype.createEdgeConnectedToSource = function () {
          var t = this.getMagnet(this.view, 'source'),
            e = this.getEdgeTerminal(this.view, t),
            n = this.graph.hook.getDefaultEdge(this.view, t);
          return n.setSource(e), n;
        }),
        (e.prototype.getMagnet = function (t, e) {
          var n = this.options.magnet;
          if ('function' == typeof n) {
            var i = oZ(n, this.halo, t, e);
            if (i instanceof SVGElement) return i;
          }
          throw Error('`magnet()` has to return an SVGElement');
        }),
        (e.prototype.getEdgeTerminal = function (t, e) {
          var n = { cell: t.cell.id };
          if (e !== t.container) {
            var i = e.getAttribute('port');
            i ? (n.port = i) : (n.selector = t.getSelector(e));
          }
          return n;
        }),
        (e.prototype.doLink = function (t) {
          var e = t.e,
            n = t.x,
            i = t.y;
          this.edgeView && this.edgeView.onMouseMove(e, n, i);
        }),
        (e.prototype.stopLink = function (t) {
          var e = t.e,
            n = t.x,
            i = t.y,
            r = this.edgeView;
          if (r) {
            r.onMouseUp(e, n, i);
            var o = r.cell;
            o.hasLoop() && this.makeLoopEdge(o),
              this.halo.stopBatch(),
              this.halo.trigger('action:edge:addde', { edge: o }),
              (this.edgeView = null);
          }
          this.graph.view.delegateEvents();
        }),
        (e.prototype.makeLoopEdge = function (e) {
          var n = null,
            i = null,
            r = this.options.loopEdgeWidth,
            o = this.graph.options,
            s = new t.Rectangle(0, 0, o.width, o.height),
            a = this.graph.graphToLocal(this.view.getBBox());
          [
            this.options.loopEdgePreferredSide,
            'top',
            'bottom',
            'left',
            'right',
          ].some(function (e) {
            var o = null,
              l = 0,
              u = 0;
            switch (e) {
              case 'top':
                (o = new t.Point(a.x + a.width / 2, a.y - r)), (l = r / 2);
                break;
              case 'bottom':
                (o = new t.Point(a.x + a.width / 2, a.y + a.height + r)),
                  (l = r / 2);
                break;
              case 'left':
                (o = new t.Point(a.x - r, a.y + a.height / 2)), (u = r / 2);
                break;
              case 'right':
                (o = new t.Point(a.x + a.width + r, a.y + a.height / 2)),
                  (u = r / 2);
            }
            return (
              !!o &&
              ((n = o.translate(-l, -u)),
              (i = o.translate(l, u)),
              s.containsPoint(n) && s.containsPoint(i))
            );
          }) &&
            n &&
            i &&
            e.setVertices([n, i]);
        }),
        (e.prototype.startResize = function (e) {
          var n = e.e;
          this.halo.startBatch(),
            (this.flip = [1, 0, 0, 1, 1, 0, 0, 1][
              Math.floor(t.Angle.normalize(this.node.getAngle()) / 45)
            ]),
            this.view.addClass('node-resizing'),
            ff('node:resize', n, this.view);
        }),
        (e.prototype.doResize = function (t) {
          var e = t.e,
            n = t.dx,
            i = t.dy,
            r = this.node.getSize(),
            o = Math.max(r.width + (this.flip ? n : i), 1),
            s = Math.max(r.height + (this.flip ? i : n), 1);
          this.node.resize(o, s, { absolute: !0 }),
            ff('node:resizing', e, this.view);
        }),
        (e.prototype.stopResize = function (t) {
          var e = t.e;
          this.view.removeClass('node-resizing'),
            ff('node:resized', e, this.view),
            this.halo.stopBatch();
        }),
        (e.prototype.startClone = function (e) {
          var n = e.e,
            i = e.x,
            r = e.y;
          this.halo.startBatch();
          var o = this.options.clone(this.cell, { clone: !0 });
          if (!t.Cell.isCell(o))
            throw Error("option 'clone()' has to return a cell");
          this.centerNodeAtCursor(o, i, r),
            this.model.addCell(o, { halo: this.halo.cid, async: !1 });
          var s = this.graph.renderer.findViewByCell(o);
          s.onMouseDown(n, i, r), this.halo.setEventData(n, { cloneView: s });
        }),
        (e.prototype.centerNodeAtCursor = function (t, e, n) {
          var i = t.getBBox().getCenter(),
            r = e - i.x,
            o = n - i.y;
          t.translate(r, o);
        }),
        (e.prototype.doClone = function (t) {
          var e = t.e,
            n = t.x,
            i = t.y,
            r = this.halo.getEventData(e).cloneView;
          r && r.onMouseMove(e, n, i);
        }),
        (e.prototype.stopClone = function (t) {
          var e = t.e,
            n = t.x,
            i = t.y,
            r = this.halo.getEventData(e).cloneView;
          r && r.onMouseUp(e, n, i), this.halo.stopBatch();
        }),
        (e.prototype.startFork = function (e) {
          var n = e.e,
            i = e.x,
            r = e.y;
          this.halo.startBatch();
          var o = this.options.clone(this.cell, { fork: !0 });
          if (!t.Cell.isCell(o))
            throw Error("option 'clone()' has to return a cell");
          this.centerNodeAtCursor(o, i, r),
            this.model.addCell(o, { halo: this.halo.cid, async: !1 });
          var s = this.createEdgeConnectedToSource(),
            a = this.graph.renderer.findViewByCell(o),
            l = this.getMagnet(a, 'target'),
            u = this.getEdgeTerminal(a, l);
          s.setTarget(u),
            this.model.addEdge(s, { halo: this.halo.cid, async: !1 }),
            a.onMouseDown(n, i, r),
            this.halo.setEventData(n, { cloneView: a });
        }),
        (e.prototype.doFork = function (t) {
          var e = t.e,
            n = t.x,
            i = t.y,
            r = this.halo.getEventData(e).cloneView;
          r && r.onMouseMove(e, n, i);
        }),
        (e.prototype.stopFork = function (t) {
          var e = t.e,
            n = t.x,
            i = t.y,
            r = this.halo.getEventData(e).cloneView;
          r && r.onMouseUp(e, n, i), this.halo.stopBatch();
        }),
        (e.prototype.startRotate = function (e) {
          var n = this,
            i = e.e,
            r = e.x,
            o = e.y;
          this.halo.startBatch();
          var s = this.node.getBBox().getCenter(),
            a = [this.node];
          this.options.rotateEmbeds &&
            this.node.getDescendants({ deep: !0 }).reduce(function (t, e) {
              return e.isNode() && t.push(e), t;
            }, a),
            this.halo.setEventData(i, {
              center: s,
              nodes: a,
              rotateStartAngles: a.map(function (t) {
                return t.getAngle();
              }),
              clientStartAngle: new t.Point(r, o).theta(s),
            }),
            a.forEach(function (t) {
              var e = n.graph.findViewByCell(t);
              e && (e.addClass('node-rotating'), ff('node:rotate', i, e));
            });
        }),
        (e.prototype.doRotate = function (e) {
          var n = this,
            i = e.e,
            r = e.x,
            o = e.y,
            s = this.halo.getEventData(i),
            a = s.clientStartAngle - new t.Point(r, o).theta(s.center);
          s.nodes.forEach(function (e, r) {
            var o = s.rotateStartAngles[r],
              l = t.Util.snapToGrid(o + a, n.options.rotateGrid);
            e.rotate(l, { absolute: !0, center: s.center, halo: n.halo.cid }),
              ff('node:rotating', i, n.graph.findViewByCell(e));
          });
        }),
        (e.prototype.stopRotate = function (t) {
          var e = this,
            n = t.e;
          this.halo.getEventData(n).nodes.forEach(function (t) {
            var i = e.graph.findViewByCell(t);
            i.removeClass('node-rotating'), ff('node:rotated', n, i);
          }),
            this.halo.stopBatch();
        }),
        (e.prototype.unlink = function () {
          this.halo.startBatch(),
            this.model.removeConnectedEdges(this.cell),
            this.halo.stopBatch();
        }),
        e
      );
    })(),
    gu = (function () {
      function t(t) {
        this.halo = t;
      }
      return (
        Object.defineProperty(t.prototype, 'options', {
          get: function () {
            return this.halo.options;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, 'graph', {
          get: function () {
            return this.halo.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, 'model', {
          get: function () {
            return this.halo.model;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, 'view', {
          get: function () {
            return this.halo.view;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, 'cell', {
          get: function () {
            return this.halo.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, 'edge', {
          get: function () {
            return this.cell;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.getPresets = function () {
          return {
            className: 'type-edge',
            handles: [
              {
                name: 'remove',
                position: 'nw',
                icon: null,
                events: { mousedown: this.removeEdge.bind(this) },
              },
              {
                name: 'direction',
                position: 'se',
                icon: null,
                events: { mousedown: this.directionSwap.bind(this) },
              },
            ],
            content: !1,
            bbox: function (t) {
              return t.graph.localToGraph(t.getPointAtRatio(0.5));
            },
            tinyThreshold: -1,
            smallThreshold: -1,
          };
        }),
        (t.prototype.removeEdge = function () {
          this.cell.remove();
        }),
        (t.prototype.directionSwap = function () {
          var t = this.edge.getSource(),
            e = this.edge.getTarget();
          this.edge.prop({ source: e, target: t });
        }),
        t
      );
    })(),
    gc = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'type', {
          get: function () {
            return this.options.type || 'surround';
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'handleOptions', {
          get: function () {
            return this.options;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.init = function (t) {
          (this.options = rk(
            r.defaultOptions,
            this.cell.isNode()
              ? new gl(this).getPresets()
              : this.cell.isEdge()
              ? new gu(this).getPresets()
              : null,
            t
          )),
            this.render(),
            this.initHandles(),
            this.update(),
            this.startListening();
        }),
        (r.prototype.startListening = function () {
          var t = this.model,
            n = this.graph;
          this.view.cell.on('removed', this.remove, this),
            t.on('reseted', this.remove, this),
            n.on('halo:destroy', this.remove, this),
            t.on('*', this.update, this),
            n.on('scale', this.update, this),
            n.on('translate', this.update, this),
            e.prototype.startListening.call(this);
        }),
        (r.prototype.stopListening = function () {
          var t = this.model,
            n = this.graph,
            i = this.view.cell;
          this.undelegateEvents(),
            i.off('removed', this.remove, this),
            t.off('reseted', this.remove, this),
            n.off('halo:destroy', this.remove, this),
            t.off('*', this.update, this),
            n.off('scale', this.update, this),
            n.off('translate', this.update, this),
            e.prototype.stopListening.call(this);
        }),
        (r.prototype.render = function () {
          var t = this.options,
            e = this.prefixClassName('widget-halo');
          return (
            this.view.addClass(go.NODE_CLS),
            (this.container = document.createElement('div')),
            (this.$container = this.$(this.container)
              .addClass(e)
              .attr('data-shape', this.view.cell.shape)),
            t.className && this.$container.addClass(t.className),
            (this.$handleContainer = this.$('<div/>')
              .addClass(e + '-handles')
              .appendTo(this.container)),
            (this.$content = this.$('<div/>')
              .addClass(e + '-content')
              .appendTo(this.container)),
            this.$container.appendTo(this.graph.container),
            this
          );
        }),
        (r.prototype.remove = function () {
          return (
            this.stopBatch(),
            this.view.removeClass(go.NODE_CLS),
            e.prototype.remove.call(this)
          );
        }),
        (r.prototype.update = function () {
          if (this.isRendered()) {
            this.updateContent();
            var t = this.getBBox(),
              e = this.options.tinyThreshold || 0,
              n = this.options.smallThreshold || 0;
            this.$handleContainer.toggleClass(
              this.handleClassName + '-tiny',
              t.width < e && t.height < e
            );
            var i = this.handleClassName + '-small';
            this.$handleContainer.toggleClass(
              i,
              !this.$handleContainer.hasClass(i) && t.width < n && t.height < n
            ),
              this.$container.css({
                width: t.width,
                height: t.height,
                left: t.x,
                top: t.y,
              }),
              this.hasHandle('unlink') && this.toggleUnlink(),
              ('surround' !== this.type && 'toolbar' !== this.type) ||
                (this.hasHandle('fork') && this.toggleFork());
          }
        }),
        (r.prototype.updateContent = function () {
          var t = this.options.content;
          if ('function' == typeof t) {
            var e = oZ(t, this, this.view, this.$content[0]);
            e && this.$content.html(e);
          } else t ? this.$content.html(t) : this.$content.remove();
        }),
        (r.prototype.getBBox = function () {
          var e = this.view,
            n = this.options.bbox,
            r = 'function' == typeof n ? oZ(n, this, e) : n;
          return t.Rectangle.create(i({ x: 0, y: 0, width: 1, height: 1 }, r));
        }),
        (r.prototype.removeCell = function () {
          this.cell.remove();
        }),
        (r.prototype.toggleFork = function () {
          var t = this.view.cell.clone(),
            e = this.graph.hook.createCellView(t),
            n = this.graph.hook.validateConnection(
              this.view,
              null,
              e,
              null,
              'target'
            );
          this.$handleContainer.children('.fork').toggleClass('hidden', !n),
            e.remove();
        }),
        (r.prototype.toggleUnlink = function () {
          var t = this.model.getConnectedEdges(this.view.cell).length > 0;
          this.$handleContainer.children('.unlink').toggleClass('hidden', !t);
        }),
        (r.prototype.startBatch = function () {
          this.model.startBatch('halo', { halo: this.cid });
        }),
        (r.prototype.stopBatch = function () {
          this.model.hasActiveBatch('halo') &&
            this.model.stopBatch('halo', { halo: this.cid });
        }),
        r
      );
    })(fi);
  ((gc || (gc = {})).defaultOptions = {
    type: 'surround',
    clearAll: !0,
    clearOnBlankMouseDown: !0,
    useCellGeometry: !1,
    clone: function (t) {
      return t.clone().removeZIndex();
    },
  }),
    Object.getOwnPropertyNames(dK.prototype).forEach(function (t) {
      'constructor' !== t &&
        Object.defineProperty(
          gc.prototype,
          t,
          Object.getOwnPropertyDescriptor(dK.prototype, t)
        );
    }),
    ((go || (go = {})).NODE_CLS = 'has-widget-halo');
  var gh,
    gp,
    gd,
    gf = (function (e) {
      function r(n) {
        var o = e.call(this) || this;
        return (
          (o.options = i(i({}, r.defaults), n)),
          (o.container = document.createElement('div')),
          (o.$container = o
            .$(o.container)
            .addClass(o.prefixClassName('widget-dnd'))),
          (o.draggingGraph = new t.Graph(
            i(i({}, o.options.delegateGraphOptions), {
              container: document.createElement('div'),
              width: 1,
              height: 1,
            })
          )),
          o.$container.append(o.draggingGraph.container),
          o
        );
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'targetScroller', {
          get: function () {
            var e = this.options.target;
            return t.Graph.isGraph(e) ? e.scroller.widget : e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'targetGraph', {
          get: function () {
            var e = this.options.target;
            return t.Graph.isGraph(e) ? e : e.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'targetModel', {
          get: function () {
            return this.targetGraph.model;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'snapline', {
          get: function () {
            return this.targetGraph.snapline.widget;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.start = function (t, e) {
          var n = e;
          n.preventDefault(),
            this.targetModel.startBatch('dnd'),
            this.$container
              .addClass('dragging')
              .appendTo(this.options.draggingContainer || document.body),
            (this.sourceNode = t),
            this.prepareDragging(t, n.clientX, n.clientY);
          var i = this.updateNodePosition(n.clientX, n.clientY);
          this.isSnaplineEnabled() &&
            (this.snapline.captureCursorOffset({
              e: n,
              node: t,
              cell: t,
              view: this.draggingView,
              x: i.x,
              y: i.y,
            }),
            this.draggingNode.on('change:position', this.snap, this)),
            this.delegateDocumentEvents(r.documentEvents, n.data);
        }),
        (r.prototype.isSnaplineEnabled = function () {
          return this.snapline && !this.snapline.disabled;
        }),
        (r.prototype.prepareDragging = function (t, e, n) {
          var i = this.draggingGraph,
            r = i.model,
            o = this.options.getDragNode(t, {
              sourceNode: t,
              draggingGraph: i,
              targetGraph: this.targetGraph,
            });
          o.position(0, 0);
          var s = 5;
          if (
            (this.isSnaplineEnabled() &&
              (s += this.snapline.options.tolerance || 0),
            this.isSnaplineEnabled() || this.options.scaled)
          ) {
            var a = this.targetGraph.transform.getScale();
            i.scale(a.sx, a.sy), (s *= Math.max(a.sx, a.sy));
          } else i.scale(1, 1);
          this.clearDragging(),
            this.options.animation && this.$container.stop(!0, !0),
            r.resetCells([o]);
          var l = i.findViewByCell(o);
          l.undelegateEvents(),
            l.cell.off('changed'),
            i.fitToContent({ padding: s, allowNewOrigin: 'any' });
          var u = l.getBBox();
          (this.geometryBBox = l.getBBox({ useCellGeometry: !0 })),
            (this.delta = this.geometryBBox.getTopLeft().diff(u.getTopLeft())),
            (this.draggingNode = o),
            (this.draggingView = l),
            (this.draggingBBox = o.getBBox()),
            (this.padding = s),
            (this.originOffset = this.updateGraphPosition(e, n));
        }),
        (r.prototype.updateGraphPosition = function (t, e) {
          var n = document.body.scrollTop || document.documentElement.scrollTop,
            i = this.delta,
            r = this.geometryBBox,
            o = this.padding || 5,
            s = {
              left: t - i.x - r.width / 2 - o,
              top: e - i.y - r.height / 2 - o + n,
            };
          return this.draggingGraph && this.$container.offset(s), s;
        }),
        (r.prototype.updateNodePosition = function (t, e) {
          var n = this.targetGraph.clientToLocal(t, e),
            i = this.draggingBBox;
          return (
            (n.x -= i.width / 2),
            (n.y -= i.height / 2),
            this.draggingNode.position(n.x, n.y),
            n
          );
        }),
        (r.prototype.snap = function (t) {
          var e = t.cell,
            n = t.current,
            i = t.options,
            r = e;
          if (i.snapped) {
            var o = this.draggingBBox;
            r.position(o.x + i.tx, o.y + i.ty, { silent: !0 }),
              this.draggingView.translate(),
              r.position(n.x, n.y, { silent: !0 }),
              (this.snapOffset = { x: i.tx, y: i.ty });
          } else this.snapOffset = null;
        }),
        (r.prototype.onDragging = function (t) {
          var e = this.draggingView;
          if (e) {
            t.preventDefault();
            var n = this.normalizeEvent(t),
              i = n.clientX,
              r = n.clientY;
            this.updateGraphPosition(i, r);
            var o = this.updateNodePosition(i, r),
              s = this.targetGraph.options.embedding.enabled,
              a =
                (s || this.isSnaplineEnabled()) &&
                this.isInsideValidArea({ x: i, y: r });
            if (s) {
              e.setEventData(n, {
                graph: this.targetGraph,
                candidateEmbedView: this.candidateEmbedView,
              });
              var l = e.getEventData(n);
              a ? e.processEmbedding(n, l) : e.clearEmbedding(l),
                (this.candidateEmbedView = l.candidateEmbedView);
            }
            this.isSnaplineEnabled() &&
              (a
                ? this.snapline.snapOnMoving({ e: n, view: e, x: o.x, y: o.y })
                : this.snapline.hide());
          }
        }),
        (r.prototype.onDragEnd = function (t) {
          var e = this,
            n = this.draggingNode;
          if (n) {
            var i = this.normalizeEvent(t),
              r = this.draggingView,
              o = this.draggingBBox,
              s = this.snapOffset,
              a = o.x,
              l = o.y;
            s && ((a += s.x), (l += s.y)), n.position(a, l, { silent: !0 });
            var u = this.drop(n, { x: i.clientX, y: i.clientY }),
              c = function (t) {
                t
                  ? (e.onDropped(n),
                    e.targetGraph.options.embedding.enabled &&
                      r &&
                      (r.setEventData(i, {
                        cell: t,
                        graph: e.targetGraph,
                        candidateEmbedView: e.candidateEmbedView,
                      }),
                      r.finalizeEmbedding(i, r.getEventData(i))))
                  : e.onDropInvalid(),
                  (e.candidateEmbedView = null),
                  e.targetModel.stopBatch('dnd');
              };
            oQ(u) ? (this.undelegateDocumentEvents(), u.then(c)) : c(u);
          }
        }),
        (r.prototype.clearDragging = function () {
          this.draggingNode &&
            ((this.sourceNode = null),
            this.draggingNode.remove(),
            (this.draggingNode = null),
            (this.draggingView = null),
            (this.delta = null),
            (this.padding = null),
            (this.snapOffset = null),
            (this.originOffset = null),
            this.undelegateDocumentEvents());
        }),
        (r.prototype.onDropped = function (t) {
          this.draggingNode === t &&
            (this.clearDragging(),
            this.$container.removeClass('dragging').remove());
        }),
        (r.prototype.onDropInvalid = function () {
          var t = this,
            e = this.draggingNode;
          if (e) {
            var n = this.options.animation;
            if (n) {
              var i = ('object' == typeof n && n.duration) || 150,
                r = ('object' == typeof n && n.easing) || 'swing';
              (this.draggingView = null),
                this.$container.animate(this.originOffset, i, r, function () {
                  return t.onDropped(e);
                });
            } else this.onDropped(e);
          }
        }),
        (r.prototype.isInsideValidArea = function (t) {
          var e,
            n = null,
            i = this.targetGraph,
            r = this.targetScroller;
          this.options.dndContainer &&
            (n = this.getDropArea(this.options.dndContainer));
          var o = n && n.containsPoint(t);
          if (r) {
            if (r.options.autoResize) e = this.getDropArea(r.container);
            else {
              var s = this.getDropArea(r.container);
              e = this.getDropArea(i.container).intersectsWithRect(s);
            }
          } else e = this.getDropArea(i.container);
          return !o && e && e.containsPoint(t);
        }),
        (r.prototype.getDropArea = function (e) {
          var n = this.$(e),
            i = n.offset(),
            r = document.body.scrollTop || document.documentElement.scrollTop,
            o = document.body.scrollLeft || document.documentElement.scrollLeft;
          return t.Rectangle.create({
            x: i.left + parseInt(n.css('border-left-width'), 10) - o,
            y: i.top + parseInt(n.css('border-top-width'), 10) - r,
            width: n.innerWidth(),
            height: n.innerHeight(),
          });
        }),
        (r.prototype.drop = function (e, n) {
          var i = this;
          if (this.isInsideValidArea(n)) {
            var r = this.targetGraph,
              o = r.model,
              s = r.clientToLocal(n),
              a = this.sourceNode,
              l = this.options.getDropNode(e, {
                sourceNode: a,
                draggingNode: e,
                targetGraph: this.targetGraph,
                draggingGraph: this.draggingGraph,
              }),
              u = l.getBBox();
            (s.x += u.x - u.width / 2), (s.y += u.y - u.height / 2);
            var c = this.snapOffset ? 1 : r.getGridSize();
            l.position(t.Util.snapToGrid(s.x, c), t.Util.snapToGrid(s.y, c)),
              l.removeZIndex();
            var h = this.options.validateNode,
              p =
                !h ||
                h(l, {
                  sourceNode: a,
                  draggingNode: e,
                  droppingNode: l,
                  targetGraph: r,
                  draggingGraph: this.draggingGraph,
                });
            return 'boolean' == typeof p
              ? p
                ? (o.addCell(l, { stencil: this.cid }), l)
                : null
              : se(p).then(function (t) {
                  return t ? (o.addCell(l, { stencil: i.cid }), l) : null;
                });
          }
          return null;
        }),
        (r.prototype.onRemove = function () {
          this.draggingGraph &&
            (this.draggingGraph.view.remove(), this.draggingGraph.dispose());
        }),
        (r.prototype.dispose = function () {
          this.remove();
        }),
        o([t.View.dispose()], r.prototype, 'dispose', null),
        r
      );
    })(t.View);
  ((gp = gf || (gf = {})).defaults = {
    animation: !1,
    getDragNode: function (t) {
      return t.clone();
    },
    getDropNode: function (t) {
      return t.clone();
    },
  }),
    (gp.documentEvents = {
      mousemove: 'onDragging',
      touchmove: 'onDragging',
      mouseup: 'onDragEnd',
      touchend: 'onDragEnd',
      touchcancel: 'onDragEnd',
    }),
    ((gd = gh || (gh = {})).getMaxDim = function (t, e) {
      return t.reduce(function (t, n) {
        return Math.max(n.getSize()[e], t);
      }, 0);
    }),
    (gd.getNodesInRow = function (t, e, n) {
      for (var i = [], r = n * e, o = r + n; r < o; r += 1) i.push(t[r]);
      return i;
    }),
    (gd.getNodesInColumn = function (t, e, n) {
      for (var i = [], r = e, o = t.length; r < o; r += n) i.push(t[r]);
      return i;
    }),
    (gd.accumulate = function (t, e) {
      return t.reduce(
        function (t, e, n) {
          return t.push(t[n] + e), t;
        },
        [e || 0]
      );
    });
  var gg,
    g$,
    g0,
    gv,
    gy,
    gm = (function (e) {
      function r(n) {
        var o = e.call(this) || this;
        (o.graphs = {}),
          (o.$groups = {}),
          (o.options = i(i({}, r.defaultOptions), n)),
          (o.dnd = new gf(o.options)),
          (o.onSearch = iq(o.onSearch, 200)),
          (o.container = document.createElement('div')),
          (o.$container = o
            .$(o.container)
            .addClass(o.prefixClassName(gg.base))
            .attr(
              'data-not-found-text',
              o.options.notFoundText || 'No matches found'
            )),
          (o.options.collapsable =
            n.collapsable &&
            n.groups &&
            n.groups.some(function (t) {
              return !1 !== t.collapsable;
            })),
          o.options.collapsable &&
            (o.$container.addClass('collapsable'),
            n.groups &&
              n.groups.every(function (t) {
                return t.collapsed || !1 === t.collapsable;
              }) &&
              o.$container.addClass('collapsed')),
          o
            .$('<div/>')
            .addClass(o.prefixClassName(gg.title))
            .html(o.options.title)
            .appendTo(o.$container),
          n.search &&
            o.$container.addClass('searchable').append(o.renderSearch()),
          (o.$content = o
            .$('<div/>')
            .addClass(o.prefixClassName(gg.content))
            .appendTo(o.$container));
        var s = n.stencilGraphOptions || {};
        if (n.groups && n.groups.length)
          n.groups.forEach(function (e) {
            var r = o
              .$('<div/>')
              .addClass(o.prefixClassName(gg.group))
              .attr('data-name', e.name);
            ((null == e.collapsable && n.collapsable) ||
              !1 !== e.collapsable) &&
              r.addClass('collapsable'),
              r.toggleClass('collapsed', !0 === e.collapsed);
            var a = o
                .$('<h3/>')
                .addClass(o.prefixClassName(gg.groupTitle))
                .html(e.title || e.name),
              l = o.$('<div/>').addClass(o.prefixClassName(gg.groupContent)),
              u = e.graphOptions,
              c = new t.Graph(
                i(i(i({}, s), u), {
                  container: document.createElement('div'),
                  model: s.model || new t.Model(),
                  width: e.graphWidth || n.stencilGraphWidth,
                  height: e.graphHeight || n.stencilGraphHeight,
                  interacting: !1,
                  preventDefaultBlankAction: !1,
                })
              );
            l.append(c.container),
              r.append(a, l).appendTo(o.$content),
              (o.$groups[e.name] = r),
              (o.graphs[e.name] = c);
          });
        else {
          var a = new t.Graph(
            i(i({}, s), {
              container: document.createElement('div'),
              model: s.model || new t.Model(),
              width: n.stencilGraphWidth,
              height: n.stencilGraphHeight,
              interacting: !1,
              preventDefaultBlankAction: !1,
            })
          );
          o.$content.append(a.container), (o.graphs[g$.defaultGroupName] = a);
        }
        return o.startListening(), o;
      }
      return (
        n(r, e),
        Object.defineProperty(r.prototype, 'targetScroller', {
          get: function () {
            var e = this.options.target;
            return t.Graph.isGraph(e) ? e.scroller.widget : e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'targetGraph', {
          get: function () {
            var e = this.options.target;
            return t.Graph.isGraph(e) ? e : e.graph;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, 'targetModel', {
          get: function () {
            return this.targetGraph.model;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.renderSearch = function () {
          return this.$('<div/>')
            .addClass(this.prefixClassName(gg.search))
            .append(
              this.$('<input/>')
                .attr({
                  type: 'search',
                  placeholder: this.options.placeholder || 'Search',
                })
                .addClass(this.prefixClassName(gg.searchText))
            );
        }),
        (r.prototype.startListening = function () {
          var t,
            e = this,
            n = this.prefixClassName(gg.title),
            i = this.prefixClassName(gg.searchText),
            r = this.prefixClassName(gg.groupTitle);
          this.delegateEvents(
            (((t = {})['click .' + n] = 'onTitleClick'),
            (t['touchstart .' + n] = 'onTitleClick'),
            (t['click .' + r] = 'onGroupTitleClick'),
            (t['touchstart .' + r] = 'onGroupTitleClick'),
            (t['input .' + i] = 'onSearch'),
            (t['focusin .' + i] = 'onSearchFocusIn'),
            (t['focusout .' + i] = 'onSearchFocusOut'),
            t)
          ),
            Object.keys(this.graphs).forEach(function (t) {
              e.graphs[t].on('cell:mousedown', e.onDragStart, e);
            });
        }),
        (r.prototype.stopListening = function () {
          var t = this;
          this.undelegateEvents(),
            Object.keys(this.graphs).forEach(function (e) {
              t.graphs[e].off('cell:mousedown', t.onDragStart, t);
            });
        }),
        (r.prototype.load = function (t, e) {
          var n = this;
          return (
            Array.isArray(t)
              ? this.loadGroup(t, e)
              : this.options.groups &&
                Object.keys(this.options.groups).forEach(function (e) {
                  t[e] && n.loadGroup(t[e], e);
                }),
            this
          );
        }),
        (r.prototype.loadGroup = function (e, n) {
          var i = this.getModel(n);
          if (i) {
            var r = e.map(function (e) {
              return t.Node.isNode(e) ? e : t.Node.create(e);
            });
            i.resetCells(r);
          }
          var o = this.getGroup(n),
            s = this.options.stencilGraphHeight;
          o && null != o.graphHeight && (s = o.graphHeight);
          var a = (o && o.layout) || this.options.layout;
          if ((a && i && oZ(a, this, i, o), !s)) {
            var l = this.getGraph(n);
            l.fitToContent({
              minWidth: l.options.width,
              gridHeight: 1,
              padding:
                (o && o.graphPadding) || this.options.stencilGraphPadding || 10,
            });
          }
          return this;
        }),
        (r.prototype.onDragStart = function (t) {
          var e = t.e,
            n = t.node;
          this.dnd.start(n, e);
        }),
        (r.prototype.filter = function (e, n) {
          var i = this,
            r = Object.keys(this.graphs).reduce(function (r, o) {
              var s = i.graphs[o],
                a = o === g$.defaultGroupName ? null : o,
                l = s.model.getNodes().filter(function (t) {
                  var r = !1;
                  r =
                    'function' == typeof n
                      ? oZ(n, i, t, e, a, i)
                      : 'boolean' == typeof n
                      ? n
                      : i.isCellMatched(t, e, n, e.toLowerCase() !== e);
                  var o = s.renderer.findViewByCell(t);
                  return o && o.$(o.container).toggleClass('unmatched', !r), r;
                }),
                u = l.length > 0,
                c = i.options,
                h = new t.Model();
              return (
                h.resetCells(l),
                c.layout && oZ(c.layout, i, h, i.getGroup(o)),
                i.$groups[o] && i.$groups[o].toggleClass('unmatched', !u),
                s.fitToContent({
                  gridWidth: 1,
                  gridHeight: 1,
                  padding: c.stencilGraphPadding || 10,
                }),
                r || u
              );
            }, !1);
          this.$container.toggleClass('not-found', !r);
        }),
        (r.prototype.isCellMatched = function (t, e, n, i) {
          return (
            !e ||
            !n ||
            Object.keys(n).some(function (r) {
              if ('*' === r || t.shape === r) {
                var o = n[r];
                return 'boolean' == typeof o
                  ? o
                  : (Array.isArray(o) ? o : [o]).some(function (n) {
                      var r = t.getPropByPath(n);
                      return (
                        null != r &&
                        ((r = '' + r),
                        i || (r = r.toLowerCase()),
                        r.indexOf(e) >= 0)
                      );
                    });
              }
              return !1;
            })
          );
        }),
        (r.prototype.onSearch = function (t) {
          this.filter(t.target.value, this.options.search);
        }),
        (r.prototype.onSearchFocusIn = function () {
          this.$container.addClass('is-focused');
        }),
        (r.prototype.onSearchFocusOut = function () {
          this.$container.removeClass('is-focused');
        }),
        (r.prototype.onTitleClick = function () {
          this.options.collapsable &&
            (this.$container.toggleClass('collapsed'),
            this.$container.hasClass('collapsed')
              ? this.collapseGroups()
              : this.expandGroups());
        }),
        (r.prototype.onGroupTitleClick = function (t) {
          var e = this,
            n = this.$(t.target).closest('.' + this.prefixClassName(gg.group));
          this.toggleGroup(n.attr('data-name') || '');
          var i = Object.keys(this.$groups).every(function (t) {
            var n = e.getGroup(t),
              i = e.$groups[t];
            return (n && !1 === n.collapsable) || i.hasClass('collapsed');
          });
          this.$container.toggleClass('collapsed', i);
        }),
        (r.prototype.getModel = function (t) {
          var e = this.getGraph(t);
          return e ? e.model : null;
        }),
        (r.prototype.getGraph = function (t) {
          return this.graphs[t || g$.defaultGroupName];
        }),
        (r.prototype.getGroup = function (t) {
          var e = this.options.groups;
          return null != t && e && e.length
            ? e.find(function (e) {
                return e.name === t;
              })
            : null;
        }),
        (r.prototype.toggleGroup = function (t) {
          return (
            this.isGroupCollapsed(t)
              ? this.expandGroup(t)
              : this.collapseGroup(t),
            this
          );
        }),
        (r.prototype.collapseGroup = function (t) {
          if (this.isGroupCollapsable(t)) {
            var e = this.$groups[t];
            e &&
              !this.isGroupCollapsed(t) &&
              (this.trigger('group:collapse', { name: t }),
              e.addClass('collapsed'));
          }
          return this;
        }),
        (r.prototype.expandGroup = function (t) {
          if (this.isGroupCollapsable(t)) {
            var e = this.$groups[t];
            e &&
              this.isGroupCollapsed(t) &&
              (this.trigger('group:expand', { name: t }),
              e.removeClass('collapsed'));
          }
          return this;
        }),
        (r.prototype.isGroupCollapsable = function (t) {
          return this.$groups[t].hasClass('collapsable');
        }),
        (r.prototype.isGroupCollapsed = function (t) {
          var e = this.$groups[t];
          return e && e.hasClass('collapsed');
        }),
        (r.prototype.collapseGroups = function () {
          var t = this;
          return (
            Object.keys(this.$groups).forEach(function (e) {
              return t.collapseGroup(e);
            }),
            this
          );
        }),
        (r.prototype.expandGroups = function () {
          var t = this;
          return (
            Object.keys(this.$groups).forEach(function (e) {
              return t.expandGroup(e);
            }),
            this
          );
        }),
        (r.prototype.resizeGroup = function (t, e) {
          var n = this.graphs[t];
          return n && n.resize(e.width, e.height), this;
        }),
        (r.prototype.onRemove = function () {
          var t = this;
          Object.keys(this.graphs).forEach(function (e) {
            t.graphs[e].view.remove(), delete t.graphs[e];
          }),
            this.dnd.remove(),
            this.stopListening(),
            this.undelegateDocumentEvents();
        }),
        r
      );
    })(t.View);
  ((gm || (gm = {})).defaultOptions = i(
    {
      stencilGraphWidth: 200,
      stencilGraphHeight: 800,
      title: 'Stencil',
      collapsable: !1,
      placeholder: 'Search',
      notFoundText: 'No matches found',
      layout: function (e, n) {
        !(function (e, n) {
          void 0 === n && (n = {});
          var i = t.Model.isModel(e)
              ? e
              : new t.Model().resetCells(e, { sort: !1, dryrun: !0 }),
            r = i.getNodes(),
            o = n.columns || 1,
            s = Math.ceil(r.length / o),
            a = n.dx || 0,
            l = n.dy || 0,
            u = !1 !== n.center,
            c = !0 === n.resizeToFit,
            h = n.marginX || 0,
            p = n.marginY || 0,
            d = [],
            f = n.columnWidth;
          if ('compact' === f)
            for (var g = 0; g < o; g += 1) {
              var $ = gh.getNodesInColumn(r, g, o);
              d.push(gh.getMaxDim($, 'width') + a);
            }
          else {
            (null != f && 'auto' !== f) || (f = gh.getMaxDim(r, 'width') + a);
            for (var v = 0; v < o; v += 1) d.push(f);
          }
          var y = gh.accumulate(d, h),
            m = [],
            _ = n.rowHeight;
          if ('compact' === _)
            for (v = 0; v < s; v += 1)
              ($ = gh.getNodesInRow(r, v, o)),
                m.push(gh.getMaxDim($, 'height') + l);
          else
            for (
              (null != _ && 'auto' !== _) ||
                (_ = gh.getMaxDim(r, 'height') + l),
                v = 0;
              v < s;
              v += 1
            )
              m.push(_);
          var C = gh.accumulate(m, p);
          i.startBatch('layout'),
            r.forEach(function (t, e) {
              var i = e % o,
                r = Math.floor(e / o),
                s = d[i],
                h = m[r],
                p = 0,
                f = 0,
                g = t.getSize();
              if (c) {
                var $ = s - 2 * a,
                  v = h - 2 * l,
                  _ = g.height * (g.width ? $ / g.width : 1),
                  b = g.width * (g.height ? v / g.height : 1);
                h < _ ? ($ = b) : (v = _),
                  (g = { width: $, height: v }),
                  t.setSize(g, n);
              }
              u && ((p = (s - g.width) / 2), (f = (h - g.height) / 2)),
                t.position(y[i] + a + p, C[r] + l + f, n);
            }),
            i.stopBatch('layout');
        })(
          e,
          i(
            i(
              i(
                {},
                {
                  columnWidth: this.options.stencilGraphWidth / 2 - 10,
                  columns: 2,
                  rowHeight: 80,
                  resizeToFit: !1,
                  dx: 10,
                  dy: 10,
                }
              ),
              this.options.layoutOptions
            ),
            n ? n.layoutOptions : {}
          )
        );
      },
    },
    gf.defaults
  )),
    ((gv = gg || (gg = {})).base = 'widget-stencil'),
    (gv.title = gv.base + '-title'),
    (gv.search = gv.base + '-search'),
    (gv.searchText = gv.search + '-text'),
    (gv.content = gv.base + '-content'),
    (gv.group = gv.base + '-group'),
    (gv.groupTitle = gv.group + '-title'),
    (gv.groupContent = gv.group + '-content'),
    ((g$ || (g$ = {})).defaultGroupName = '__default__');
  var g_ = Object.freeze({
    __proto__: null,
    get AutoSave() {
      return dB;
    },
    Clipboard: gr,
    get Halo() {
      return gc;
    },
    MiniMap: fa,
    get Scroller() {
      return fd;
    },
    Selection: f_,
    Snapline: fu,
    Transform: fA,
    Knob: fr,
    get Dnd() {
      return gf;
    },
    get Stencil() {
      return gm;
    },
  });
  (t.Addon = g_),
    (t.ArrayExt = oE),
    (t.Collection = dl),
    (t.Config = ce),
    (t.Dictionary = cz),
    (t.Disablable = cF),
    (t.DisposableDelegate = cM),
    (t.Dom = lP),
    (t.Events = cT),
    (t.FunctionExt = sn),
    (t.JQuery = d),
    (t.Lang = oP),
    (t.NumberExt = oY),
    (t.ObjectExt = o5),
    (t.Registry = pM),
    (t.Segment = av),
    (t.Shape = dz),
    (t.StringExt = oU),
    (t.Text = s8),
    Object.defineProperty(t, '__esModule', { value: !0 });
});
